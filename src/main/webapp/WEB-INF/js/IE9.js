/*!BC/S - 1.0.0-2020-04-16 */

!function(window,document){function patchConsole(){var e,t,n=function(){},r=["memory"],i="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");if(window&&!window.console){var o;for(window.console={},o=window.console;e=r.pop();)o[e]||(o[e]={});for(;t=i.pop();)o[t]||(o[t]=n)}}function patchHTML5(){!function(e,s){var n,a,t=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,r="_html5shiv",l=0,c={};function p(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function g(){var e=h.elements;return"string"==typeof e?e.split(" "):e}function m(e){var t=c[e[r]];return t||(t={},l++,e[r]=l,c[l]=t),t}function u(e,t,n){return t||(t=s),a?t.createElement(e):(n||(n=m(t)),!(r=n.cache[e]?n.cache[e].cloneNode():o.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||i.test(e)||r.tagUrn?r:n.frag.appendChild(r));var r}function f(e){e||(e=s);var t=m(e);return!h.shivCSS||n||t.hasCSS||(t.hasCSS=!!p(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),a||function r(t,n){n.cache||(n.cache={},n.createElem=t.createElement,n.createFrag=t.createDocumentFragment,n.frag=n.createFrag()),t.createElement=function(e){return h.shivMethods?u(e,t,n):n.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+g().join().replace(/[\w\-:]+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(h,n.frag)}(e,t),e}!function(){try{var e=s.createElement("a");e.innerHTML="<xyz></xyz>",n="hidden"in e,a=1==e.childNodes.length||function(){s.createElement("a");var e=s.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(t){a=n=!0}}();var h={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==t.shivCSS,supportsUnknownElements:a,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:f,createElement:u,createDocumentFragment:function S(e,t){if(e||(e=s),a)return e.createDocumentFragment();for(var n=(t=t||m(e)).frag.cloneNode(),r=0,i=g(),o=i.length;r<o;r++)n.createElement(i[r]);return n},addElements:function T(e,t){var n=h.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),h.elements=n+" "+e,f(t)}};e.html5=h,f(s);var d,b=/^$|\b(?:all|print)\b/,v="html5shiv",y=!(a||(d=s.documentElement,"undefined"==typeof s.namespaces||"undefined"==typeof s.parentWindow||"undefined"==typeof d.applyElement||"undefined"==typeof d.removeNode||"undefined"==typeof e.attachEvent));function k(e){for(var t,n=e.attributes,r=n.length,i=e.ownerDocument.createElement(v+":"+e.nodeName);r--;)(t=n[r]).specified&&i.setAttribute(t.nodeName,t.nodeValue);return i.style.cssText=e.style.cssText,i}function w(u){var f,h,e=m(u),t=u.namespaces,n=u.parentWindow;if(!y||u.printShived)return u;function d(){clearTimeout(e._removeSheetTimer),f&&f.removeNode(!0),f=null}return"undefined"==typeof t[v]&&t.add(v),n.attachEvent("onbeforeprint",function(){d();for(var e,t,n,r=u.styleSheets,i=[],o=r.length,s=Array(o);o--;)s[o]=r[o];for(;n=s.pop();)if(!n.disabled&&b.test(n.media)){try{t=(e=n.imports).length}catch(a){t=0}for(o=0;o<t;o++)s.push(e[o]);try{i.push(n.cssText)}catch(a){}}i=function l(e){for(var t,n=e.split("{"),r=n.length,i=RegExp("(^|[\\s,>+~])("+g().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),o="$1"+v+"\\:$2";r--;)(t=n[r]=n[r].split("}"))[t.length-1]=t[t.length-1].replace(i,o),n[r]=t.join("}");return n.join("{")}(i.reverse().join("")),h=function c(e){for(var t,n=e.getElementsByTagName("*"),r=n.length,i=RegExp("^(?:"+g().join("|")+")$","i"),o=[];r--;)t=n[r],i.test(t.nodeName)&&o.push(t.applyElement(k(t)));return o}(u),f=p(u,i)}),n.attachEvent("onafterprint",function(){!function n(e){for(var t=e.length;t--;)e[t].removeNode()}(h),clearTimeout(e._removeSheetTimer),e._removeSheetTimer=setTimeout(d,500)}),u.printShived=!0,u}h.type+=" print",(h.shivPrint=w)(s),"object"==typeof module&&module.exports&&(module.exports=h)}(void 0!==window?window:this,document),window.html5.shivMethods=!1}function patchWebSockets(){var i="./swf/WebSocketMain.swf",z=function(){var l,c,u,f,a,h,b="undefined",v="object",d="Shockwave Flash",p="application/x-shockwave-flash",g="SWFObjectExprInst",e="onreadystatechange",m=window,y=document,k=navigator,w=!1,i=[function j(){w?function e(){var t=y.getElementsByTagName("body")[0],n=B(v);n.setAttribute("type",p);var r=t.appendChild(n);if(r){var i=0;!function(){if(typeof r.GetVariable!=b){var e=r.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),R.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(i<10)return i++,setTimeout(arguments.callee,10);t.removeChild(n),r=null,C()}()}else C()}():C()}],S=[],T=[],s=[],o=!1,E=!1,r=!0,R=function(){var e=typeof y.getElementById!=b&&typeof y.getElementsByTagName!=b&&typeof y.createElement!=b,t=k.userAgent.toLowerCase(),n=k.platform.toLowerCase(),r=/win/.test(n||t),i=/mac/.test(n||t),o=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,a=[0,0,0],l=null;if(typeof k.plugins!=b&&typeof k.plugins[d]==v)!(l=k.plugins[d].description)||typeof k.mimeTypes!=b&&k.mimeTypes[p]&&!k.mimeTypes[p].enabledPlugin||(s=!(w=!0),l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof m.ActiveXObject!=b)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(l=c.GetVariable("$version"))&&(s=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}catch(u){}return{w3:e,pv:a,wk:o,ie:s,win:r,mac:i}}();R.w3&&((typeof y.readyState!=b&&"complete"==y.readyState||typeof y.readyState==b&&(y.getElementsByTagName("body")[0]||y.body))&&t(),o||(typeof y.addEventListener!=b&&y.addEventListener("DOMContentLoaded",t,!1),R.ie&&R.win&&(y.attachEvent(e,function(){"complete"==y.readyState&&(y.detachEvent(e,arguments.callee),t())}),m==top&&function(){if(!o){try{y.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0)}t()}}()),R.wk&&function(){o||(/loaded|complete/.test(y.readyState)?t():setTimeout(arguments.callee,0))}(),x(t)));function t(){if(!o){try{var e=y.getElementsByTagName("body")[0].appendChild(B("span"));e.parentNode.removeChild(e)}catch(r){return}o=!0;for(var t=i.length,n=0;n<t;n++)i[n]()}}function n(e){o?e():i[i.length]=e}function x(e){if(typeof m.addEventListener!=b)m.addEventListener("load",e,!1);else if(typeof y.addEventListener!=b)y.addEventListener("load",e,!1);else if(typeof m.attachEvent!=b)!function r(e,t,n){e.attachEvent(t,n),s[s.length]=[e,t,n]}(m,"onload",e);else if("function"==typeof m.onload){var t=m.onload;m.onload=function(){t(),e()}}else m.onload=e}function C(){var e=S.length;if(0<e)for(var t=0;t<e;t++){var n=S[t].id,r=S[t].callbackFn,i={success:!1,id:n};if(0<R.pv[0]){var o=L(n);if(o)if(!H(S[t].swfVersion)||R.wk&&R.wk<312)if(S[t].expressInstall&&N()){var s={};s.data=S[t].expressInstall,s.width=o.getAttribute("width")||"0",s.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(s.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(s.align=o.getAttribute("align"));for(var a={},l=o.getElementsByTagName("param"),c=l.length,u=0;u<c;u++)"movie"!=l[u].getAttribute("name").toLowerCase()&&(a[l[u].getAttribute("name")]=l[u].getAttribute("value"));_(s,a,n,r)}else O(o),r&&r(i);else W(n,!0),r&&(i.success=!0,i.ref=I(n),r(i))}else if(W(n,!0),r){var f=I(n);f&&typeof f.SetVariable!=b&&(i.success=!0,i.ref=f),r(i)}}}function I(e){var t=null,n=L(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=b)t=n;else{var r=n.getElementsByTagName(v)[0];r&&(t=r)}return t}function N(){return!E&&H("6.0.65")&&(R.win||R.mac)&&!(R.wk&&R.wk<312)}function _(e,t,n,r){u=r||null,f={success:!(E=!0),id:n};var i=L(n);if(i){c="OBJECT"==i.nodeName?(l=A(i),null):(l=i,n),e.id=g,(typeof e.width==b||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==b||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),y.title=y.title.slice(0,47)+" - Flash Player Installation";var o=R.ie&&R.win?"ActiveX":"PlugIn",s="MMredirectURL="+m.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+y.title;if(typeof t.flashvars!=b?t.flashvars+="&"+s:t.flashvars=s,R.ie&&R.win&&4!=i.readyState){var a=B("div");n+="SWFObjectNew",a.setAttribute("id",n),i.parentNode.insertBefore(a,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}P(e,t,n)}}function O(e){if(R.ie&&R.win&&4!=e.readyState){var t=B("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(A(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(A(e),e)}function A(e){var t=B("div");if(R.win&&R.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(v)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function P(e,t,n){var r,i=L(n);if(R.wk&&R.wk<312)return r;if(i)if(typeof e.id==b&&(e.id=n),R.ie&&R.win){var o="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?o+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+e[s]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",T[T.length]=e.id,r=L(e.id)}else{var c=B(v);for(var u in c.setAttribute("type",p),e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var f in t)t[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&D(c,f,t[f]);i.parentNode.replaceChild(c,i),r=c}return r}function D(e,t,n){var r=B("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function M(e){var t=L(e);t&&"OBJECT"==t.nodeName&&(R.ie&&R.win?(t.style.display="none",function(){4==t.readyState?function r(e){var t=L(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function L(e){var t=null;try{t=y.getElementById(e)}catch(n){}return t}function B(e){return y.createElement(e)}function H(e){var t=R.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function F(e,t,n,r){if(!R.ie||!R.mac){var i=y.getElementsByTagName("head")[0];if(i){var o=n&&"string"==typeof n?n:"screen";if(r&&(h=a=null),!a||h!=o){var s=B("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),a=i.appendChild(s),R.ie&&R.win&&typeof y.styleSheets!=b&&0<y.styleSheets.length&&(a=y.styleSheets[y.styleSheets.length-1]),h=o}R.ie&&R.win?a&&typeof a.addRule==v&&a.addRule(e,t):a&&typeof y.createTextNode!=b&&a.appendChild(y.createTextNode(e+" {"+t+"}"))}}}function W(e,t){if(r){var n=t?"visible":"hidden";o&&L(e)?L(e).style.visibility=n:F("#"+e,"visibility:"+n)}}function U(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=b?encodeURIComponent(e):e}R.ie&&R.win&&window.attachEvent("onunload",function(){for(var e=s.length,t=0;t<e;t++)s[t][0].detachEvent(s[t][1],s[t][2]);for(var n=T.length,r=0;r<n;r++)M(T[r]);for(var i in R)R[i]=null;for(var o in R=null,z)z[o]=null;z=null});return{registerObject:function(e,t,n,r){if(R.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,S[S.length]=i,W(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(R.w3)return I(e)},embedSWF:function(s,a,l,c,u,f,h,d,p,g){var m={success:!1,id:a};R.w3&&!(R.wk&&R.wk<312)&&s&&a&&l&&c&&u?(W(a,!1),n(function(){l+="",c+="";var e={};if(p&&typeof p===v)for(var t in p)e[t]=p[t];e.data=s,e.width=l,e.height=c;var n={};if(d&&typeof d===v)for(var r in d)n[r]=d[r];if(h&&typeof h===v)for(var i in h)typeof n.flashvars!=b?n.flashvars+="&"+i+"="+h[i]:n.flashvars=i+"="+h[i];if(H(u)){var o=P(e,n,a);e.id==a&&W(a,!0),m.success=!0,m.ref=o}else{if(f&&N())return e.data=f,void _(e,n,a,g);W(a,!0)}g&&g(m)})):g&&g(m)},switchOffAutoHideShow:function(){r=!1},ua:R,getFlashPlayerVersion:function(){return{major:R.pv[0],minor:R.pv[1],release:R.pv[2]}},hasFlashPlayerVersion:H,createSWF:function(e,t,n){return R.w3?P(e,t,n):undefined},showExpressInstall:function(e,t,n,r){R.w3&&N()&&_(e,t,n,r)},removeSWF:function(e){R.w3&&M(e)},createCSS:function(e,t,n,r){R.w3&&F(e,t,n,r)},addDomLoadEvent:n,addLoadEvent:x,getQueryParamValue:function(e){var t=y.location.search||y.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return U(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return U(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(E){var e=L(g);e&&l&&(e.parentNode.replaceChild(l,e),c&&(W(c,!0),R.ie&&R.win&&(l.style.display="block")),u&&u(f)),E=!1}}}}();!function(){if(window.WEB_SOCKET_FORCE_FLASH);else{if(window.WebSocket)return;if(window.MozWebSocket)return window.WebSocket=MozWebSocket}var r;r=window.WEB_SOCKET_LOGGER?WEB_SOCKET_LOGGER:window.console&&window.console.log&&window.console.error?window.console:{log:function(){},error:function(){}},z.getFlashPlayerVersion().major<10?r.error("Flash Player >= 10.0.0 is required."):("file:"==location.protocol&&r.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),window.WebSocket=function(e,t,n,r,i){var o=this;o.__id=WebSocket.__nextId++,(WebSocket.__instances[o.__id]=o).readyState=WebSocket.CONNECTING,o.bufferedAmount=0,o.__events={},t?"string"==typeof t&&(t=[t]):t=[],o.__createTask=setTimeout(function(){WebSocket.__addTask(function(){o.__createTask=null,WebSocket.__flash.create(o.__id,e,t,n||null,r||0,i||null)})},0)},WebSocket.prototype.send=function(e){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(e));return t<0||(this.bufferedAmount+=t,!1)},WebSocket.prototype.close=function(){if(this.__createTask)return clearTimeout(this.__createTask),this.__createTask=null,void(this.readyState=WebSocket.CLOSED);this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(e,t,n){e in this.__events||(this.__events[e]=[]),this.__events[e].push(t)},WebSocket.prototype.removeEventListener=function(e,t,n){if(e in this.__events)for(var r=this.__events[e],i=r.length-1;0<=i;--i)if(r[i]===t){r.splice(i,1);break}},WebSocket.prototype.dispatchEvent=function(e){for(var t=this.__events[e.type]||[],n=0;n<t.length;++n)t[n](e);var r=this["on"+e.type];r&&r.apply(this,[e])},WebSocket.prototype.__handleEvent=function(e){var t;if("readyState"in e&&(this.readyState=e.readyState),"protocol"in e&&(this.protocol=e.protocol),"open"==e.type||"error"==e.type)t=this.__createSimpleEvent(e.type);else if("close"==e.type)(t=this.__createSimpleEvent("close")).wasClean=!!e.wasClean,t.code=e.code,t.reason=e.reason;else{if("message"!=e.type)throw"unknown event type: "+e.type;var n=decodeURIComponent(e.message);t=this.__createMessageEvent("message",n)}this.dispatchEvent(t)},WebSocket.prototype.__createSimpleEvent=function(e){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(e,!1,!1),t}return{type:e,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(e,t){if(window.MessageEvent&&"function"==typeof MessageEvent&&!window.opera)return new MessageEvent("message",{view:window,bubbles:!1,cancelable:!1,data:t});if(document.createEvent&&window.MessageEvent&&!window.opera){var n=document.createEvent("MessageEvent");return n.initMessageEvent("message",!1,!1,t,null,null,window,null),n}return{type:e,data:t,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__isFlashImplementation=!0,WebSocket.__initialized=!1,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(e){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(e)})},WebSocket.__initialize=function(){if(!WebSocket.__initialized)if(WebSocket.__initialized=!0,WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){if(!window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&!i.match(/(^|\/)WebSocketMainInsecure\.swf(\?.*)?$/)&&i.match(/^\w+:\/\/([^\/]+)/)){var e=RegExp.$1;location.host!=e&&r.error("[WebSocket] You must host HTML and WebSocketMain.swf in the same host ('"+location.host+"' != '"+e+"'). See also 'How to host HTML file and SWF file in different domains' section in README.md. If you use WebSocketMainInsecure.swf, you can suppress this message by WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;")}var t=document.createElement("div");t.id="webSocketContainer",t.style.position="absolute",WebSocket.__isFlashLite()?(t.style.left="0px",t.style.top="0px"):(t.style.left="-100px",t.style.top="-100px");var n=document.createElement("div");n.id="webSocketFlash",t.appendChild(n),document.body.appendChild(t),z.embedSWF(i,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(e){e.success||r.error("[WebSocket] swfobject.embedSWF failed")})}else r.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var e=0;e<WebSocket.__tasks.length;++e)WebSocket.__tasks[e]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{for(var e=WebSocket.__flash.receiveEvents(),t=0;t<e.length;++t)WebSocket.__instances[e[t].webSocketId].__handleEvent(e[t])}catch(n){r.error(n)}},0),!0},WebSocket.__log=function(e){r.log(decodeURIComponent(e))},WebSocket.__error=function(e){r.error(decodeURIComponent(e))},WebSocket.__addTask=function(e){WebSocket.__flash?e():WebSocket.__tasks.push(e)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var e=window.navigator.mimeTypes["application/x-shockwave-flash"];return!!(e&&e.enabledPlugin&&e.enabledPlugin.filename)&&!!e.enabledPlugin.filename.match(/flashlite/i)},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||z.addDomLoadEvent(function(){WebSocket.__initialize()}))}()}function patchHistory(){!function(u,e){"use strict";var t=u.document,n=u.setTimeout||n,r=u.clearTimeout||r,a=u.setInterval||a,f=u.History=u.History||{};if("undefined"!=typeof f.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");f.initHtml4=function(){if("undefined"!=typeof f.initHtml4.initialized)return!1;f.initHtml4.initialized=!0,f.enabled=!0,f.savedHashes=[],f.isLastHash=function(e){return e===f.getHashByIndex()},f.isHashEqual=function(e,t){return(e=encodeURIComponent(e).replace(/%25/g,"%"))===(t=encodeURIComponent(t).replace(/%25/g,"%"))},f.saveHash=function(e){return!f.isLastHash(e)&&(f.savedHashes.push(e),!0)},f.getHashByIndex=function(e){return void 0===e?f.savedHashes[f.savedHashes.length-1]:e<0?f.savedHashes[f.savedHashes.length+e]:f.savedHashes[e]},f.discardedHashes={},f.discardedStates={},f.discardState=function(e,t,n){var r,i=f.getHashByState(e);return r={discardedState:e,backState:n,forwardState:t},f.discardedStates[i]=r,!0},f.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return f.discardedHashes[e]=r,!0},f.discardedState=function(e){var t=f.getHashByState(e);return f.discardedStates[t]||!1},f.discardedHash=function(e){return f.discardedHashes[e]||!1},f.recycleState=function(e){var t=f.getHashByState(e);return f.discardedState(e)&&delete f.discardedStates[t],!0},f.emulated.hashChange&&(f.hashChangeInit=function(){f.checkerFunction=null;var n,r,i,o="",s=Boolean(f.getHash());return f.isInternetExplorer()?("historyjs-iframe",(n=t.createElement("iframe")).setAttribute("id","historyjs-iframe"),n.setAttribute("src","#"),n.style.display="none",t.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),r="",i=!1,f.checkerFunction=function(){if(i)return!1;i=!0;var e=f.getHash(),t=f.getHash(n.contentWindow.document);return e!==o?(t!==(o=e)&&(r=t=e,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=f.escapeHash(e)),f.Adapter.trigger(u,"hashchange")):t!==r&&(r=t,s&&""===t?f.back():f.setHash(t,!1)),!(i=!1)}):f.checkerFunction=function(){var e=f.getHash()||"";return e!==o&&(o=e,f.Adapter.trigger(u,"hashchange")),!0},f.intervalList.push(a(f.checkerFunction,f.options.hashChangeInterval)),!0},f.Adapter.onDomLoad(f.hashChangeInit)),f.emulated.pushState&&(f.onHashChange=function(e){var t,n,r=e&&e.newURL||f.getLocationHref(),i=f.getHashByUrl(r);return f.isLastHash(i)?(f.busy(!1),!1):(f.doubleCheckComplete(),f.saveHash(i),i&&f.isTraditionalAnchor(i)?(f.Adapter.trigger(u,"anchorchange"),f.busy(!1),!1):(t=f.extractState(f.getFullUrl(i||f.getLocationHref()),!0),f.isLastSavedState(t)?(f.busy(!1),!1):(f.getHashByState(t),(n=f.discardedState(t))?(f.getHashByIndex(-2)===f.getHashByState(n.forwardState)?f.back(!1):f.forward(!1),!1):(f.pushState(t.data,t.title,encodeURI(t.url),!1),!0))))},f.Adapter.bind(u,"hashchange",f.onHashChange),f.pushState=function(e,t,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),f.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==r&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:r}),!1;f.busy(!0);var i=f.createStateObject(e,t,n),o=f.getHashByState(i),s=f.getState(!1),a=f.getHashByState(s),l=f.getHash(),c=f.expectedStateId==i.id;return f.storeState(i),f.expectedStateId=i.id,f.recycleState(i),f.setTitle(i),o===a?(f.busy(!1),!1):(f.saveState(i),c||f.Adapter.trigger(u,"statechange"),f.isHashEqual(o,l)||f.isHashEqual(o,f.getShortUrl(f.getLocationHref()))||f.setHash(o,!1),f.busy(!1),!0)},f.replaceState=function(e,t,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),f.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==r&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:r}),!1;f.busy(!0);var i=f.createStateObject(e,t,n),o=f.getHashByState(i),s=f.getState(!1),a=f.getHashByState(s),l=f.getStateByIndex(-2);return f.discardState(s,i,l),o===a?(f.storeState(i),f.expectedStateId=i.id,f.recycleState(i),f.setTitle(i),f.saveState(i),f.Adapter.trigger(u,"statechange"),f.busy(!1)):f.pushState(i.data,i.title,i.url,!1),!0}),f.emulated.pushState&&f.getHash()&&!f.emulated.hashChange&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(u,"hashchange")})},"undefined"!=typeof f.init&&f.init()}(window),function(s,n){"use strict";var l=s.console||n,c=s.document,i=s.navigator,o=!1,a=s.setTimeout,u=s.clearTimeout,f=s.setInterval,h=s.clearInterval,d=s.JSON,p=s.alert,g=s.History=s.History||{},m=s.history;try{(o=s.sessionStorage).setItem("TEST","1"),o.removeItem("TEST")}catch(b){o=!1}if(d.stringify=d.stringify||d.encode,d.parse=d.parse||d.decode,"undefined"!=typeof g.init)throw new Error("History.js Core has already been loaded...");g.init=function(e){return"undefined"!=typeof g.Adapter&&("undefined"!=typeof g.initCore&&g.initCore(),"undefined"!=typeof g.initHtml4&&g.initHtml4(),!0)},g.initCore=function(e){if("undefined"!=typeof g.initCore.initialized)return!1;if(g.initCore.initialized=!0,g.options=g.options||{},g.options.hashChangeInterval=g.options.hashChangeInterval||100,g.options.safariPollInterval=g.options.safariPollInterval||500,g.options.doubleCheckInterval=g.options.doubleCheckInterval||500,g.options.disableSuid=g.options.disableSuid||!1,g.options.storeInterval=g.options.storeInterval||1e3,g.options.busyDelay=g.options.busyDelay||250,g.options.debug=g.options.debug||!1,g.options.initialTitle=g.options.initialTitle||c.title,g.options.html4Mode=g.options.html4Mode||!1,g.options.delayInit=g.options.delayInit||!1,g.intervalList=[],g.clearAllIntervals=function(){var e,t=g.intervalList;if(null!=t){for(e=0;e<t.length;e++)h(t[e]);g.intervalList=null}},g.debug=function(){g.options.debug&&g.log.apply(g,arguments)},g.log=function(){var e,t,n,r,i,o=!(void 0===l||"undefined"==typeof l.log||"undefined"==typeof l.log.apply),s=c.getElementById("log");for(o?(e=(r=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof l.debug?l.debug.apply(l,[e,r]):l.log.apply(l,[e,r])):e="\n"+arguments[0]+"\n",t=1,n=arguments.length;t<n;++t){if("object"==typeof(i=arguments[t])&&void 0!==d)try{i=d.stringify(i)}catch(a){}e+="\n"+i+"\n"}return s?(s.value+=e+"\n-----\n",s.scrollTop=s.scrollHeight-s.clientHeight):o||p(e),!0},g.getInternetExplorerMajorVersion=function(){return g.getInternetExplorerMajorVersion.cached="undefined"!=typeof g.getInternetExplorerMajorVersion.cached?g.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=c.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&n[0];);return 4<e&&e}()},g.isInternetExplorer=function(){return g.isInternetExplorer.cached="undefined"!=typeof g.isInternetExplorer.cached?g.isInternetExplorer.cached:Boolean(g.getInternetExplorerMajorVersion())},g.options.html4Mode?g.emulated={pushState:!0,hashChange:!0}:g.emulated={pushState:!Boolean(s.history&&s.history.pushState&&s.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent))),hashChange:Boolean(!("onhashchange"in s||"onhashchange"in c)||g.isInternetExplorer()&&g.getInternetExplorerMajorVersion()<8)},g.enabled=!g.emulated.pushState,g.bugs={setHash:Boolean(!g.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!g.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(g.isInternetExplorer()&&g.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(g.isInternetExplorer()&&g.getInternetExplorerMajorVersion()<7)},g.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},g.cloneObject=function(e){var t;return e?(t=d.stringify(e),d.parse(t)):{}},g.getRootUrl=function(){var e=c.location.protocol+"//"+(c.location.hostname||c.location.host);return c.location.port&&(e+=":"+c.location.port),e+="/"},g.getBaseHref=function(){var e=c.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},g.getBaseUrl=function(){return g.getBaseHref()||g.getBasePageUrl()||g.getRootUrl()},g.getPageUrl=function(){return((g.getState(!1,!1)||{}).url||g.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"})},g.getBasePageUrl=function(){return g.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},g.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(n="/"===r?g.getRootUrl()+e.replace(/^\/+/,""):"#"===r?g.getPageUrl().replace(/#.*/,"")+e:"?"===r?g.getPageUrl().replace(/[\?#].*/,"")+e:t?g.getBaseUrl()+e.replace(/^(\.\/)+/,""):g.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},g.getShortUrl=function(e){var t=e,n=g.getBaseUrl(),r=g.getRootUrl();return g.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),g.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},g.getLocationHref=function(e){return(e=e||c).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},g.store={},g.idToState=g.idToState||{},g.stateToId=g.stateToId||{},g.urlToId=g.urlToId||{},g.storedStates=g.storedStates||[],g.savedStates=g.savedStates||[],g.normalizeStore=function(){g.store.idToState=g.store.idToState||{},g.store.urlToId=g.store.urlToId||{},g.store.stateToId=g.store.stateToId||{}},g.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=g.getLastSavedState();return!n&&t&&(n=g.createStateObject()),e&&((n=g.cloneObject(n)).url=n.cleanUrl||n.url),n},g.getIdByState=function(e){var t,n=g.extractId(e.url);if(!n)if(t=g.getStateString(e),"undefined"!=typeof g.stateToId[t])n=g.stateToId[t];else if("undefined"!=typeof g.store.stateToId[t])n=g.store.stateToId[t];else{for(;n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof g.idToState[n]||"undefined"!=typeof g.store.idToState[n];);g.stateToId[t]=n,g.idToState[n]=e}return n},g.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),(t={normalized:!0}).title=e.title||"",t.url=g.getFullUrl(e.url?e.url:g.getLocationHref()),t.hash=g.getShortUrl(t.url),t.data=g.cloneObject(e.data),t.id=g.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!g.isEmptyObject(t.data),(t.title||n)&&!0!==g.options.disableSuid&&(t.hash=g.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=g.getFullUrl(t.hash),(g.emulated.pushState||g.bugs.safariPoll)&&g.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},g.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=g.normalizeState(r)},g.getStateById=function(e){return e=String(e),g.idToState[e]||g.store.idToState[e]||n},g.getStateString=function(e){var t;return t={data:g.normalizeState(e).data,title:e.title,url:e.url},d.stringify(t)},g.getStateId=function(e){return g.normalizeState(e).id},g.getHashByState=function(e){return g.normalizeState(e).hash},g.extractId=function(e){var t,n;return n=-1!=e.indexOf("#")?e.split("#")[0]:e,(t=/(.*)\&_suid=([0-9]+)$/.exec(n))&&t[1]||e,(t?String(t[2]||""):"")||!1},g.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},g.extractState=function(e,t){var n,r,i=null;return t=t||!1,(n=g.extractId(e))&&(i=g.getStateById(n)),i||(r=g.getFullUrl(e),(n=g.getIdByUrl(r)||!1)&&(i=g.getStateById(n)),i||!t||g.isTraditionalAnchor(e)||(i=g.createStateObject(null,null,r))),i},g.getIdByUrl=function(e){return g.urlToId[e]||g.store.urlToId[e]||n},g.getLastSavedState=function(){return g.savedStates[g.savedStates.length-1]||n},g.getLastStoredState=function(){return g.storedStates[g.storedStates.length-1]||n},g.hasUrlDuplicate=function(e){var t;return(t=g.extractState(e.url))&&t.id!==e.id},g.storeState=function(e){return g.urlToId[e.url]=e.id,g.storedStates.push(g.cloneObject(e)),e},g.isLastSavedState=function(e){var t=!1;return g.savedStates.length&&(t=e.id===g.getLastSavedState().id),t},g.saveState=function(e){return!g.isLastSavedState(e)&&(g.savedStates.push(g.cloneObject(e)),!0)},g.getStateByIndex=function(e){return void 0===e?g.savedStates[g.savedStates.length-1]:e<0?g.savedStates[g.savedStates.length+e]:g.savedStates[e]},g.getCurrentIndex=function(){return g.savedStates.length<1?0:g.savedStates.length-1},g.getHash=function(e){var t=g.getLocationHref(e);return g.getHashByUrl(t)},g.unescapeHash=function(e){var t=g.normalizeHash(e);return t=decodeURIComponent(t)},g.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},g.setHash=function(e,t){var n,r;return!1!==t&&g.busy()?(g.pushQueue({scope:g,callback:g.setHash,args:arguments,queue:t}),!1):(g.busy(!0),(n=g.extractState(e,!0))&&!g.emulated.pushState?g.pushState(n.data,n.title,n.url,!1):g.getHash()!==e&&(g.bugs.setHash?(r=g.getPageUrl(),g.pushState(null,null,r+"#"+e,!1)):c.location.hash=e),g)},g.escapeHash=function(e){var t=g.normalizeHash(e);return t=s.encodeURIComponent(t),g.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},g.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=g.unescapeHash(t)},g.setTitle=function(e){var t,n=e.title;n||(t=g.getStateByIndex(0))&&t.url===e.url&&(n=t.title||g.options.initialTitle);try{c.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return c.title=n,g},g.queues=[],g.busy=function(e){if(void 0!==e?g.busy.flag=e:"undefined"==typeof g.busy.flag&&(g.busy.flag=!1),!g.busy.flag){u(g.busy.timeout);var r=function(){var e,t,n;if(!g.busy.flag)for(e=g.queues.length-1;0<=e;--e)0!==(t=g.queues[e]).length&&(n=t.shift(),g.fireQueueItem(n),g.busy.timeout=a(r,g.options.busyDelay))};g.busy.timeout=a(r,g.options.busyDelay)}return g.busy.flag},g.busy.flag=!1,g.fireQueueItem=function(e){return e.callback.apply(e.scope||g,e.args||[])},g.pushQueue=function(e){return g.queues[e.queue||0]=g.queues[e.queue||0]||[],g.queues[e.queue||0].push(e),g},g.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),g.busy()?g.pushQueue(e):g.fireQueueItem(e),g},g.clearQueue=function(){return g.busy.flag=!1,g.queues=[],g},g.stateChanged=!1,g.doubleChecker=!1,g.doubleCheckComplete=function(){return g.stateChanged=!0,g.doubleCheckClear(),g},g.doubleCheckClear=function(){return g.doubleChecker&&(u(g.doubleChecker),g.doubleChecker=!1),g},g.doubleCheck=function(e){return g.stateChanged=!1,g.doubleCheckClear(),g.bugs.ieDoubleCheck&&(g.doubleChecker=a(function(){return g.doubleCheckClear(),g.stateChanged||e(),!0},g.options.doubleCheckInterval)),g},g.safariStatePoll=function(){var e=g.extractState(g.getLocationHref());if(!g.isLastSavedState(e))return e||g.createStateObject(),g.Adapter.trigger(s,"popstate"),g},g.back=function(e){return!1!==e&&g.busy()?(g.pushQueue({scope:g,callback:g.back,args:arguments,queue:e}),!1):(g.busy(!0),g.doubleCheck(function(){g.back(!1)}),m.go(-1),!0)},g.forward=function(e){return!1!==e&&g.busy()?(g.pushQueue({scope:g,callback:g.forward,args:arguments,queue:e}),!1):(g.busy(!0),g.doubleCheck(function(){g.forward(!1)}),m.go(1),!0)},g.go=function(e,t){var n;if(0<e)for(n=1;n<=e;++n)g.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;e<=n;--n)g.back(t)}return g},g.emulated.pushState){var t=function(){};g.pushState=g.pushState||t,g.replaceState=g.replaceState||t}else g.onPopState=function(e,t){var n,r,i,o=!1;return g.doubleCheckComplete(),(r=g.getHash())?((i=g.extractState(r||g.getLocationHref(),!0))?g.replaceState(i.data,i.title,i.url,!1):(g.Adapter.trigger(s,"anchorchange"),g.busy(!1)),g.expectedStateId=!1):((o=(n=g.Adapter.extractEventData("state",e,t)||!1)?g.getStateById(n):g.expectedStateId?g.getStateById(g.expectedStateId):g.extractState(g.getLocationHref()))||(o=g.createStateObject(null,null,g.getLocationHref())),g.expectedStateId=!1,g.isLastSavedState(o)?(g.busy(!1),!1):(g.storeState(o),g.saveState(o),g.setTitle(o),g.Adapter.trigger(s,"statechange"),g.busy(!1),!0))},g.Adapter.bind(s,"popstate",g.onPopState),g.pushState=function(e,t,n,r){if(g.getHashByUrl(n)&&g.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&g.busy())return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:r}),!1;g.busy(!0);var i=g.createStateObject(e,t,n);return g.isLastSavedState(i)?g.busy(!1):(g.storeState(i),g.expectedStateId=i.id,m.pushState(i.id,i.title,i.url),g.Adapter.trigger(s,"popstate")),!0},g.replaceState=function(e,t,n,r){if(g.getHashByUrl(n)&&g.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&g.busy())return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:r}),!1;g.busy(!0);var i=g.createStateObject(e,t,n);return g.isLastSavedState(i)?g.busy(!1):(g.storeState(i),g.expectedStateId=i.id,m.replaceState(i.id,i.title,i.url),g.Adapter.trigger(s,"popstate")),!0};if(o){try{g.store=d.parse(o.getItem("History.store"))||{}}catch(r){g.store={}}g.normalizeStore()}else g.store={},g.normalizeStore();g.Adapter.bind(s,"unload",g.clearAllIntervals),g.saveState(g.storeState(g.extractState(g.getLocationHref(),!0))),o&&(g.onUnload=function(){var e,t,n;try{e=d.parse(o.getItem("History.store"))||{}}catch(r){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},g.idToState)g.idToState.hasOwnProperty(t)&&(e.idToState[t]=g.idToState[t]);for(t in g.urlToId)g.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=g.urlToId[t]);for(t in g.stateToId)g.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=g.stateToId[t]);g.store=e,g.normalizeStore(),n=d.stringify(e);try{o.setItem("History.store",n)}catch(b){if(b.code!==DOMException.QUOTA_EXCEEDED_ERR)throw b;o.length&&(o.removeItem("History.store"),o.setItem("History.store",n))}},g.intervalList.push(f(g.onUnload,g.options.storeInterval)),g.Adapter.bind(s,"beforeunload",g.onUnload),g.Adapter.bind(s,"unload",g.onUnload)),g.emulated.pushState||(g.bugs.safariPoll&&g.intervalList.push(f(g.safariStatePoll,g.options.safariPollInterval)),"Apple Computer, Inc."!==i.vendor&&"Mozilla"!==(i.appCodeName||"")||(g.Adapter.bind(s,"hashchange",function(){g.Adapter.trigger(s,"popstate")}),g.getHash()&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(s,"hashchange")})))},g.options&&g.options.delayInit||g.init()}(window),function(n,e){"use strict";var s=n.History=n.History||{};if("undefined"!=typeof s.Adapter)throw new Error("History.js Adapter has already been loaded...");s.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=s.Adapter._uid++)},bind:function(e,t,n){var r,i,o=s.Adapter.uid(e);s.Adapter.handlers[o]=s.Adapter.handlers[o]||{},s.Adapter.handlers[o][t]=s.Adapter.handlers[o][t]||[],s.Adapter.handlers[o][t].push(n),e["on"+t]=(r=e,i=t,function(e){s.Adapter.trigger(r,i,e)})},trigger:function(e,t,n){n=n||{};var r,i,o=s.Adapter.uid(e);for(s.Adapter.handlers[o]=s.Adapter.handlers[o]||{},s.Adapter.handlers[o][t]=s.Adapter.handlers[o][t]||[],r=0,i=s.Adapter.handlers[o][t].length;r<i;++r)s.Adapter.handlers[o][t][r].apply(this,[n])},extractEventData:function(e,t){return t&&t[e]||void 0},onDomLoad:function(e){var t=n.setTimeout(function(){e()},2e3);n.onload=function(){clearTimeout(t),e()}}},"undefined"!=typeof s.init&&s.init()}(window)}function patchCSS3(){!function(t,W){var n,s,a,j=t.PIE||(t.PIE={});j.merge=function(e){var t,n,r,i,o=arguments;for(t=1,n=o.length;t<n;t++)for(r in i=o[t])i.hasOwnProperty(r)&&(e[r]=i[r]);return e},j.merge(j,{CSS_PREFIX:"-pie-",STYLE_PREFIX:"Pie",CLASS_PREFIX:"pie_",tableCellTags:{TD:1,TH:1},childlessElements:{TABLE:1,THEAD:1,TBODY:1,TFOOT:1,TR:1,INPUT:1,TEXTAREA:1,SELECT:1,OPTION:1,IMG:1,HR:1},focusableElements:{A:1,INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1},inputButtonTypes:{submit:1,button:1,reset:1},emptyFn:function(){}});try{W.execCommand("BackgroundImageCache",!1,!0)}catch(e){}!function(){for(var e,t=4,n=W.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",r[0];);6===(j.ieVersion=t)&&(j.CSS_PREFIX=j.CSS_PREFIX.replace(/^-/,"")),j.ieDocMode=W.documentMode||j.ieVersion,n.innerHTML='<v:shape adj="1"/>',(e=n.firstChild).style.behavior="url(#default#VML)",j.supportsVML="object"==typeof e.adj}(),n=0,s={},j.Util={getUID:function(e){return e&&e._pieId||(e._pieId="_"+n++)},withImageSize:function(n,e,t){var r,i,o=s[n];o?"[object Array]"===Object.prototype.toString.call(o)?o.push([e,t]):e.call(t,o):(i=s[n]=[[e,t]],(r=new Image).onload=function(){o=s[n]={w:r.width,h:r.height};for(var e=0,t=i.length;e<t;e++)i[e][0].call(i[e][1],o);r.onload=null},r.src=n)}},j.GradientUtil={toSideAngles:{top:0,right:90,bottom:180,left:270},getGradientMetrics:function(e,t,n,r){var i,o,s,a,l,c,u,f=r.angle,h=r.gradientTo;for(f=f?f.degrees():h?h[1]?(i="top"==h[0]||"top"==h[1]?t:-t,o="left"==h[0]||"left"==h[1]?-n:n,180*Math.atan2(o,i)/Math.PI):this.toSideAngles[h[0]]:180;f<0;)f+=360;return{angle:f%=360,endX:c=(s=j.GradientUtil.perpendicularIntersect(t/2,n/2,f,180<=f?0:t,f<90||270<f?0:n))[0],endY:u=s[1],startX:a=t-c,startY:l=n-u,lineLength:j.GradientUtil.distance(a,l,c,u)}},perpendicularIntersect:function(e,t,n,r,i){if(0===n||180===n)return[e,i];if(90===n||270===n)return[r,t];var o=Math.tan((n-90)*Math.PI/180),s=o*e-t,a=-1/o,l=a*r-i,c=a-o;return[(l-s)/c,(o*l-a*s)/c]},distance:function(e,t,n,r){var i=n-e,o=r-t;return Math.abs(0===i?o:0===o?i:Math.sqrt(i*i+o*o))}},j.Observable=function(){this.observers=[],this.indexes={}},j.Observable.prototype={observe:function(e){var t=j.Util.getUID(e),n=this.indexes,r=this.observers;t in n||(n[t]=r.length,r.push(e))},unobserve:function(e){var t=j.Util.getUID(e),n=this.indexes;t&&t in n&&(delete this.observers[n[t]],delete n[t])},fire:function(){for(var e=this.observers,t=e.length;t--;)e[t]&&e[t]()}},j.Heartbeat=new j.Observable,j.Heartbeat.run=function(){var e,t=this;t.running||(e=W.documentElement.currentStyle.getAttribute(j.CSS_PREFIX+"poll-interval")||250,function n(){t.fire(),setTimeout(n,e)}(),t.running=1)},j.OnUnload=new j.Observable,t.attachEvent("onunload",function r(){j.OnUnload.fire(),t.detachEvent("onunload",r),t.PIE=null}),j.OnUnload.attachManagedEvent=function(e,t,n){e.attachEvent(t,n),this.observe(function(){e.detachEvent(t,n)})},j.OnResize=new j.Observable,j.OnUnload.attachManagedEvent(t,"onresize",function(){j.OnResize.fire()}),function(){function e(){j.OnScroll.fire()}j.OnScroll=new j.Observable,j.OnUnload.attachManagedEvent(t,"onscroll",e),j.OnResize.observe(e)}(),j.OnMouseup=new j.Observable,j.OnUnload.attachManagedEvent(W,"onmouseup",function(){j.OnMouseup.fire()}),j.Length=function(){var o=W.createElement("length-calc"),e=W.body||W.documentElement,t=o.style,i={},n=["mm","cm","in","pt","pc"],r=n.length,s={};for(t.position="absolute",t.top=t.left="-9999px",e.appendChild(o);r--;)t.width="100"+n[r],i[n[r]]=o.offsetWidth/100;function a(e){this.val=e}return e.removeChild(o),t.width="1em",a.prototype={unitRE:/(px|em|ex|mm|cm|in|pt|pc|%)$/,getNumber:function(){var e=this.num;return void 0===e&&(e=this.num=parseFloat(this.val)),e},getUnit:function(){var e,t=this.unit;return t||(e=this.val.match(this.unitRE),t=this.unit=e&&e[0]||"px"),t},isPercentage:function(){return"%"===this.getUnit()},pixels:function(e,t){var n=this.getNumber(),r=this.getUnit();switch(r){case"px":return n;case"%":return n*("function"==typeof t?t():t)/100;case"em":return n*this.getEmPixels(e);case"ex":return n*this.getEmPixels(e)/2;default:return n*i[r]}},getEmPixels:function(e){var t,n,r,i=e.currentStyle.fontSize;return 0<i.indexOf("px")?parseFloat(i):e.tagName in j.childlessElements?(r=this,n=e.parentNode,j.getLength(i).pixels(n,function(){return r.getEmPixels(n)})):(e.appendChild(o),t=o.offsetWidth,o.parentNode===e&&e.removeChild(o),t)}},a.pxToPt=function(e){return e/i.pt},j.getLength=function(e){return s[e]||(s[e]=new a(e))},a}(),j.BgPosition=function(){var a=j.getLength("50%"),l={top:1,center:1,bottom:1},c={left:1,center:1,right:1};function e(e){this.tokens=e}return e.prototype={getValues:function(){if(!this._values){var e=this.tokens,t=e.length,n=j.Tokenizer,r=n.Type,i=j.getLength("0"),o=r.IDENT,s=(r.LENGTH,r.PERCENT,["left",i,"top",i]);1===t&&(e.push(new n.Token(o,"center")),t++),2===t&&(o&(e[0].tokenType|e[1].tokenType)&&e[0].tokenValue in l&&e[1].tokenValue in c&&e.push(e.shift()),e[0].tokenType&o?"center"===e[0].tokenValue?s[1]=a:s[0]=e[0].tokenValue:e[0].isLengthOrPercent()&&(s[1]=j.getLength(e[0].tokenValue)),e[1].tokenType&o?"center"===e[1].tokenValue?s[3]=a:s[2]=e[1].tokenValue:e[1].isLengthOrPercent()&&(s[3]=j.getLength(e[1].tokenValue))),this._values=s}return this._values},coords:function(e,t,n){var r=this.getValues(),i=r[1].pixels(e,t),o=r[3].pixels(e,n);return{x:"right"===r[0]?t-i:i,y:"bottom"===r[2]?n-o:o}}},e}(),j.BgSize=function(){var c="auto";function e(e,t){this.w=e,this.h=t}return e.prototype={pixels:function(e,t,n,r,i){var o=this.w,s=this.h,a=t/n,l=r/i;return"contain"===o?(o=a<l?t:n*l,s=a<l?t/l:n):"cover"===o?(o=l<a?t:n*l,s=l<a?t/l:n):o===c?o=(s=s===c?i:s.pixels(e,n))*l:(o=o.pixels(e,t),s=s===c?o/l:s.pixels(e,n)),{w:o,h:s}}},e.DEFAULT=new e(c,c),e}(),j.Angle=function(){function e(e){this.val=e}return e.prototype={unitRE:/[a-z]+$/i,getUnit:function(){return this._unit||(this._unit=this.val.match(this.unitRE)[0].toLowerCase())},degrees:function(){var e,t,n=this._deg;return n===undefined&&(e=this.getUnit(),t=parseFloat(this.val,10),n=this._deg="deg"===e?t:"rad"===e?t/Math.PI*180:"grad"===e?t/400*360:"turn"===e?360*t:0),n}},e}(),j.Color=function(){function u(e,t,n){return n<0?n+=1:1<n&&(n-=1),255*(6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e)}var t={};function s(e){this.val=e}s.rgbOrRgbaRE=/\s*rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(\d+|\d*\.\d+))?\s*\)\s*/,s.hslOrHslaRE=/\s*hsla?\(\s*(\d*\.?\d+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(,\s*(\d+|\d*\.\d+))?\s*\)\s*/,s.names={};for(var e,n="black|0|navy|3k|darkblue|b|mediumblue|1u|blue|1e|darkgreen|jk1|green|5j4|teal|3k|darkcyan|26j|deepskyblue|ad0|darkturquoise|2xe|mediumspringgreen|8nd|lime|va|springgreen|3j|aqua|3k|cyan|0|midnightblue|xunl|dodgerblue|7ogf|lightseagreen|2zsb|forestgreen|2lbs|seagreen|guut|darkslategray|12pk|limegreen|4wkj|mediumseagreen|dwlb|turquoise|5v8f|royalblue|r2p|steelblue|75qr|darkslateblue|2fh3|mediumturquoise|ta9|indigo|32d2|darkolivegreen|emr1|cadetblue|ebu9|cornflowerblue|6z4d|mediumaquamarine|3459|dimgray|3nwf|slateblue|1bok|olivedrab|1opi|slategray|6y5p|lightslategray|9vk9|mediumslateblue|5g0l|lawngreen|27ma|chartreuse|48ao|aquamarine|5w|maroon|18|purple|3k|olive|p6o|gray|3k|lightslateblue|5j7j|skyblue|4q98|lightskyblue|f|blueviolet|3bhk|darkred|15we|darkmagenta|3v|saddlebrown|djc|darkseagreen|69vg|lightgreen|1og1|mediumpurple|3ivc|darkviolet|sfv|palegreen|6zt1|darkorchid|awk|yellowgreen|292e|sienna|7r3v|brown|6sxp|darkgray|6bgf|lightblue|5vlp|greenyellow|7k9|paleturquoise|2pxb|lightsteelblue|169c|powderblue|5jc|firebrick|1rgc|darkgoldenrod|8z55|mediumorchid|2jm0|rosybrown|34jg|darkkhaki|1mfw|silver|49jp|mediumvioletred|8w5h|indianred|8tef|peru|82r|violetred|3ntd|feldspar|212d|chocolate|16eh|tan|ewe|lightgrey|1kqv|palevioletred|6h8g|metle|fnp|orchid|2dj2|goldenrod|abu|crimson|20ik|gainsboro|13mo|plum|12pt|burlywood|1j8q|lightcyan|3794|lavender|8agr|darksalmon|3rsw|violet|6wz8|palegoldenrod|k3g|lightcoral|28k6|khaki|k5o|aliceblue|3n7|honeydew|1dd|azure|f|sandybrown|5469|wheat|1q37|beige|4kp|whitesmoke|p|mintcream|1z9|ghostwhite|46bp|salmon|25bn|antiquewhite|l7p|linen|zz|lightgoldenrodyellow|1yk|oldlace|46qc|red|1gka|magenta|73|fuchsia|0|deeppink|3v8|orangered|9kd|tomato|5zb|hotpink|19p|coral|49o|darkorange|2i8|lightsalmon|41m|orange|w6|lightpink|3i9|pink|1ze|gold|4dx|peachpuff|qh|navajowhite|s4|moccasin|16w|bisque|f|mistyrose|t|blanchedalmond|1d8|papayawhip|so|lavenderblush|80|seashell|zd|cornsilk|ku|lemonchiffon|dt|floralwhite|z|snow|a|yellow|sm|lightyellow|68|ivory|g|white|f".split("|"),r=0,i=n.length,o=0;r<i;r+=2)e=(o+=parseInt(n[r+1],36)).toString(16),s.names[n[r]]="#000000".slice(0,-e.length)+e;return s.prototype={parse:function(){if(!this._color){var e,t,n,r,i=this,o=i.val;e=(n=o.match(s.rgbOrRgbaRE))?(o=i.rgbToHex(+n[1],+n[2],+n[3]),n[5]?+n[5]:1):(n=o.match(s.hslOrHslaRE))?(r=function c(e,t,n){var r,i,o,s,a,l=Math.round;return n/=100,(t/=100)?(o=u(r=2*n-(i=n<=.5?n*(t+1):n+t-n*t),i,(e=e%360/360)+1/3),s=u(r,i,e),a=u(r,i,e-1/3)):o=s=a=255*n,{r:l(o),g:l(s),b:l(a)}}(n[1],n[2],n[3]),o=i.rgbToHex(r.r,r.g,r.b),n[5]?+n[5]:1):(s.names.hasOwnProperty(t=o.toLowerCase())&&(o=s.names[t]),"transparent"===o?0:1),i._color=o,i._alpha=e}},rgbToHex:function(e,t,n){return"#"+(e<16?"0":"")+e.toString(16)+(t<16?"0":"")+t.toString(16)+(n<16?"0":"")+n.toString(16)},colorValue:function(e){return this.parse(),"currentColor"===this._color?j.getColor(e.currentStyle.color).colorValue(e):this._color},hexValue:function(e){var t=this.colorValue(e);function n(e){return t.charAt(e)}return"transparent"===t&&(t="#000"),"#"===n(0)&&4===t.length&&(t="#"+n(1)+n(1)+n(2)+n(2)+n(3)+n(3)),t},alpha:function(){return this.parse(),this._alpha}},j.getColor=function(e){return t[e]||(t[e]=new s(e))},s}(),j.Tokenizer=function(){function d(e){this.css=e,this.ch=0,this.tokens=[],this.tokenIndex=0}var p=d.Type={ANGLE:1,CHARACTER:2,COLOR:4,DIMEN:8,FUNCTION:16,IDENT:32,LENGTH:64,NUMBER:128,OPERATOR:256,PERCENT:512,STRING:1024,URL:2048};return(d.Token=function(e,t){this.tokenType=e,this.tokenValue=t}).prototype={isLength:function(){return this.tokenType&p.LENGTH||this.tokenType&p.NUMBER&&"0"===this.tokenValue},isLengthOrPercent:function(){return this.isLength()||this.tokenType&p.PERCENT}},d.prototype={whitespace:/\s/,number:/^[\+\-]?(\d*\.)?\d+/,url:/^url\(\s*("([^"]*)"|'([^']*)'|([!#$%&*-~]*))\s*\)/i,ident:/^\-?[_a-z][\w-]*/i,string:/^("([^"]*)"|'([^']*)')/,operator:/^[\/,]/,hash:/^#[\w]+/,hashColor:/^#([\da-f]{6}|[\da-f]{3})/i,unitTypes:{px:p.LENGTH,em:p.LENGTH,ex:p.LENGTH,mm:p.LENGTH,cm:p.LENGTH,"in":p.LENGTH,pt:p.LENGTH,pc:p.LENGTH,deg:p.ANGLE,rad:p.ANGLE,grad:p.ANGLE},colorFunctions:{rgb:1,rgba:1,hsl:1,hsla:1},next:function(r){var e,t,n,i,o,s=this;function a(e,t){var n=new d.Token(e,t);return r||(s.tokens.push(n),s.tokenIndex++),n}function l(){return s.tokenIndex++,null}if(this.tokenIndex<this.tokens.length)return this.tokens[this.tokenIndex++];for(;this.whitespace.test(this.css.charAt(this.ch));)this.ch++;if(this.ch>=this.css.length)return l();switch(t=this.ch,n=(e=this.css.substring(this.ch)).charAt(0)){case"#":if(i=e.match(this.hashColor))return this.ch+=i[0].length,a(p.COLOR,i[0]);break;case'"':case"'":if(i=e.match(this.string))return this.ch+=i[0].length,a(p.STRING,i[2]||i[3]||"");break;case"/":case",":return this.ch++,a(p.OPERATOR,n);case"u":if(i=e.match(this.url))return this.ch+=i[0].length,a(p.URL,i[2]||i[3]||i[4]||"")}if(i=e.match(this.number))return o=i[0],this.ch+=o.length,"%"===e.charAt(o.length)?(this.ch++,a(p.PERCENT,o+"%")):(i=e.substring(o.length).match(this.ident))?(o+=i[0],this.ch+=i[0].length,a(this.unitTypes[i[0].toLowerCase()]||p.DIMEN,o)):a(p.NUMBER,o);if(i=e.match(this.ident)){if(o=i[0],this.ch+=o.length,o.toLowerCase()in j.Color.names||"currentColor"===o||"transparent"===o)return a(p.COLOR,o);if("("!==e.charAt(o.length))return a(p.IDENT,o);if(this.ch++,o.toLowerCase()in this.colorFunctions){function c(e){return e&&e.tokenType&p.NUMBER}function u(e){return e&&e.tokenType&(p.NUMBER|p.PERCENT)}function f(e,t){return e&&e.tokenValue===t}function h(){return s.next(1)}return("r"===o.charAt(0)?u(h()):c(h()))&&f(h(),",")&&u(h())&&f(h(),",")&&u(h())&&("rgb"===o||"hsa"===o||f(h(),",")&&c(h()))&&f(h(),")")?a(p.COLOR,this.css.substring(t,this.ch)):l()}return a(p.FUNCTION,o)}return this.ch++,a(p.CHARACTER,n)},hasNext:function(){var e=this.next();return this.prev(),!!e},prev:function(){return this.tokens[this.tokenIndex---2]},all:function(){for(;this.next(););return this.tokens},until:function(e,require){for(var t,n,r=[];t=this.next();){if(e(t)){n=!0,this.prev();break}r.push(t)}return require&&!n?null:r}},d}(),j.BoundsInfo=function(e){this.targetElement=e},j.BoundsInfo.prototype={_locked:0,positionChanged:function(){var e,t=this._lastBounds;return!t||(e=this.getBounds())&&(t.x!==e.x||t.y!==e.y)},sizeChanged:function(){var e,t=this._lastBounds;return!t||(e=this.getBounds())&&(t.w!==e.w||t.h!==e.h)},getLiveBounds:function(){var e=this.targetElement,t=e.getBoundingClientRect(),n=9===j.ieDocMode,r=7===j.ieVersion,i=t.right-t.left;return{x:t.left,y:t.top,w:n||r?e.offsetWidth:i,h:n||r?e.offsetHeight:t.bottom-t.top,logicalZoomRatio:r&&i?e.offsetWidth/i:1}},getBounds:function(){return this._locked?this._lockedBounds||(this._lockedBounds=this.getLiveBounds()):this.getLiveBounds()},hasBeenQueried:function(){return!!this._lastBounds},lock:function(){++this._locked},unlock:function(){--this._locked||(this._lockedBounds&&(this._lastBounds=this._lockedBounds),this._lockedBounds=null)}},function(){function e(t){var n=j.Util.getUID(t);return function(){if(this._locked){var e=this._lockedValues||(this._lockedValues={});return n in e?e[n]:e[n]=t.call(this)}return t.call(this)}}j.StyleInfoBase={_locked:0,newStyleInfo:function(e){function t(e){this.targetElement=e,this._lastCss=this.getCss()}return j.merge(t.prototype,j.StyleInfoBase,e),t._propsCache={},t},getProps:function(){var e=this.getCss(),t=this.constructor._propsCache;return e?e in t?t[e]:t[e]=this.parseCss(e):null},getCss:e(function(){var e=this.targetElement,t=this.constructor,n=e.style,r=e.currentStyle,i=this.cssProperty,o=this.styleProperty,s=t._prefixedCssProp||(t._prefixedCssProp=j.CSS_PREFIX+i);return n[t._prefixedStyleProp||(t._prefixedStyleProp=j.STYLE_PREFIX+o.charAt(0).toUpperCase()+o.substring(1))]||r.getAttribute(s)||n[o]||r.getAttribute(i)}),isActive:e(function(){return!!this.getProps()}),changed:e(function(){var e=this.getCss(),t=e!==this._lastCss;return this._lastCss=e,t}),cacheWhenLocked:e,lock:function(){++this._locked},unlock:function(){--this._locked||delete this._lockedValues}}}(),j.BackgroundStyleInfo=j.StyleInfoBase.newStyleInfo({cssProperty:j.CSS_PREFIX+"background",styleProperty:j.STYLE_PREFIX+"Background",attachIdents:{scroll:1,fixed:1,local:1},repeatIdents:{"repeat-x":1,"repeat-y":1,repeat:1,"no-repeat":1},originAndClipIdents:{"padding-box":1,"border-box":1,"content-box":1},positionIdents:{top:1,right:1,bottom:1,left:1,center:1},sizeIdents:{contain:1,cover:1},tbIdents:{top:1,bottom:1},lrIdents:{left:1,right:1},propertyNames:{CLIP:"backgroundClip",COLOR:"backgroundColor",IMAGE:"backgroundImage",ORIGIN:"backgroundOrigin",POSITION:"backgroundPosition",REPEAT:"backgroundRepeat",SIZE:"backgroundSize"},parseCss:function(e){var t,n,r,i,o,s,a,l,c,u,f,h,d,p=this.targetElement.currentStyle,g=j.Tokenizer.Type,m=g.OPERATOR,b=g.IDENT,v=g.COLOR,y=0,k=this.positionIdents,w={bgImages:[]};function S(e){return e&&e.isLengthOrPercent()||e.tokenType&b&&e.tokenValue in k}function T(e){return e&&(e.isLengthOrPercent()&&j.getLength(e.tokenValue)||"auto"===e.tokenValue&&"auto")}if(this.getCss3()){for(t=new j.Tokenizer(e),r={};n=t.next();)if(i=n.tokenType,o=n.tokenValue,!r.imgType&&i&g.FUNCTION&&"linear-gradient"===o)for(s={stops:[],imgType:o},a={};n=t.next();){if(i=n.tokenType,o=n.tokenValue,i&g.CHARACTER&&")"===o){a.color&&s.stops.push(a),1<s.stops.length&&j.merge(r,s);break}if(i&v){if(s.angle||s.gradientTo){if((n=t.prev()).tokenType!==m)break;t.next()}a={color:j.getColor(o)},(n=t.next()).isLengthOrPercent()?a.offset=j.getLength(n.tokenValue):t.prev()}else if(!(i&g.ANGLE)||s.angle||s.gradientTo||a.color||s.stops.length)if(!(i&g.IDENT&&"to"===o)||s.gradientTo||s.angle||a.color||s.stops.length){if(!(i&m&&","===o))break;a.color&&(s.stops.push(a),a={})}else{if(h=this.tbIdents,d=this.lrIdents,f=(u=t.until(function(e){return!(e&&e.tokenType&g.IDENT&&(e.tokenValue in h||e.tokenValue in d))})).length,u=[u[0]&&u[0].tokenValue,u[1]&&u[1].tokenValue],f<1||2<f||1<f&&(u[0]in h&&u[1]in h||u[0]in d&&u[1]in d))break;s.gradientTo=u}else s.angle=new j.Angle(n.tokenValue)}else if(!r.imgType&&i&g.URL)r.imgUrl=o,r.imgType="image";else if(S(n)&&!r.bgPosition)t.prev(),r.bgPosition=new j.BgPosition(t.until(function(e){return!S(e)},!1));else if(i&b)if(o in this.repeatIdents&&!r.imgRepeat)r.imgRepeat=o;else if(o in this.originAndClipIdents&&!r.bgOrigin)r.bgOrigin=o,(n=t.next())&&n.tokenType&b&&n.tokenValue in this.originAndClipIdents?r.bgClip=n.tokenValue:(r.bgClip=o,t.prev());else{if(!(o in this.attachIdents)||r.bgAttachment)return null;r.bgAttachment=o}else if(i&v&&!w.color)w.color=j.getColor(o);else if(i&m&&"/"===o&&!r.bgSize&&r.bgPosition)if((n=t.next()).tokenType&b&&n.tokenValue in this.sizeIdents)r.bgSize=new j.BgSize(n.tokenValue);else{if(!(l=T(n)))return null;(c=T(t.next()))||(c=l,t.prev()),r.bgSize=new j.BgSize(l,c)}else{if(!(i&m&&","===o&&r.imgType))return null;r.origString=e.substring(y,t.ch-1),y=t.ch,w.bgImages.push(r),r={}}r.imgType&&(r.origString=e.substring(y),w.bgImages.push(r)),w.colorClip=r.bgClip}else this.withActualBg(j.ieDocMode<9?function(){var e=this.propertyNames,t=p[e.POSITION+"X"],n=p[e.POSITION+"Y"],r=p[e.IMAGE],i=p[e.COLOR];"transparent"!==i&&(w.color=j.getColor(i)),"none"!==r&&(w.bgImages=[{imgType:"image",imgUrl:new j.Tokenizer(r).next().tokenValue,imgRepeat:p[e.REPEAT],bgPosition:new j.BgPosition(new j.Tokenizer(t+" "+n).all())}])}:function(){var e,t,n,r,i,o,s,a,l,c=this.propertyNames,u=/\s*,\s*/,f=p[c.IMAGE].split(u),h=p[c.COLOR];if("transparent"!==h&&(w.color=j.getColor(h)),(s=f.length)&&"none"!==f[0])for(e=p[c.REPEAT].split(u),t=p[c.POSITION].split(u),n=p[c.ORIGIN].split(u),r=p[c.CLIP].split(u),i=p[c.SIZE].split(u),w.bgImages=[],o=0;o<s;o++)(a=f[o])&&"none"!==a&&(l=i[o].split(" "),w.bgImages.push({origString:a+" "+e[o]+" "+t[o]+" / "+i[o]+" "+n[o]+" "+r[o],imgType:"image",imgUrl:new j.Tokenizer(a).next().tokenValue,imgRepeat:e[o],bgPosition:new j.BgPosition(new j.Tokenizer(t[o]).all()),bgOrigin:n[o],bgClip:r[o],bgSize:new j.BgSize(l[0],l[1])}))});return w.color||w.bgImages[0]?w:null},withActualBg:function(e){var t,n,r,i,o,s=8<j.ieDocMode,a=this.propertyNames,l=this.targetElement.runtimeStyle,c=l[a.IMAGE],u=l[a.COLOR],f=l[a.REPEAT];return c&&(l[a.IMAGE]=""),u&&(l[a.COLOR]=""),f&&(l[a.REPEAT]=""),s&&(t=l[a.CLIP],n=l[a.ORIGIN],i=l[a.POSITION],r=l[a.SIZE],t&&(l[a.CLIP]=""),n&&(l[a.ORIGIN]=""),i&&(l[a.POSITION]=""),r&&(l[a.SIZE]="")),o=e.call(this),c&&(l[a.IMAGE]=c),u&&(l[a.COLOR]=u),f&&(l[a.REPEAT]=f),s&&(t&&(l[a.CLIP]=t),n&&(l[a.ORIGIN]=n),i&&(l[a.POSITION]=i),r&&(l[a.SIZE]=r)),o},getCss:j.StyleInfoBase.cacheWhenLocked(function(){return this.getCss3()||this.withActualBg(function(){var e=this.targetElement.currentStyle,t=this.propertyNames;return e[t.COLOR]+" "+e[t.IMAGE]+" "+e[t.REPEAT]+" "+e[t.POSITION+"X"]+" "+e[t.POSITION+"Y"]})}),getCss3:j.StyleInfoBase.cacheWhenLocked(function(){var e=this.targetElement;return e.style[this.styleProperty]||e.currentStyle.getAttribute(this.cssProperty)}),getBgAreaSize:function(e,t,n,r){var i,o,s=this.targetElement,a=t.getBounds(),l=a.w,c=a.h;return"border-box"!==e&&(i=n.getProps())&&(i=i.widths)&&(l-=i.l.pixels(s)+i.l.pixels(s),c-=i.t.pixels(s)+i.b.pixels(s)),"content-box"===e&&(o=r.getProps())&&(l-=o.l.pixels(s)+o.l.pixels(s),c-=o.t.pixels(s)+o.b.pixels(s)),{w:l,h:c}},isPngFix:function(){var e,t=0;return j.ieVersion<7&&(t=""+((e=this.targetElement).style[j.STYLE_PREFIX+"PngFix"]||e.currentStyle.getAttribute(j.CSS_PREFIX+"png-fix"))=="true"),t},isActive:j.StyleInfoBase.cacheWhenLocked(function(){return(this.getCss3()||this.isPngFix())&&!!this.getProps()})}),j.BorderStyleInfo=j.StyleInfoBase.newStyleInfo({sides:["Top","Right","Bottom","Left"],namedWidths:{thin:"1px",medium:"3px",thick:"5px"},parseCss:function(e){var u={},f={},h={},d=!1,p=!0,g=!0,m=!0;return this.withActualBorder(function(){for(var e,t,n,r,i,o,s,a,l=this.targetElement.currentStyle,c=0;c<4;c++)a=(s=this.sides[c]).charAt(0).toLowerCase(),e=f[a]=l["border"+s+"Style"],t=l["border"+s+"Color"],n=l["border"+s+"Width"],0<c&&(e!==r&&(g=!1),t!==i&&(p=!1),n!==o&&(m=!1)),r=e,i=t,o=n,h[a]=j.getColor(t),0<(n=u[a]=j.getLength("none"===f[a]?"0":this.namedWidths[n]||n)).pixels(this.targetElement)&&(d=!0)}),d?{widths:u,styles:f,colors:h,widthsSame:m,colorsSame:p,stylesSame:g}:null},getCss:j.StyleInfoBase.cacheWhenLocked(function(){var e,t=this.targetElement,n=t.currentStyle;return t.tagName in j.tableCellTags&&"collapse"===t.offsetParent.currentStyle.borderCollapse||this.withActualBorder(function(){e=n.borderWidth+"|"+n.borderStyle+"|"+n.borderColor}),e}),withActualBorder:function(e){var t,n=this.targetElement.runtimeStyle,r=n.borderWidth,i=n.borderColor;return r&&(n.borderWidth=""),i&&(n.borderColor=""),t=e.call(this),r&&(n.borderWidth=r),i&&(n.borderColor=i),t}}),j.BorderImageStyleInfo=j.StyleInfoBase.newStyleInfo({cssProperty:"border-image",styleProperty:"borderImage",repeatIdents:{stretch:1,round:1,repeat:1,space:1},parseCss:function(e){var t,n,r,i,o,s,a,l=null,c=0,u=j.Tokenizer.Type,f=u.IDENT,h=u.NUMBER,d=u.PERCENT;if(e){function p(e){return e&&e.tokenType&u.OPERATOR&&"/"===e.tokenValue}function g(e){return e&&e.tokenType&f&&"fill"===e.tokenValue}function m(){o=t.until(function(e){return!(e.tokenType&(h|d))}),g(t.next())&&!l.fill?l.fill=!0:t.prev(),p(t.next())?(c++,s=t.until(function(e){return!(e.isLengthOrPercent()||e.tokenType&f&&"auto"===e.tokenValue)}),p(t.next())&&(c++,a=t.until(function(e){return!e.isLength()}))):t.prev()}for(t=new j.Tokenizer(e),l={};n=t.next();)if(r=n.tokenType,i=n.tokenValue,r&(h|d)&&!o)t.prev(),m();else if(g(n)&&!l.fill)l.fill=!0,m();else if(r&f&&this.repeatIdents[i]&&!l.repeat)l.repeat={h:i},(n=t.next())&&(n.tokenType&f&&this.repeatIdents[n.tokenValue]?l.repeat.v=n.tokenValue:t.prev());else{if(!(r&u.URL)||l.src)return null;l.src=i}if(!l.src||!o||o.length<1||4<o.length||s&&4<s.length||1===c&&s.length<1||a&&4<a.length||2===c&&a.length<1)return null;function b(e,t){return{t:t(e[0]),r:t(e[1]||e[0]),b:t(e[2]||e[0]),l:t(e[3]||e[1]||e[0])}}l.repeat||(l.repeat={h:"stretch"}),l.repeat.v||(l.repeat.v=l.repeat.h),l.slice=b(o,function(e){return j.getLength(e.tokenType&h?e.tokenValue+"px":e.tokenValue)}),s&&s[0]&&(l.widths=b(s,function(e){return e.isLengthOrPercent()?j.getLength(e.tokenValue):e.tokenValue})),a&&a[0]&&(l.outset=b(a,function(e){return e.isLength()?j.getLength(e.tokenValue):e.tokenValue}))}return l}}),j.PaddingStyleInfo=j.StyleInfoBase.newStyleInfo({parseCss:function(e){for(var t,n=new j.Tokenizer(e),r=[];(t=n.next())&&t.isLengthOrPercent();)r.push(j.getLength(t.tokenValue));return 0<r.length&&r.length<5?{t:r[0],r:r[1]||r[0],b:r[2]||r[0],l:r[3]||r[1]||r[0]}:null},getCss:j.StyleInfoBase.cacheWhenLocked(function(){var e,t=this.targetElement,n=t.runtimeStyle,r=n.padding;return r&&(n.padding=""),e=t.currentStyle.padding,r&&(n.padding=r),e})}),j.RendererBase={newRenderer:function(e){function t(e,t,n,r){this.targetElement=e,this.boundsInfo=t,this.styleInfos=n,this.parent=r}return j.merge(t.prototype,j.RendererBase,e),t},needsUpdate:function(){return!1},prepareUpdate:j.emptyFn,updateRendering:function(){this.isActive()?this.draw():this.destroy()},hideBorder:function(){this.targetElement.runtimeStyle.borderColor="transparent"},destroy:function(){}},j.IE9RootRenderer=j.RendererBase.newRenderer({outerCommasRE:/^,+|,+$/g,innerCommasRE:/,+/g,setBackgroundLayer:function(e,t){(this._bgLayers||(this._bgLayers=[]))[e]=t||void 0},updateRendering:function(){var e,t=this,n=t._bgLayers;n&&(e=n.join(",").replace(t.outerCommasRE,"").replace(t.innerCommasRE,","))!==t._lastBg&&(t._lastBg=t.targetElement.runtimeStyle.background=e)},destroy:function(){this.targetElement.runtimeStyle.background="",delete this._bgLayers}}),j.IE9BackgroundRenderer=j.RendererBase.newRenderer({drawingCanvas:W.createElement("canvas"),bgLayerZIndex:1,needsUpdate:function(){return this.styleInfos.backgroundInfo.changed()},isActive:function(){var e=this.styleInfos;return e.backgroundInfo.isActive()||e.borderImageInfo.isActive()},draw:function(){var e,t,n,r,i,o=this,s=o.styleInfos,a=s.backgroundInfo,l=a.getProps(),c=0;if(l){if(e=[],t=l.bgImages)for(;n=t[c++];)"linear-gradient"===n.imgType?(r=a.getBgAreaSize(e.bgOrigin,o.boundsInfo,s.borderInfo,s.paddingInfo),i=(n.bgSize||j.BgSize.DEFAULT).pixels(o.targetElement,r.w,r.h,r.w,r.h),e.push("url("+o.getGradientImgData(n,i.w,i.h)+") "+o.bgPositionToString(n.bgPosition)+" / "+i.w+"px "+i.h+"px "+(n.bgAttachment||"")+" "+(n.bgOrigin||"")+" "+(n.bgClip||""))):e.push(n.origString);l.color&&e.push(l.color.val+" "+(l.colorClip||"")),o.parent.setBackgroundLayer(o.bgLayerZIndex,e.join(","))}},bgPositionToString:function(e){return e?e.tokens.map(function(e){return e.tokenValue}).join(" "):"0 0"},getGradientImgData:function(e,t,n){var r,i,o,s,a=this.targetElement,l=e.stops,c=l.length,u=j.GradientUtil.getGradientMetrics(a,t,n,e),f=u.lineLength,h=this.drawingCanvas,d=h.getContext("2d"),p=d.createLinearGradient(u.startX,u.startY,u.endX,u.endY),g=[];for(r=0;r<c;r++)g.push(l[r].offset?l[r].offset.pixels(a,f):0===r?0:r===c-1?f:null);for(r=1;r<c;r++)if(null===g[r]){for(o=g[r-1],i=r;null===(s=g[++i]););g[r]=o+(s-o)/(i-r+1)}for(r=0;r<c;r++)p.addColorStop(g[r]/f,l[r].color.val);return h.width=t,h.height=n,d.fillStyle=p,d.fillRect(0,0,t,n),h.toDataURL()},destroy:function(){this.parent.setBackgroundLayer(this.bgLayerZIndex)}}),j.IE9BorderImageRenderer=j.RendererBase.newRenderer({REPEAT:"repeat",STRETCH:"stretch",ROUND:"round",bgLayerZIndex:0,needsUpdate:function(){return this.styleInfos.borderImageInfo.changed()},isActive:function(){return this.styleInfos.borderImageInfo.isActive()},draw:function(){var D=this,M=D.styleInfos.borderImageInfo.getProps(),L=D.styleInfos.borderInfo.getProps(),B=D.boundsInfo.getBounds(),e=M.repeat,H=e.h,F=e.v,W=D.targetElement,U=0;j.Util.withImageSize(M.src,function(e){var t,n=B.w,r=B.h,u=e.w,f=e.h,h=D.imageToDataURI(M.src,u,f),d=D.REPEAT,i=D.STRETCH,o=D.ROUND,s=Math.ceil,a=j.getLength("0"),l=M.widths||(L?L.widths:{t:a,r:a,b:a,l:a}),c=l.t.pixels(W),p=l.r.pixels(W),g=l.b.pixels(W),m=l.l.pixels(W),b=M.slice,v=b.t.pixels(W),y=b.r.pixels(W),k=b.b.pixels(W),w=b.l.pixels(W),S=n-m-p,T=r-c-g,E=u-w-y,R=f-v-k,x=H===i?S:E*c/v,C=F===i?T:R*p/y,I=H===i?S:E*g/k,N=F===i?T:R*m/w,_=[],O=[],A=0;function P(e,t,n,r,i,o,s,a,l,c){_.push('<pattern patternUnits="userSpaceOnUse" id="pattern'+A+'" x="'+(H===d?e+n/2-l/2:e)+'" y="'+(F===d?t+r/2-c/2:t)+'" width="'+l+'" height="'+c+'"><svg width="'+l+'" height="'+c+'" viewBox="'+i+" "+o+" "+s+" "+a+'" preserveAspectRatio="none"><image xlink:href="'+h+'" x="0" y="0" width="'+u+'" height="'+f+'" /></svg></pattern>'),O.push('<rect x="'+e+'" y="'+t+'" width="'+n+'" height="'+r+'" fill="url(#pattern'+A+')" />'),A++}H===o&&(x-=(x-(S%x||x))/s(S/x),I-=(I-(S%I||I))/s(S/I)),F===o&&(C-=(C-(T%C||C))/s(T/C),N-=(N-(T%N||N))/s(T/N)),t=['<svg width="'+n+'" height="'+r+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'],P(0,0,m,c,0,0,w,v,m,c),P(m,0,S,c,w,0,E,v,x,c),P(n-p,0,p,c,u-y,0,y,v,p,c),P(0,c,m,T,0,v,w,R,m,N),M.fill&&P(m,c,S,T,w,v,E,R,x||I||E,N||C||R),P(n-p,c,p,T,u-y,v,y,R,p,C),P(0,r-g,m,g,0,f-k,w,k,m,g),P(m,r-g,S,g,w,f-k,E,k,I,g),P(n-p,r-g,p,g,u-y,f-k,y,k,p,g),t.push("<defs>"+_.join("\n")+"</defs>"+O.join("\n")+"</svg>"),D.parent.setBackgroundLayer(D.bgLayerZIndex,"url(data:image/svg+xml,"+escape(t.join(""))+") no-repeat border-box border-box"),U&&D.parent.updateRendering()},D),U=1},imageToDataURI:(a={},function(e,t,n){var r,i,o=a[e];return o||(r=new Image,i=W.createElement("canvas"),r.src=e,i.width=t,i.height=n,i.getContext("2d").drawImage(r,0,0),o=a[e]=i.toDataURL()),o}),prepareUpdate:function(){if(this.isActive()){var e=this.targetElement,t=e.runtimeStyle,n=this.styleInfos.borderImageInfo.getProps().widths;t.borderStyle="solid",n&&(t.borderTopWidth=n.t.pixels(e)+"px",t.borderRightWidth=n.r.pixels(e)+"px",t.borderBottomWidth=n.b.pixels(e)+"px",t.borderLeftWidth=n.l.pixels(e)+"px"),this.hideBorder()}},destroy:function(){var e=this.targetElement.runtimeStyle;this.parent.setBackgroundLayer(this.bgLayerZIndex),e.borderColor=e.borderStyle=e.borderWidth=""}}),j.Element=function(){var r={},A=j.CSS_PREFIX+"lazy-init",P=j.CSS_PREFIX+"poll",D=j.CSS_PREFIX+"track-active",M=j.CSS_PREFIX+"track-hover",t=j.CLASS_PREFIX+"hover",o=j.CLASS_PREFIX+"active",s=j.CLASS_PREFIX+"focus",L=j.CLASS_PREFIX+"first-child",l={background:1,bgColor:1,display:1},a={},c=[];function B(e,t){e.className+=" "+t}function H(e,t){var n=c.slice.call(arguments,1),r=n.length;setTimeout(function(){if(e)for(;r--;)B(e,n[r])},0)}function F(r,e){var i=c.slice.call(arguments,1),o=i.length;setTimeout(function(){if(r)for(;o--;)e=r,t=i[o],void 0,n=a[t]||(a[t]=new RegExp("\\b"+t+"\\b","g")),e.className=e.className.replace(n,"");var e,t,n},0)}function n(c){var u,f,h,d,p,g,m,b,a,v,n=this,y=new j.BoundsInfo(c),r=[];function k(){if(!g){var e,t,n=j.ieDocMode,r=c.currentStyle,i="true"===r.getAttribute(A),o="false"!==r.getAttribute(D),s="false"!==r.getAttribute(M);v=r.getAttribute(P),v=7<n?"false"!==v:"true"===v,p||(p=1,c.runtimeStyle.zoom=1,function a(){var e=c,t=1;for(;e=e.previousSibling;)if(1===e.nodeType){t=0;break}t&&B(c,L)}()),y.lock(),i&&(t=y.getBounds())&&(e=W.documentElement||W.body)&&(t.y>e.clientHeight||t.x>e.clientWidth||t.y+t.h<0||t.x+t.w<0)?b||(b=1,j.OnScroll.observe(k)):(g=1,b=p=0,j.OnScroll.unobserve(k),9===n?(h={backgroundInfo:new j.BackgroundStyleInfo(c),borderImageInfo:new j.BorderImageStyleInfo(c),borderInfo:new j.BorderStyleInfo(c),paddingInfo:new j.PaddingStyleInfo(c)},d=[h.backgroundInfo,h.borderInfo,h.borderImageInfo,h.paddingInfo],f=new j.IE9RootRenderer(c,y,h),u=[new j.IE9BackgroundRenderer(c,y,h,f),new j.IE9BorderImageRenderer(c,y,h,f)]):(h={backgroundInfo:new j.BackgroundStyleInfo(c),borderInfo:new j.BorderStyleInfo(c),borderImageInfo:new j.BorderImageStyleInfo(c),borderRadiusInfo:new j.BorderRadiusStyleInfo(c),boxShadowInfo:new j.BoxShadowStyleInfo(c),paddingInfo:new j.PaddingStyleInfo(c),visibilityInfo:new j.VisibilityStyleInfo(c)},d=[h.backgroundInfo,h.borderInfo,h.borderImageInfo,h.borderRadiusInfo,h.boxShadowInfo,h.paddingInfo,h.visibilityInfo],f=new j.RootRenderer(c,y,h),u=[new j.BoxShadowOutsetRenderer(c,y,h,f),new j.BackgroundRenderer(c,y,h,f),new j.BorderRenderer(c,y,h,f),new j.BorderImageRenderer(c,y,h,f)],"IMG"===c.tagName&&u.push(new j.ImgRenderer(c,y,h,f)),f.childRenderers=u),function l(){var e,t,n=c.currentStyle.getAttribute(j.CSS_PREFIX+"watch-ancestors");if(n)for(n=parseInt(n,10),e=0,t=c.parentNode;t&&("NaN"===n||e++<n);)_(t,"onpropertychange",N),_(t,"onmouseenter",E),_(t,"onmouseleave",R),_(t,"onmousedown",x),t.tagName in j.focusableElements&&(_(t,"onfocus",C),_(t,"onblur",I)),t=t.parentNode}(),v&&(j.Heartbeat.observe(S),j.Heartbeat.run()),S(0,1)),m||(m=1,n<9&&_(c,"onmove",w),_(c,"onresize",w),_(c,"onpropertychange",T),s&&_(c,"onmouseenter",E),(s||o)&&_(c,"onmouseleave",R),o&&_(c,"onmousedown",x),c.tagName in j.focusableElements&&(_(c,"onfocus",C),_(c,"onblur",I)),j.OnResize.observe(w),j.OnUnload.observe(O)),y.unlock()}}function w(){y&&y.hasBeenQueried()&&S()}function S(e,t){if(!a)if(g){!function o(){y.lock();for(var e=d.length;e--;)d[e].lock()}();for(var n=0,r=u.length,i=y.sizeChanged();n<r;n++)u[n].prepareUpdate();for(n=0;n<r;n++)(t||i||e&&u[n].needsUpdate())&&u[n].updateRendering();(t||i||e||y.positionChanged())&&f.updateRendering(),function s(){for(var e=d.length;e--;)d[e].unlock();y.unlock()}()}else p||k()}function T(){!g||event&&event.propertyName in l||S(1)}function E(){H(c,t)}function R(){F(c,t,o)}function x(){H(c,o),j.OnMouseup.observe(e)}function e(){F(c,o),j.OnMouseup.unobserve(e)}function C(){H(c,s)}function I(){F(c,s)}function N(){var e=event.propertyName;"className"!==e&&"id"!==e&&0!==e.indexOf("style.")||T()}function _(e,t,n){e.attachEvent(t,n),r.push([e,t,n])}function O(){if(m){for(var e,t=r.length;t--;)(e=r[t])[0].detachEvent(e[1],e[2]);j.OnUnload.unobserve(O),m=0,r=[]}}n.el=c,n.init=k,n.destroy=function i(){if(!a){var e,t;if(O(),a=1,u)for(e=0,t=u.length;e<t;e++)u[e].finalized=1,u[e].destroy();f.destroy(),v&&j.Heartbeat.unobserve(S),j.OnResize.unobserve(S),u=f=y=h=d=c=null,n.el=n=0}}}return n.getInstance=function(e){var t=e.uniqueID;return r[t]||(r[t]=new n(e))},n.destroy=function(e){var t=e.uniqueID,n=r[t];n&&(n.destroy(),delete r[t])},n.destroyAll=function(){var e,t=[];if(r){for(var n in r)r.hasOwnProperty(n)&&(e=r[n],t.push(e.el),e.destroy());r={}}return t},n}(),j.version="2.0beta1",j.supportsVML=j.supportsVML,j.attach=function(e){(9===j.ieDocMode||j.ieDocMode<9&&j.supportsVML)&&j.Element.getInstance(e).init()},j.detach=function(e){j.Element.destroy(e)}}(window,document)}function patchFormData(){!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("undefined"!=typeof exports)t();else{t(),e.FormData={}}}(this,function(){"use strict";var n=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function c(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("function"==typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var u=function u(e){var t=f(e,2),n=t[0],r=t[1];return n instanceof Blob&&(n=new File([n],r,{type:n.type,lastModified:n.lastModified})),n},h=function h(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},s=function s(e,t,n){return t instanceof Blob?[String(e),t,n!==undefined?n+"":"string"==typeof t.name?t.name:"blob"]:[String(e),String(t)]},i=function i(e){return e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")},o=function o(e,t){for(var n=0;n<e.length;n++)t(e[n])},t="object"===(void 0===window?"undefined":e(window))?window:"object"===("undefined"==typeof self?"undefined":e(self))?self:undefined,d=t.FormData,r=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send,a=t.Request&&t.fetch,l=t.Symbol&&Symbol.toStringTag,p=new WeakMap,g=function g(e){return p.get(e)};l&&(Blob.prototype[l]||(Blob.prototype[l]="Blob"),"File"in t&&!File.prototype[l]&&(File.prototype[l]="File"));try{new File([],"")}catch(b){t.File=function zw(t,n,r){var i=new Blob(t,r),o=r&&void 0!==r.lastModified?new Date(r.lastModified):new Date;return Object.defineProperties(i,{name:{value:n},lastModifiedDate:{value:o},lastModified:{value:+o},toString:{value:function(){return"[object File]"}}}),l&&Object.defineProperty(i,l,{value:"File"}),i}}var c=function(){function t(e){if(function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p.set(this,Object.create(null)),!e)return this;var n=this;o(e.elements,function(t){if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type)if("file"===t.type)o(t.files||[],function(e){n.append(t.name,e)});else if("select-multiple"===t.type||"select-one"===t.type)o(t.options,function(e){!e.disabled&&e.selected&&n.append(t.name,e.value)});else if("checkbox"===t.type||"radio"===t.type)t.checked&&n.append(t.name,t.value);else{var e="textarea"===t.type?i(t.value):t.value;n.append(t.name,e)}})}return n(t,[{key:"append",value:function(e,t,n){h(arguments,2);var r=s.apply(null,arguments),i=f(r,3);e=i[0],t=i[1],n=i[2];var o=g(this);o[e]||(o[e]=[]),o[e].push([t,n])}},{key:"delete",value:function(e){h(arguments,1),delete g(this)[String(e)]}},{key:"entries",value:regeneratorRuntime.mark(function e(){var t,n,r,i,o,s,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=g(this),e.t0=regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=32;break}n=e.t1.value,i=!(r=!0),o=undefined,e.prev=7,s=t[n][Symbol.iterator]();case 9:if(r=(a=s.next()).done){e.next=16;break}return l=a.value,e.next=13,[n,u(l)];case 13:r=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t2=e["catch"](7),i=!0,o=e.t2;case 22:e.prev=22,e.prev=23,!r&&s["return"]&&s["return"]();case 25:if(e.prev=25,i)throw o;e.next=28;break;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=2;break;case 32:case"end":return e.stop()}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:"forEach",value:function(e,t){h(arguments,1);var n=!0,r=!1,i=undefined;try{for(var o,s=this[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=f(o.value,2),l=a[0],c=a[1];e.call(t,c,l,this)}}catch(u){r=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}}},{key:"get",value:function(e){h(arguments,1);var t=g(this);return t[e=String(e)]?u(t[e][0]):null}},{key:"getAll",value:function(e){return h(arguments,1),(g(this)[String(e)]||[]).map(u)}},{key:"has",value:function(e){return h(arguments,1),String(e)in g(this)}},{key:"keys",value:regeneratorRuntime.mark(function l(){var t,n,r,i,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),r=undefined,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=12;break}return s=f(o.value,1),a=s[0],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&i["return"]&&i["return"]();case 21:if(e.prev=21,n)throw r;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},l,this,[[3,14,18,26],[19,,21,25]])})},{key:"set",value:function(e,t,n){h(arguments,2);var r=s.apply(null,arguments),i=f(r,3);e=i[0],t=i[1],n=i[2],g(this)[e]=[[t,n]]}},{key:"values",value:regeneratorRuntime.mark(function c(){var t,n,r,i,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),r=undefined,e.prev=3,i=this[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=12;break}return s=f(o.value,2),a=s[1],e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&i["return"]&&i["return"]();case 21:if(e.prev=21,n)throw r;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},c,this,[[3,14,18,26],[19,,21,25]])})},{key:"_asNative",value:function(){var e=new d,t=!0,n=!1,r=undefined;try{for(var i,o=this[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=f(i.value,2),a=s[0],l=s[1];e.append(a,l)}}catch(c){n=!0,r=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}return e}},{key:"_blob",value:function(){var e="----formdata-polyfill-"+Math.random(),t=[],n=!0,r=!1,i=undefined;try{for(var o,s=this[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=f(o.value,2),l=a[0],c=a[1];t.push("--"+e+"\r\n"),c instanceof Blob?t.push('Content-Disposition: form-data; name="'+l+'"; filename="'+c.name+'"\r\n',"Content-Type: "+(c.type||"application/octet-stream")+"\r\n\r\n",c,"\r\n"):t.push('Content-Disposition: form-data; name="'+l+'"\r\n\r\n'+c+"\r\n")}}catch(u){r=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}return t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"toString",value:function(){return"[object FormData]"}}]),t}();if(l&&(c.prototype[l]="FormData"),r&&(t.XMLHttpRequest.prototype.send=function(e){if(e instanceof c){var t=e._blob();this.setRequestHeader("Content-Type",t.type),r.call(this,t)}else r.call(this,e)}),a){var m=t.fetch;t.fetch=function(e,t){return t&&t.body&&t.body instanceof c&&(t.body=t.body._blob()),m(e,t)}}t.FormData=c}})}function patchTransform(){var EventHelpers=new function(){var me=this,safariTimer,isSafari=/WebKit/i.test(navigator.userAgent),globalEvent;function removeEventAttribute(e,t){for(var n=e.attributes,r=0;r<n.length;r++){var i=n[r];0==i.name.indexOf(t)&&(i.specified=!1)}}me.init=function(){me.hasPageLoadHappened(arguments)||(document.createEventObject?globalEvent=document.createEventObject():document.createEvent&&(globalEvent=document.createEvent("HTMLEvents")),me.docIsLoaded=!0)},me.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](self.event)},e.attachEvent("on"+t,e[t+n]))},me.removeEvent=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)try{e.detachEvent("on"+t,e[t+n]),e[t+n]=null,e["e"+t+n]=null}catch(r){}},me.addScrollWheelEvent=function(e,t){e.addEventListener&&e.addEventListener("DOMMouseScroll",t,!0),e.attachEvent&&e.attachEvent("onmousewheel",t)},me.removeScrollWheelEvent=function(e,t){e.removeEventListener&&e.removeEventListener("DOMMouseScroll",t,!0),e.detachEvent&&e.detatchEvent("onmousewheel",t)},me.getMouseX=function(e){if(e)return null!=e.pageX?e.pageX:null!=window.event&&null!=window.event.clientX&&null!=document.body&&null!=document.body.scrollLeft?window.event.clientX+document.body.scrollLeft:null!=e.clientX?e.clientX:null},me.getMouseY=function(e){return null!=e.pageY?e.pageY:null!=window.event&&null!=window.event.clientY&&null!=document.body&&null!=document.body.scrollTop?window.event.clientY+document.body.scrollTop:null!=e.clientY?e.clientY:void 0},me.getScrollWheelDelta=function(e){var t=0;return e||(e=window.event),e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),t},me.addMouseEvent=function(e){document.captureEvents&&document.captureEvents(Event.MOUSEMOVE),document.onmousemove=e,window.onmousemove=e,window.onmouseover=e},me.getEventTarget=function(e){return e.toElement?e.toElement:e.currentTarget?e.currentTarget:e.srcElement?e.srcElement:null},me.getKey=function(e){return e.keyCode?e.keyCode:e.event&&e.event.keyCode?window.event.keyCode:e.which?e.which:void 0},me.addPageLoadEvent=function(funcName){var func=eval(funcName);if(isSafari)pageLoadEventArray.push(func),safariTimer||(safariTimer=setInterval(function(){if(/loaded|complete/.test(document.readyState))return clearInterval(safariTimer),void me.runPageLoadEvents();set=!0},10));else if(document.addEventListener)var x=document.addEventListener("DOMContentLoaded",func,null);else me.addEvent(window,"load",func)};var pageLoadEventArray=new Array;function init(){}me.runPageLoadEvents=function(e){if(isSafari||"complete"==e.srcElement.readyState)for(var t=0;t<pageLoadEventArray.length;t++)pageLoadEventArray[t]()},me.hasPageLoadHappened=function(e){if(e.callee.done)return!0;e.callee.done=!0},me.preventDefault=function(e){e.preventDefault&&e.preventDefault();try{e.returnValue=!1}catch(t){}},me.cancelBubble=function(e){e.stopPropagation&&e.stopPropagation();try{e.cancelBubble=!0}catch(t){}},me.fireEvent=function(e,t,n){if(e)return document.createEventObject?e.fireEvent("on"+t,globalEvent):(globalEvent.initEvent(t,!0,!0),!e.dispatchEvent(globalEvent))},init()};EventHelpers.addPageLoadEvent("EventHelpers.init"),eval(function(e,t,n,r,i,o){if(i=function(e){return(e<62?"":i(parseInt(e/62)))+(35<(e%=62)?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;n--;)o[i(n)]=r[n]||i(n);r=[function(e){return o[e]}],i=function(){return"\\w+"},n=1}for(;n--;)r[n]&&(e=e.replace(new RegExp("\\b"+i(n)+"\\b","g"),r[n]));return e}('7 x=6(){7 1D="2.0.2";7 C=/\\s*,\\s*/;7 x=6(s,A){33{7 m=[];7 u=1z.32.2c&&!A;7 b=(A)?(A.31==22)?A:[A]:[1g];7 1E=18(s).1l(C),i;9(i=0;i<1E.y;i++){s=1y(1E[i]);8(U&&s.Z(0,3).2b("")==" *#"){s=s.Z(2);A=24([],b,s[1])}1A A=b;7 j=0,t,f,a,c="";H(j<s.y){t=s[j++];f=s[j++];c+=t+f;a="";8(s[j]=="("){H(s[j++]!=")")a+=s[j];a=a.Z(0,-1);c+="("+a+")"}A=(u&&V[c])?V[c]:21(A,t,f,a);8(u)V[c]=A}m=m.30(A)}2a x.2d;5 m}2Z(e){x.2d=e;5[]}};x.1Z=6(){5"6 x() {\\n  [1D "+1D+"]\\n}"};7 V={};x.2c=L;x.2Y=6(s){8(s){s=1y(s).2b("");2a V[s]}1A V={}};7 29={};7 19=L;x.15=6(n,s){8(19)1i("s="+1U(s));29[n]=12 s()};x.2X=6(c){5 c?1i(c):o};7 D={};7 h={};7 q={P:/\\[([\\w-]+(\\|[\\w-]+)?)\\s*(\\W?=)?\\s*([^\\]]*)\\]/};7 T=[];D[" "]=6(r,f,t,n){7 e,i,j;9(i=0;i<f.y;i++){7 s=X(f[i],t,n);9(j=0;(e=s[j]);j++){8(M(e)&&14(e,n))r.z(e)}}};D["#"]=6(r,f,i){7 e,j;9(j=0;(e=f[j]);j++)8(e.B==i)r.z(e)};D["."]=6(r,f,c){c=12 1t("(^|\\\\s)"+c+"(\\\\s|$)");7 e,i;9(i=0;(e=f[i]);i++)8(c.l(e.1V))r.z(e)};D[":"]=6(r,f,p,a){7 t=h[p],e,i;8(t)9(i=0;(e=f[i]);i++)8(t(e,a))r.z(e)};h["2W"]=6(e){7 d=Q(e);8(d.1C)9(7 i=0;i<d.1C.y;i++){8(d.1C[i]==e)5 K}};h["2V"]=6(e){};7 M=6(e){5(e&&e.1c==1&&e.1f!="!")?e:23};7 16=6(e){H(e&&(e=e.2U)&&!M(e))28;5 e};7 G=6(e){H(e&&(e=e.2T)&&!M(e))28;5 e};7 1r=6(e){5 M(e.27)||G(e.27)};7 1P=6(e){5 M(e.26)||16(e.26)};7 1o=6(e){7 c=[];e=1r(e);H(e){c.z(e);e=G(e)}5 c};7 U=K;7 1h=6(e){7 d=Q(e);5(2S d.25=="2R")?/\\.1J$/i.l(d.2Q):2P(d.25=="2O 2N")};7 Q=6(e){5 e.2M||e.1g};7 X=6(e,t){5(t=="*"&&e.1B)?e.1B:e.X(t)};7 17=6(e,t,n){8(t=="*")5 M(e);8(!14(e,n))5 L;8(!1h(e))t=t.2L();5 e.1f==t};7 14=6(e,n){5!n||(n=="*")||(e.2K==n)};7 1e=6(e){5 e.1G};6 24(r,f,B){7 m,i,j;9(i=0;i<f.y;i++){8(m=f[i].1B.2J(B)){8(m.B==B)r.z(m);1A 8(m.y!=23){9(j=0;j<m.y;j++){8(m[j].B==B)r.z(m[j])}}}}5 r};8(![].z)22.2I.z=6(){9(7 i=0;i<1z.y;i++){o[o.y]=1z[i]}5 o.y};7 N=/\\|/;6 21(A,t,f,a){8(N.l(f)){f=f.1l(N);a=f[0];f=f[1]}7 r=[];8(D[t]){D[t](r,A,f,a)}5 r};7 S=/^[^\\s>+~]/;7 20=/[\\s#.:>+~()@]|[^\\s#.:>+~()@]+/g;6 1y(s){8(S.l(s))s=" "+s;5 s.P(20)||[]};7 W=/\\s*([\\s>+~(),]|^|$)\\s*/g;7 I=/([\\s>+~,]|[^(]\\+|^)([#.:@])/g;7 18=6(s){5 s.O(W,"$1").O(I,"$1*$2")};7 1u={1Z:6(){5"\'"},P:/^(\'[^\']*\')|("[^"]*")$/,l:6(s){5 o.P.l(s)},1S:6(s){5 o.l(s)?s:o+s+o},1Y:6(s){5 o.l(s)?s.Z(1,-1):s}};7 1s=6(t){5 1u.1Y(t)};7 E=/([\\/()[\\]?{}|*+-])/g;6 R(s){5 s.O(E,"\\\\$1")};x.15("1j-2H",6(){D[">"]=6(r,f,t,n){7 e,i,j;9(i=0;i<f.y;i++){7 s=1o(f[i]);9(j=0;(e=s[j]);j++)8(17(e,t,n))r.z(e)}};D["+"]=6(r,f,t,n){9(7 i=0;i<f.y;i++){7 e=G(f[i]);8(e&&17(e,t,n))r.z(e)}};D["@"]=6(r,f,a){7 t=T[a].l;7 e,i;9(i=0;(e=f[i]);i++)8(t(e))r.z(e)};h["2G-10"]=6(e){5!16(e)};h["1x"]=6(e,c){c=12 1t("^"+c,"i");H(e&&!e.13("1x"))e=e.1n;5 e&&c.l(e.13("1x"))};q.1X=/\\\\:/g;q.1w="@";q.J={};q.O=6(m,a,n,c,v){7 k=o.1w+m;8(!T[k]){a=o.1W(a,c||"",v||"");T[k]=a;T.z(a)}5 T[k].B};q.1Q=6(s){s=s.O(o.1X,"|");7 m;H(m=s.P(o.P)){7 r=o.O(m[0],m[1],m[2],m[3],m[4]);s=s.O(o.P,r)}5 s};q.1W=6(p,t,v){7 a={};a.B=o.1w+T.y;a.2F=p;t=o.J[t];t=t?t(o.13(p),1s(v)):L;a.l=12 2E("e","5 "+t);5 a};q.13=6(n){1d(n.2D()){F"B":5"e.B";F"2C":5"e.1V";F"9":5"e.2B";F"1T":8(U){5"1U((e.2A.P(/1T=\\\\1v?([^\\\\s\\\\1v]*)\\\\1v?/)||[])[1]||\'\')"}}5"e.13(\'"+n.O(N,":")+"\')"};q.J[""]=6(a){5 a};q.J["="]=6(a,v){5 a+"=="+1u.1S(v)};q.J["~="]=6(a,v){5"/(^| )"+R(v)+"( |$)/.l("+a+")"};q.J["|="]=6(a,v){5"/^"+R(v)+"(-|$)/.l("+a+")"};7 1R=18;18=6(s){5 1R(q.1Q(s))}});x.15("1j-2z",6(){D["~"]=6(r,f,t,n){7 e,i;9(i=0;(e=f[i]);i++){H(e=G(e)){8(17(e,t,n))r.z(e)}}};h["2y"]=6(e,t){t=12 1t(R(1s(t)));5 t.l(1e(e))};h["2x"]=6(e){5 e==Q(e).1H};h["2w"]=6(e){7 n,i;9(i=0;(n=e.1F[i]);i++){8(M(n)||n.1c==3)5 L}5 K};h["1N-10"]=6(e){5!G(e)};h["2v-10"]=6(e){e=e.1n;5 1r(e)==1P(e)};h["2u"]=6(e,s){7 n=x(s,Q(e));9(7 i=0;i<n.y;i++){8(n[i]==e)5 L}5 K};h["1O-10"]=6(e,a){5 1p(e,a,16)};h["1O-1N-10"]=6(e,a){5 1p(e,a,G)};h["2t"]=6(e){5 e.B==2s.2r.Z(1)};h["1M"]=6(e){5 e.1M};h["2q"]=6(e){5 e.1q===L};h["1q"]=6(e){5 e.1q};h["1L"]=6(e){5 e.1L};q.J["^="]=6(a,v){5"/^"+R(v)+"/.l("+a+")"};q.J["$="]=6(a,v){5"/"+R(v)+"$/.l("+a+")"};q.J["*="]=6(a,v){5"/"+R(v)+"/.l("+a+")"};6 1p(e,a,t){1d(a){F"n":5 K;F"2p":a="2n";1a;F"2o":a="2n+1"}7 1m=1o(e.1n);6 1k(i){7 i=(t==G)?1m.y-i:i-1;5 1m[i]==e};8(!Y(a))5 1k(a);a=a.1l("n");7 m=1K(a[0]);7 s=1K(a[1]);8((Y(m)||m==1)&&s==0)5 K;8(m==0&&!Y(s))5 1k(s);8(Y(s))s=0;7 c=1;H(e=t(e))c++;8(Y(m)||m==1)5(t==G)?(c<=s):(s>=c);5(c%m)==s}});x.15("1j-2m",6(){U=1i("L;/*@2l@8(@\\2k)U=K@2j@*/");8(!U){X=6(e,t,n){5 n?e.2i("*",t):e.X(t)};14=6(e,n){5!n||(n=="*")||(e.2h==n)};1h=1g.1I?6(e){5/1J/i.l(Q(e).1I)}:6(e){5 Q(e).1H.1f!="2g"};1e=6(e){5 e.2f||e.1G||1b(e)};6 1b(e){7 t="",n,i;9(i=0;(n=e.1F[i]);i++){1d(n.1c){F 11:F 1:t+=1b(n);1a;F 3:t+=n.2e;1a}}5 t}}});19=K;5 x}();',0,190,"|||||return|function|var|if|for||||||||pseudoClasses||||test|||this||AttributeSelector|||||||cssQuery|length|push|fr|id||selectors||case|nextElementSibling|while||tests|true|false|thisElement||replace|match|getDocument|regEscape||attributeSelectors|isMSIE|cache||getElementsByTagName|isNaN|slice|child||new|getAttribute|compareNamespace|addModule|previousElementSibling|compareTagName|parseSelector|loaded|break|_0|nodeType|switch|getTextContent|tagName|document|isXML|eval|css|_1|split|ch|parentNode|childElements|nthChild|disabled|firstElementChild|getText|RegExp|Quote|x22|PREFIX|lang|_2|arguments|else|all|links|version|se|childNodes|innerText|documentElement|contentType|xml|parseInt|indeterminate|checked|last|nth|lastElementChild|parse|_3|add|href|String|className|create|NS_IE|remove|toString|ST|select|Array|null|_4|mimeType|lastChild|firstChild|continue|modules|delete|join|caching|error|nodeValue|textContent|HTML|prefix|getElementsByTagNameNS|end|x5fwin32|cc_on|standard||odd|even|enabled|hash|location|target|not|only|empty|root|contains|level3|outerHTML|htmlFor|class|toLowerCase|Function|name|first|level2|prototype|item|scopeName|toUpperCase|ownerDocument|Document|XML|Boolean|URL|unknown|typeof|nextSibling|previousSibling|visited|link|valueOf|clearCache|catch|concat|constructor|callee|try".split("|"),0,{}));var Sylvester={version:"0.1.3",precision:1e-6};function Vector(){}function Matrix(){}function Line(){}function Plane(){}Vector.prototype={e:function(e){return e<1||e>this.elements.length?null:this.elements[e-1]},dimensions:function(){return this.elements.length},modulus:function(){return Math.sqrt(this.dot(this))},eql:function(e){var t=this.elements.length,n=e.elements||e;if(t!=n.length)return!1;do{if(Math.abs(this.elements[t-1]-n[t-1])>Sylvester.precision)return!1}while(--t);return!0},dup:function(){return Vector.create(this.elements)},map:function(n){var r=[];return this.each(function(e,t){r.push(n(e,t))}),Vector.create(r)},each:function(e){for(var t,n=this.elements.length,r=n;t=r-n,e(this.elements[t],t+1),--n;);},toUnitVector:function(){var t=this.modulus();return 0===t?this.dup():this.map(function(e){return e/t})},angleFrom:function(e){var n=e.elements||e,t=this.elements.length;if(t!=n.length)return null;var r=0,i=0,o=0;if(this.each(function(e,t){r+=e*n[t-1],i+=e*e,o+=n[t-1]*n[t-1]}),i=Math.sqrt(i),o=Math.sqrt(o),i*o==0)return null;var s=r/(i*o);return s<-1&&(s=-1),1<s&&(s=1),Math.acos(s)},isParallelTo:function(e){var t=this.angleFrom(e);return null===t?null:t<=Sylvester.precision},isAntiparallelTo:function(e){var t=this.angleFrom(e);return null===t?null:Math.abs(t-Math.PI)<=Sylvester.precision},isPerpendicularTo:function(e){var t=this.dot(e);return null===t?null:Math.abs(t)<=Sylvester.precision},add:function(e){var n=e.elements||e;return this.elements.length!=n.length?null:this.map(function(e,t){return e+n[t-1]})},subtract:function(e){var n=e.elements||e;return this.elements.length!=n.length?null:this.map(function(e,t){return e-n[t-1]})},multiply:function(t){return this.map(function(e){return e*t})},x:function(e){return this.multiply(e)},dot:function(e){var t=e.elements||e,n=0,r=this.elements.length;if(r!=t.length)return null;for(;n+=this.elements[r-1]*t[r-1],--r;);return n},cross:function(e){var t=e.elements||e;if(3!=this.elements.length||3!=t.length)return null;var n=this.elements;return Vector.create([n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]])},max:function(){for(var e,t=0,n=this.elements.length,r=n;e=r-n,Math.abs(this.elements[e])>Math.abs(t)&&(t=this.elements[e]),--n;);return t},indexOf:function(e){for(var t,n=null,r=this.elements.length,i=r;t=i-r,null===n&&this.elements[t]==e&&(n=t+1),--r;);return n},toDiagonalMatrix:function(){return Matrix.Diagonal(this.elements)},round:function(){return this.map(function(e){return Math.round(e)})},snapTo:function(t){return this.map(function(e){return Math.abs(e-t)<=Sylvester.precision?t:e})},distanceFrom:function(e){if(e.anchor)return e.distanceFrom(this);var n=e.elements||e;if(n.length!=this.elements.length)return null;var r,i=0;return this.each(function(e,t){r=e-n[t-1],i+=r*r}),Math.sqrt(i)},liesOn:function(e){return e.contains(this)},liesIn:function(e){return e.contains(this)},rotate:function(e,t){var n,r,i,o,s;switch(this.elements.length){case 2:return 2!=(n=t.elements||t).length?null:(r=Matrix.Rotation(e).elements,i=this.elements[0]-n[0],o=this.elements[1]-n[1],Vector.create([n[0]+r[0][0]*i+r[0][1]*o,n[1]+r[1][0]*i+r[1][1]*o]));case 3:if(!t.direction)return null;var a=t.pointClosestTo(this).elements;return r=Matrix.Rotation(e,t.direction).elements,i=this.elements[0]-a[0],o=this.elements[1]-a[1],s=this.elements[2]-a[2],Vector.create([a[0]+r[0][0]*i+r[0][1]*o+r[0][2]*s,a[1]+r[1][0]*i+r[1][1]*o+r[1][2]*s,a[2]+r[2][0]*i+r[2][1]*o+r[2][2]*s]);default:return null}},reflectionIn:function(e){if(e.anchor){var t=this.elements.slice(),n=e.pointClosestTo(t).elements;return Vector.create([n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1]),n[2]+(n[2]-(t[2]||0))])}var r=e.elements||e;return this.elements.length!=r.length?null:this.map(function(e,t){return r[t-1]+(r[t-1]-e)})},to3D:function(){var e=this.dup();switch(e.elements.length){case 3:break;case 2:e.elements.push(0);break;default:return null}return e},inspect:function(){return"["+this.elements.join(", ")+"]"},setElements:function(e){return this.elements=(e.elements||e).slice(),this}},Vector.create=function(e){return(new Vector).setElements(e)},Vector.i=Vector.create([1,0,0]),Vector.j=Vector.create([0,1,0]),Vector.k=Vector.create([0,0,1]),Vector.Random=function(e){for(var t=[];t.push(Math.random()),--e;);return Vector.create(t)},Vector.Zero=function(e){for(var t=[];t.push(0),--e;);return Vector.create(t)},Matrix.prototype={e:function(e,t){return e<1||e>this.elements.length||t<1||t>this.elements[0].length?null:this.elements[e-1][t-1]},row:function(e){return e>this.elements.length?null:Vector.create(this.elements[e-1])},col:function(e){if(e>this.elements[0].length)return null;for(var t,n=[],r=this.elements.length,i=r;t=i-r,n.push(this.elements[t][e-1]),--r;);return Vector.create(n)},dimensions:function(){return{rows:this.elements.length,cols:this.elements[0].length}},rows:function(){return this.elements.length},cols:function(){return this.elements[0].length},eql:function(e){var t=e.elements||e;if("undefined"==typeof t[0][0]&&(t=Matrix.create(t).elements),this.elements.length!=t.length||this.elements[0].length!=t[0].length)return!1;var n,r,i,o=this.elements.length,s=o,a=this.elements[0].length;do{n=s-o,r=a;do{if(i=a-r,Math.abs(this.elements[n][i]-t[n][i])>Sylvester.precision)return!1}while(--r)}while(--o);return!0},dup:function(){return Matrix.create(this.elements)},map:function(e){var t,n,r,i=[],o=this.elements.length,s=o,a=this.elements[0].length;do{for(n=a,i[t=s-o]=[];r=a-n,i[t][r]=e(this.elements[t][r],t+1,r+1),--n;);}while(--o);return Matrix.create(i)},isSameSizeAs:function(e){var t=e.elements||e;return"undefined"==typeof t[0][0]&&(t=Matrix.create(t).elements),this.elements.length==t.length&&this.elements[0].length==t[0].length},add:function(e){var r=e.elements||e;return"undefined"==typeof r[0][0]&&(r=Matrix.create(r).elements),this.isSameSizeAs(r)?this.map(function(e,t,n){return e+r[t-1][n-1]}):null},subtract:function(e){var r=e.elements||e;return"undefined"==typeof r[0][0]&&(r=Matrix.create(r).elements),this.isSameSizeAs(r)?this.map(function(e,t,n){return e-r[t-1][n-1]}):null},canMultiplyFromLeft:function(e){var t=e.elements||e;return"undefined"==typeof t[0][0]&&(t=Matrix.create(t).elements),this.elements[0].length==t.length},multiply:function(t){if(!t.elements)return this.map(function(e){return e*t});var e=!!t.modulus;if("undefined"==typeof(d=t.elements||t)[0][0]&&(d=Matrix.create(d).elements),!this.canMultiplyFromLeft(d))return null;var n,r,i,o,s,a,l=this.elements.length,c=l,u=d[0].length,f=this.elements[0].length,h=[];do{h[n=c-l]=[],r=u;do{for(i=u-r,o=0,s=f;a=f-s,o+=this.elements[n][a]*d[a][i],--s;);h[n][i]=o}while(--r)}while(--l);var d=Matrix.create(h);return e?d.col(1):d},x:function(e){return this.multiply(e)},minor:function(e,t,n,r){var i,o,s,a=[],l=n,c=this.elements.length,u=this.elements[0].length;do{for(a[i=n-l]=[],o=r;s=r-o,a[i][s]=this.elements[(e+i-1)%c][(t+s-1)%u],--o;);}while(--l);return Matrix.create(a)},transpose:function(){var e,t,n,r=this.elements.length,i=this.elements[0].length,o=[],s=i;do{for(o[e=i-s]=[],t=r;n=r-t,o[e][n]=this.elements[n][e],--t;);}while(--s);return Matrix.create(o)},isSquare:function(){return this.elements.length==this.elements[0].length},max:function(){var e,t,n,r=0,i=this.elements.length,o=i,s=this.elements[0].length;do{for(e=o-i,t=s;n=s-t,Math.abs(this.elements[e][n])>Math.abs(r)&&(r=this.elements[e][n]),--t;);}while(--i);return r},indexOf:function(e){var t,n,r,i=this.elements.length,o=i,s=this.elements[0].length;do{t=o-i,n=s;do{if(r=s-n,this.elements[t][r]==e)return{i:t+1,j:r+1}}while(--n)}while(--i);return null},diagonal:function(){if(!this.isSquare)return null;for(var e,t=[],n=this.elements.length,r=n;e=r-n,t.push(this.elements[e][e]),--n;);return Vector.create(t)},toRightTriangular:function(){var e,t,n,r,i=this.dup(),o=this.elements.length,s=o,a=this.elements[0].length;do{if(t=s-o,0==i.elements[t][t])for(j=t+1;j<s;j++)if(0!=i.elements[j][t]){for(e=[],n=a;r=a-n,e.push(i.elements[t][r]+i.elements[j][r]),--n;);i.elements[t]=e;break}if(0!=i.elements[t][t])for(j=t+1;j<s;j++){var l=i.elements[j][t]/i.elements[t][t];for(e=[],n=a;r=a-n,e.push(r<=t?0:i.elements[j][r]-i.elements[t][r]*l),--n;);i.elements[j]=e}}while(--o);return i},toUpperTriangular:function(){return this.toRightTriangular()},determinant:function(){if(!this.isSquare())return null;for(var e,t=this.toRightTriangular(),n=t.elements[0][0],r=t.elements.length-1,i=r;e=i-r+1,n*=t.elements[e][e],--r;);return n},det:function(){return this.determinant()},isSingular:function(){return this.isSquare()&&0===this.determinant()},trace:function(){if(!this.isSquare())return null;for(var e,t=this.elements[0][0],n=this.elements.length-1,r=n;e=r-n+1,t+=this.elements[e][e],--n;);return t},tr:function(){return this.trace()},rank:function(){var e,t,n,r=this.toRightTriangular(),i=0,o=this.elements.length,s=o,a=this.elements[0].length;do{e=s-o,t=a;do{if(n=a-t,Math.abs(r.elements[e][n])>Sylvester.precision){i++;break}}while(--t)}while(--o);return i},rk:function(){return this.rank()},augment:function(e){var t=e.elements||e;"undefined"==typeof t[0][0]&&(t=Matrix.create(t).elements);var n,r,i,o=this.dup(),s=o.elements[0].length,a=o.elements.length,l=a,c=t[0].length;if(a!=t.length)return null;do{for(n=l-a,r=c;i=c-r,o.elements[n][s+i]=t[n][i],--r;);}while(--a);return o},inverse:function(){if(!this.isSquare()||this.isSingular())return null;var e,t,n,r,i,o,s,a=this.elements.length,l=a,c=this.augment(Matrix.I(a)).toRightTriangular(),u=c.elements[0].length,f=[];do{for(i=[],n=u,f[e=a-1]=[],o=c.elements[e][e];r=u-n,s=c.elements[e][r]/o,i.push(s),l<=r&&f[e].push(s),--n;);for(c.elements[e]=i,t=0;t<e;t++){for(i=[],n=u;r=u-n,i.push(c.elements[t][r]-c.elements[e][r]*c.elements[t][e]),--n;);c.elements[t]=i}}while(--a);return Matrix.create(f)},inv:function(){return this.inverse()},round:function(){return this.map(function(e){return Math.round(e)})},snapTo:function(t){return this.map(function(e){return Math.abs(e-t)<=Sylvester.precision?t:e})},inspect:function(){for(var e,t=[],n=this.elements.length,r=n;e=r-n,t.push(Vector.create(this.elements[e]).inspect()),--n;);return t.join("\n")},setElements:function(e){var t,n=e.elements||e;if("undefined"!=typeof n[0][0]){var r,i,o,s=n.length,a=s;this.elements=[];do{for(i=r=n[t=a-s].length,this.elements[t]=[];o=i-r,this.elements[t][o]=n[t][o],--r;);}while(--s);return this}var l=n.length,c=l;for(this.elements=[];t=c-l,this.elements.push([n[t]]),--l;);return this}},Matrix.create=function(e){return(new Matrix).setElements(e)},Matrix.I=function(e){var t,n,r,i=[],o=e;do{for(i[t=o-e]=[],n=o;r=o-n,i[t][r]=t==r?1:0,--n;);}while(--e);return Matrix.create(i)},Matrix.Diagonal=function(e){for(var t,n=e.length,r=n,i=Matrix.I(n);t=r-n,i.elements[t][t]=e[t],--n;);return i},Matrix.Rotation=function(e,t){if(!t)return Matrix.create([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var n=t.dup();if(3!=n.elements.length)return null;var r=n.modulus(),i=n.elements[0]/r,o=n.elements[1]/r,s=n.elements[2]/r,a=Math.sin(e),l=Math.cos(e),c=1-l;return Matrix.create([[c*i*i+l,c*i*o-a*s,c*i*s+a*o],[c*i*o+a*s,c*o*o+l,c*o*s-a*i],[c*i*s-a*o,c*o*s+a*i,c*s*s+l]])},Matrix.RotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return Matrix.create([[1,0,0],[0,t,-n],[0,n,t]])},Matrix.RotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return Matrix.create([[t,0,n],[0,1,0],[-n,0,t]])},Matrix.RotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return Matrix.create([[t,-n,0],[n,t,0],[0,0,1]])},Matrix.Random=function(e,t){return Matrix.Zero(e,t).map(function(){return Math.random()})},Matrix.Zero=function(e,t){var n,r,i,o=[],s=e;do{for(o[n=e-s]=[],r=t;i=t-r,o[n][i]=0,--r;);}while(--s);return Matrix.create(o)},Line.prototype={eql:function(e){return this.isParallelTo(e)&&this.contains(e.anchor)},dup:function(){return Line.create(this.anchor,this.direction)},translate:function(e){var t=e.elements||e;return Line.create([this.anchor.elements[0]+t[0],this.anchor.elements[1]+t[1],this.anchor.elements[2]+(t[2]||0)],this.direction)},isParallelTo:function(e){if(e.normal)return e.isParallelTo(this);var t=this.direction.angleFrom(e.direction);return Math.abs(t)<=Sylvester.precision||Math.abs(t-Math.PI)<=Sylvester.precision},distanceFrom:function(e){if(e.normal)return e.distanceFrom(this);if(e.direction){if(this.isParallelTo(e))return this.distanceFrom(e.anchor);var t=this.direction.cross(e.direction).toUnitVector().elements,n=this.anchor.elements,r=e.anchor.elements;return Math.abs((n[0]-r[0])*t[0]+(n[1]-r[1])*t[1]+(n[2]-r[2])*t[2])}var i=e.elements||e,o=(n=this.anchor.elements,this.direction.elements),s=i[0]-n[0],a=i[1]-n[1],l=(i[2]||0)-n[2],c=Math.sqrt(s*s+a*a+l*l);if(0===c)return 0;var u=(s*o[0]+a*o[1]+l*o[2])/c,f=1-u*u;return Math.abs(c*Math.sqrt(f<0?0:f))},contains:function(e){var t=this.distanceFrom(e);return null!==t&&t<=Sylvester.precision},liesIn:function(e){return e.contains(this)},intersects:function(e){return e.normal?e.intersects(this):!this.isParallelTo(e)&&this.distanceFrom(e)<=Sylvester.precision},intersectionWith:function(e){if(e.normal)return e.intersectionWith(this);if(!this.intersects(e))return null;var t=this.anchor.elements,n=this.direction.elements,r=e.anchor.elements,i=e.direction.elements,o=n[0],s=n[1],a=n[2],l=i[0],c=i[1],u=i[2],f=t[0]-r[0],h=t[1]-r[1],d=t[2]-r[2],p=l*l+c*c+u*u,g=o*l+s*c+a*u,m=((-o*f-s*h-a*d)*p/(o*o+s*s+a*a)+g*(l*f+c*h+u*d))/(p-g*g);return Vector.create([t[0]+m*o,t[1]+m*s,t[2]+m*a])},pointClosestTo:function(e){if(e.direction){if(this.intersects(e))return this.intersectionWith(e);if(this.isParallelTo(e))return null;var t=this.direction.elements,n=e.direction.elements,r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=o*s-r*l,u=r*a-i*s,f=i*l-o*a,h=Vector.create([c*l-u*a,u*s-f*l,f*a-c*s]);return(d=Plane.create(e.anchor,h)).intersectionWith(this)}var d=e.elements||e;if(this.contains(d))return Vector.create(d);var p=this.anchor.elements,g=(r=(t=this.direction.elements)[0],i=t[1],o=t[2],p[0]),m=p[1],b=p[2],v=(c=r*(d[1]-m)-i*(d[0]-g),u=i*((d[2]||0)-b)-o*(d[1]-m),f=o*(d[0]-g)-r*((d[2]||0)-b),Vector.create([i*c-o*f,o*u-r*c,r*f-i*u])),y=this.distanceFrom(d)/v.modulus();return Vector.create([d[0]+v.elements[0]*y,d[1]+v.elements[1]*y,(d[2]||0)+v.elements[2]*y])},rotate:function(e,t){"undefined"==typeof t.direction&&(t=Line.create(t.to3D(),Vector.k));var n=Matrix.Rotation(e,t.direction).elements,r=t.pointClosestTo(this.anchor).elements,i=this.anchor.elements,o=this.direction.elements,s=r[0],a=r[1],l=r[2],c=i[0]-s,u=i[1]-a,f=i[2]-l;return Line.create([s+n[0][0]*c+n[0][1]*u+n[0][2]*f,a+n[1][0]*c+n[1][1]*u+n[1][2]*f,l+n[2][0]*c+n[2][1]*u+n[2][2]*f],[n[0][0]*o[0]+n[0][1]*o[1]+n[0][2]*o[2],n[1][0]*o[0]+n[1][1]*o[1]+n[1][2]*o[2],n[2][0]*o[0]+n[2][1]*o[1]+n[2][2]*o[2]])},reflectionIn:function(e){if(e.normal){var t=this.anchor.elements,n=this.direction.elements,r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=this.anchor.reflectionIn(e).elements,u=r+s,f=i+a,h=o+l,d=e.pointClosestTo([u,f,h]).elements,p=[d[0]+(d[0]-u)-c[0],d[1]+(d[1]-f)-c[1],d[2]+(d[2]-h)-c[2]];return Line.create(c,p)}if(e.direction)return this.rotate(Math.PI,e);var g=e.elements||e;return Line.create(this.anchor.reflectionIn([g[0],g[1],g[2]||0]),this.direction)},setVectors:function(e,t){if(e=Vector.create(e),t=Vector.create(t),2==e.elements.length&&e.elements.push(0),2==t.elements.length&&t.elements.push(0),3<e.elements.length||3<t.elements.length)return null;var n=t.modulus();return 0===n?null:(this.anchor=e,this.direction=Vector.create([t.elements[0]/n,t.elements[1]/n,t.elements[2]/n]),this)}},Line.create=function(e,t){return(new Line).setVectors(e,t)},Line.X=Line.create(Vector.Zero(3),Vector.i),Line.Y=Line.create(Vector.Zero(3),Vector.j),Line.Z=Line.create(Vector.Zero(3),Vector.k),Plane.prototype={eql:function(e){return this.contains(e.anchor)&&this.isParallelTo(e)},dup:function(){return Plane.create(this.anchor,this.normal)},translate:function(e){var t=e.elements||e;return Plane.create([this.anchor.elements[0]+t[0],this.anchor.elements[1]+t[1],this.anchor.elements[2]+(t[2]||0)],this.normal)},isParallelTo:function(e){var t;return e.normal?(t=this.normal.angleFrom(e.normal),Math.abs(t)<=Sylvester.precision||Math.abs(Math.PI-t)<=Sylvester.precision):e.direction?this.normal.isPerpendicularTo(e.direction):null},isPerpendicularTo:function(e){var t=this.normal.angleFrom(e.normal);return Math.abs(Math.PI/2-t)<=Sylvester.precision},distanceFrom:function(e){if(this.intersects(e)||this.contains(e))return 0;if(e.anchor){var t=this.anchor.elements,n=e.anchor.elements,r=this.normal.elements;return Math.abs((t[0]-n[0])*r[0]+(t[1]-n[1])*r[1]+(t[2]-n[2])*r[2])}var i=e.elements||e;t=this.anchor.elements,r=this.normal.elements;return Math.abs((t[0]-i[0])*r[0]+(t[1]-i[1])*r[1]+(t[2]-(i[2]||0))*r[2])},contains:function(e){if(e.normal)return null;if(e.direction)return this.contains(e.anchor)&&this.contains(e.anchor.add(e.direction));var t=e.elements||e,n=this.anchor.elements,r=this.normal.elements;return Math.abs(r[0]*(n[0]-t[0])+r[1]*(n[1]-t[1])+r[2]*(n[2]-(t[2]||0)))<=Sylvester.precision},intersects:function(e){return"undefined"==typeof e.direction&&"undefined"==typeof e.normal?null:!this.isParallelTo(e)},intersectionWith:function(e){if(!this.intersects(e))return null;if(e.direction){var t=e.anchor.elements,n=e.direction.elements,r=this.anchor.elements,i=((s=this.normal.elements)[0]*(r[0]-t[0])+s[1]*(r[1]-t[1])+s[2]*(r[2]-t[2]))/(s[0]*n[0]+s[1]*n[1]+s[2]*n[2]);return Vector.create([t[0]+n[0]*i,t[1]+n[1]*i,t[2]+n[2]*i])}if(e.normal){for(var o=this.normal.cross(e.normal).toUnitVector(),s=this.normal.elements,a=(t=this.anchor.elements,e.normal.elements),l=e.anchor.elements,c=Matrix.Zero(2,2),u=0;c.isSingular();)u++,c=Matrix.create([[s[u%3],s[(u+1)%3]],[a[u%3],a[(u+1)%3]]]);for(var f=c.inverse().elements,h=s[0]*t[0]+s[1]*t[1]+s[2]*t[2],d=a[0]*l[0]+a[1]*l[1]+a[2]*l[2],p=[f[0][0]*h+f[0][1]*d,f[1][0]*h+f[1][1]*d],g=[],m=1;m<=3;m++)g.push(u==m?0:p[(m+(5-u)%3)%3]);return Line.create(g,o)}},pointClosestTo:function(e){var t=e.elements||e,n=this.anchor.elements,r=this.normal.elements,i=(n[0]-t[0])*r[0]+(n[1]-t[1])*r[1]+(n[2]-(t[2]||0))*r[2];return Vector.create([t[0]+r[0]*i,t[1]+r[1]*i,(t[2]||0)+r[2]*i])},rotate:function(e,t){var n=Matrix.Rotation(e,t.direction).elements,r=t.pointClosestTo(this.anchor).elements,i=this.anchor.elements,o=this.normal.elements,s=r[0],a=r[1],l=r[2],c=i[0]-s,u=i[1]-a,f=i[2]-l;return Plane.create([s+n[0][0]*c+n[0][1]*u+n[0][2]*f,a+n[1][0]*c+n[1][1]*u+n[1][2]*f,l+n[2][0]*c+n[2][1]*u+n[2][2]*f],[n[0][0]*o[0]+n[0][1]*o[1]+n[0][2]*o[2],n[1][0]*o[0]+n[1][1]*o[1]+n[1][2]*o[2],n[2][0]*o[0]+n[2][1]*o[1]+n[2][2]*o[2]])},reflectionIn:function(e){if(e.normal){var t=this.anchor.elements,n=this.normal.elements,r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],l=n[2],c=this.anchor.reflectionIn(e).elements,u=r+s,f=i+a,h=o+l,d=e.pointClosestTo([u,f,h]).elements,p=[d[0]+(d[0]-u)-c[0],d[1]+(d[1]-f)-c[1],d[2]+(d[2]-h)-c[2]];return Plane.create(c,p)}if(e.direction)return this.rotate(Math.PI,e);var g=e.elements||e;return Plane.create(this.anchor.reflectionIn([g[0],g[1],g[2]||0]),this.normal)},setVectors:function(e,t,n){if(null===(e=(e=Vector.create(e)).to3D()))return null;if(null===(t=(t=Vector.create(t)).to3D()))return null;if(void 0===n)n=null;else if(null===(n=(n=Vector.create(n)).to3D()))return null;var r,i,o=e.elements[0],s=e.elements[1],a=e.elements[2],l=t.elements[0],c=t.elements[1],u=t.elements[2];if(null!==n){var f=n.elements[0],h=n.elements[1],d=n.elements[2];if(0===(i=(r=Vector.create([(c-s)*(d-a)-(u-a)*(h-s),(u-a)*(f-o)-(l-o)*(d-a),(l-o)*(h-s)-(c-s)*(f-o)])).modulus()))return null;r=Vector.create([r.elements[0]/i,r.elements[1]/i,r.elements[2]/i])}else{if(0===(i=Math.sqrt(l*l+c*c+u*u)))return null;r=Vector.create([t.elements[0]/i,t.elements[1]/i,t.elements[2]/i])}return this.anchor=e,this.normal=r,this}},Plane.create=function(e,t,n){return(new Plane).setVectors(e,t,n)},Plane.XY=Plane.create(Vector.Zero(3),Vector.k),Plane.YZ=Plane.create(Vector.Zero(3),Vector.i),Plane.ZX=Plane.create(Vector.Zero(3),Vector.j),Plane.YX=Plane.XY,Plane.ZY=Plane.YZ,Plane.XZ=Plane.ZX;var $V=Vector.create,$M=Matrix.create,$L=Line.create,$P=Plane.create;window.$V=Vector.create,window.$M=Matrix.create,window.$L=Line.create,window.$P=Plane.create,document.querySelectorAll||(document.querySelectorAll=cssQuery);var cssSandpaper=new function(){var n,g=this,m=new Array,b=/[^\{]*{[^\}]*}/g,v=/[\{\}]/g,y=/hsl\([\s\S]*\)/g,r=/\/\/.+?(?=\n|\r|$)|\/\*[\s\S]+?\*\//g,i=/@[^\{\};]*;|@[^\{\};]*\{[^\}]*\}/g,o=/matrix\(([^\,]+),([^\,]+),([^\,]+),([^\,]+),([^\,]+),([^\,]+)\)/g,k=new Array;function a(e,t){if(2==t.colorStops.length&&0==t.colorStops[0].stop&&1==t.colorStops[1].stop){var n=new RGBColor(t.colorStops[0].color),r=new RGBColor(t.colorStops[1].color);n=n.toHex(),r=r.toHex();var i=CSS3Helpers.addFilter(e,"DXImageTransform.Microsoft.Gradient",StringHelpers.sprintf("GradientType = %s, StartColorStr = '%s', EndColorStr = '%s'",t.IEdir,n,r));i.GradientType=t.IEdir,i.StartColorStr=n,i.EndColorStr=r,e.style.zoom=1}}function w(e){var t;switch(e.nodeName.toLowerCase()){case"style":t=StringHelpers.uncommentHTML(e.innerHTML);break;case"link":try{t=XMLHelpers.getXMLHttpRequest(e.href,null,"GET",null,!1).responseText}catch(n){t=""}}return t=t.replace(r,"").replace(i,"")}function S(e){var t=k[e];return t||(t=new RuleList(e)),t}g.init=function(e){EventHelpers.hasPageLoadHappened(arguments)&&!e||(document.body,document.createElement("div"),function t(){n=document.querySelectorAll('style, link[rel="stylesheet"]');for(var e=0;e<n.length;e++)CSSHelpers.isMemberOfClass(n[e],"cssSandpaper-noIndex")||m.push(w(n[e]))}(),function f(){for(var e=0;e<m.length;e++){var t=m[e];if(rules=t.match(b),rules)for(var n=0;n<rules.length;n++)for(var r=rules[n].split(v),i=r[0].trim(),o=r[1],s=o.split(";"),a=0;a<s.length;a++)if(""!=s[a].trim()){var l=s[a].split(":"),c=l[0].trim().toLowerCase(),u=l[1];k[c]||(k[c]=new RuleList(c)),u&&"object"==typeof k[c]&&k[c].add(i,u.trim())}}}(),function o(){var e=S("-sand-chroma-override").values;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)DOMHelpers.setDatasetItem(r[i],"cssSandpaper-chroma",new RGBColor(n.value).toHex())}(),function s(){var e=S("-sand-transform").values;CSS3Helpers.findProperty(document.body,"transform");for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)g.setTransform(r[i],n.value)}(),window.textShadowForMSIE&&function a(){var e=S("text-shadow").values,t=CSS3Helpers.findProperty(document.body,"textShadow");if("filter"==t&&window.textShadowForMSIE==undefined)return;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=r.selector.split(",");if("filter"==t)for(var o in i)i.hasOwnProperty(o)&&textShadowForMSIE.ieShadowSettings.push({sel:i[o],shadow:r.value});else for(var s=document.querySelectorAll(r.selector),o=0;o<s.length;o++)s[o].style[t]=r.value}textShadowForMSIE.init()}(),function l(){var e=S("-sand-box-shadow").values;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)g.setBoxShadow(r[i],n.value)}(),function c(){var e=S("background").values.concat(S("background-image").values);for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)g.setGradient(r[i],n.value)}(),function u(){if(CSS3Helpers.reportColorSpaceSupport("RGBA",colorType.BACKGROUND)==implementation.NATIVE)return;var e=S("background").values.concat(S("background-color").values);for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)0==n.value.indexOf("rgba(")?g.setRGBABackground(r[i],n.value):0!=n.value.indexOf("hsla(")&&0!=n.value.indexOf("hsl(")||g.setHSLABackground(r[i],n.value)}(),function h(){if(CSS3Helpers.reportColorSpaceSupport("HSL",colorType.FOREGROUND)==implementation.NATIVE)return;for(var e=S("color").values,t=["color","border","border-left","border-right","border-bottom","border-top","border-left-color","border-right-color","border-bottom-color","border-top-color"],n=0;n<t.length;n++){var r=S(t[n]).values;e=e.concat(r)}for(var n in e)if(e.hasOwnProperty(n))for(var i=e[n],o=document.querySelectorAll(i.selector),s=0;s<o.length;s++){var a,l=0==i.name.indexOf("border"),c=i.value.match(y);if(c)a=(l&&i.name.indexOf("-color"),i.name),g.setHSLColor(o[s],a,i.value)}}(),function d(){var e=S("opacity").values;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],r=document.querySelectorAll(n.selector),i=0;i<r.length;i++)g.setOpacity(r[i],n.value)}(),function p(){for(var e=document.getElementsByTagName("html")[0],t=["transform","opacity"],n=0;n<t.length;n++){var r=t[n];CSS3Helpers.supports(r)&&CSSHelpers.addClass(e,"cssSandpaper-"+r)}for(var i=CSSHelpers.getElementsByClassName(document,"cssSandpaper-initiallyHidden"),n=0;n<i.length;n++)CSSHelpers.removeClass(i[n],"cssSandpaper-initiallyHidden")}())},g.setOpacity=function(e,t){var n=CSS3Helpers.findProperty(document.body,"opacity");"filter"==n?(e.style.zoom="100%",CSS3Helpers.addFilter(e,"DXImageTransform.Microsoft.Alpha",StringHelpers.sprintf("opacity=%d",100*t)).opacity=100*t):null!=e.style[n]&&(e.style[n]=t)},g.setTransform=function(e,t){var n=CSS3Helpers.findProperty(e,"transform");if("filter"==n){var r=CSS3Helpers.getTransformationMatrix(t);CSS3Helpers.setMatrixFilter(e,r)}else if(null!=e.style[n]){var i=t;"MozTransform"==n&&(i=i.replace(o,"matrix($1, $2, $3, $4, $5px, $6px)")),e.style[n]=i}},g.setBoxShadow=function(e,t){var n=CSS3Helpers.findProperty(e,"boxShadow"),r=CSS3Helpers.getBoxShadowValues(t);if("filter"==n){var i=CSS3Helpers.addFilter(e,"DXImageTransform.Microsoft.DropShadow",StringHelpers.sprintf("color=%s,offX=%d,offY=%d",r.color,r.offsetX,r.offsetY));i.color=r.color,i.offX=r.offsetX,i.offY=r.offsetY}else null!=e.style[n]&&(e.style[n]=t)},g.setGradient=function(e,t){var n=CSS3Helpers.reportGradientSupport(),r=CSS3Helpers.getGradient(t);if(null!=r)if(e.filters&&(n!=implementation.CANVAS_WORKAROUND||CSSHelpers.isMemberOfClass(document.body,"cssSandpaper-IEuseGradientFilter")||CSSHelpers.isMemberOfClass(e,"cssSandpaper-IEuseGradientFilter")))a(e,r);else if(n==implementation.MOZILLA)e.style.backgroundImage=StringHelpers.sprintf("-moz-gradient( %s, %s, from(%s), to(%s))",r.dirBegin,r.dirEnd,r.colorStops[0].color,r.colorStops[1].color);else if(n==implementation.WEBKIT){var i=StringHelpers.sprintf("-webkit-gradient(%s, %s, %s %s, %s %s)",r.type,r.dirBegin,r.r0?r.r0+", ":"",r.dirEnd,r.r1?r.r1+", ":"",function o(e){for(var t=new StringBuffer,n=0;n<e.length;n++)t.append(StringHelpers.sprintf("color-stop(%s, %s)",e[n].stop,e[n].color)),n<e.length-1&&t.append(", ");return t.toString()}(r.colorStops));e.style.backgroundImage=i}else if(n==implementation.CANVAS_WORKAROUND)try{CSS3Helpers.applyCanvasGradient(e,r)}catch(s){}},g.setRGBABackground=function(e,t){switch(CSS3Helpers.reportColorSpaceSupport("RGBA",colorType.BACKGROUND)){case implementation.NATIVE:e.style.value=t;break;case implementation.FILTER_WORKAROUND:a(e,{IEdir:0,colorStops:[{stop:0,color:t},{stop:1,color:t}]})}},g.setHSLABackground=function(e,t){switch(CSS3Helpers.reportColorSpaceSupport("HSLA",colorType.BACKGROUND)){case implementation.NATIVE:case implementation.FILTER_WORKAROUND:var n=new RGBColor(t);if(1==n.a)e.style.backgroundColor=n.toHex();else{var r=n.toRGBA();a(e,{IEdir:0,colorStops:[{stop:0,color:r},{stop:1,color:r}]})}}},g.camelize=function(e){for(var t="",n=0;n<e.length;n++)"-"==e.substring(n,n+1)?(n++,t+=e.substring(n,n+1).toUpperCase()):t+=e.substring(n,n+1);return t},g.setHSLColor=function(e,t,n){switch(CSS3Helpers.reportColorSpaceSupport("HSL",colorType.FOREGROUND)){case implementation.NATIVE:case implementation.HEX_WORKAROUND:var r=new RGBColor(n.match(y)[0]).toHex(),i=n.replace(y,r);e.style[g.camelize(t)]=i}},g.getProperties=function(e,t){var n="";if(!e)return n;for(var r in e)if(e.hasOwnProperty(r))try{n+=t+"."+r.toString()+" = "+e[r]+", "}catch(i){}return n},g.getChromaColor=function(e){var t=DOMHelpers.getDatasetItem(e,"cssSandpaper-chroma");return t||(t="#808080"),t}};function RuleList(e){var n=this;n.values=new Array,n.propertyName=e,n.add=function(e,t){n.values.push(new CSSRule(e,n.propertyName,t))}}function CSSRule(e,t,n){var r=this;r.selector=e,r.name=t,r.value=n,r.toString=function(){return StringHelpers.sprintf("%s { %s: %s}",r.selector,r.name,r.value)}}if(window.$M)var MatrixGenerator=new function(){var t=this,o=/[a-z]+$/;function i(e){var t,n=parseFloat(e),r=e.match(o);if("0"==e.trim()&&(n=0,r="rad"),1!=r.length||0==n)return 0;switch(r=r[0]){case"deg":t=function i(e){return(e-360)*Math.PI/180}(n);break;case"rad":t=n;break;default:throw"Not an angle: "+e}return t}t.identity=$M([[1,0,0],[0,1,0],[0,0,1]]),t.prettyPrint=function(e){return StringHelpers.sprintf("| %s %s %s | - | %s %s %s | - |%s %s %s|",e.e(1,1),e.e(1,2),e.e(1,3),e.e(2,1),e.e(2,2),e.e(2,3),e.e(3,1),e.e(3,2),e.e(3,3))},t.rotate=function(e){var t=i(e);return Matrix.RotationZ(t)},t.scale=function(e,t){return e=parseFloat(e),t=t?parseFloat(t):e,$M([[e,0,0],[0,t,0],[0,0,1]])},t.scaleX=function(e){return t.scale(e,1)},t.scaleY=function(e){return t.scale(1,e)},t.skew=function(e,t){var n,r=i(e);return n=null!=t?i(t):r,null!=r&&null!=n?$M([[1,Math.tan(r),0],[Math.tan(n),1,0],[0,0,1]]):null},t.skewX=function(e){return t.skew(e,"0")},t.skewY=function(e){return t.skew("0",e)},t.translate=function(e,t){var n=parseInt(e),r=parseInt(t);return $M([[1,0,n],[0,1,r],[0,0,1]])},t.translateX=function(e){return t.translate(e,0)},t.translateY=function(e){return t.translate(0,e)},t.matrix=function(e,t,n,r,i,o){return $M([[e,n,parseInt(i)],[t,r,parseInt(o)],[0,0,1]])}};var CSS3Helpers=new function(){var me=this,reTransformListSplitter=/[a-zA-Z]+\([^\)]*\)\s*/g,reLeftBracket=/\(/g,reRightBracket=/\)/g,reComma=/,/g,reSpaces=/\s+/g,reFilterNameSplitter=/progid:([^\(]*)/g,reLinearGradient,canvas,cache=new Array,filterDatasetName="csssandpaper-filter-";function swapIndices(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function parseColorStop(e,t){var n=new Object,r=me.getBracketedSubstring(e,"color-stop"),i=me.getBracketedSubstring(e,"from"),o=me.getBracketedSubstring(e,"to");if(r){var s=r.split(",");n.stop=normalizePercentage(s[0].trim()),n.color=s[1].trim()}else if(i)n.stop=0,n.color=i.trim();else if(o)n.stop=1,n.color=o.trim();else{if(!(t<=1))throw StringHelpers.sprintf('invalid argument "%s"',e);n.color=e,n.stop=0==t?0:1}return n}function normalizePercentage(e){return"%"==e.substring(e.length-1,e.length)?parseFloat(e)/100+"":e}function hasIETransformWorkaround(e){return CSSHelpers.isMemberOfClass(e.parentNode,"IETransformContainer")}function addIETransformWorkaround(e){if(!hasIETransformWorkaround(e)){var t=e.parentNode,n=document.createElement("div");CSSHelpers.addClass(n,"IETransformContainer"),n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px",n.xOriginalWidth=e.offsetWidth,n.xOriginalHeight=e.offsetHeight,n.style.position="absolute",n.style.zIndex=e.currentStyle.zIndex;"block"==e.currentStyle.display?(n.style.left=e.offsetLeft+13-0+"px",n.style.top=e.offsetTop+13+-0+"px"):(n.style.left=e.offsetLeft+"px",n.style.top=e.offsetTop+"px"),e.style.top="auto",e.style.left="auto",e.style.bottom="auto",e.style.right="auto";var r=e.cloneNode(!0);r.style.visibility="hidden",e.replaceNode(r),e.style.position="absolute",n.appendChild(e),t.insertBefore(n,r),n.style.backgroundColor="transparent",n.style.padding="0",me.addFilter(e,"DXImageTransform.Microsoft.Matrix","M11=1, M12=0, M21=0, M22=1, sizingMethod='auto expand'");e.currentStyle.backgroundImage.split('"')[1]}}function getPreviousFilters(e,t){var n=new StringBuffer,r=DOMHelpers.getDataset(e);for(var i in r)if(r.hasOwnProperty(i)&&0==i.indexOf(filterDatasetName)){var o=i.replace(filterDatasetName,"");o!=t.toLowerCase()&&n.append(StringHelpers.sprintf("progid:%s(%s) ",o,r[i]))}return n.toString()}function degreesToRadians(e){return(e-360)*Math.PI/180}me.supports=function(e){return null!=CSS3Helpers.findProperty(document.body,e)},me.getCanvas=function(){return canvas||(canvas=document.createElement("canvas"))},me.getTransformationMatrix=function(CSS3TransformProperty,doThrowIfError){var transforms=CSS3TransformProperty.match(reTransformListSplitter);if(doThrowIfError){var checkString=transforms.join(" ").replace(/\s*/g," "),normalizedCSSProp=CSS3TransformProperty.replace(/\s*/g," ");if(checkString!=normalizedCSSProp)throw"An invalid transform was given."}for(var resultantMatrix=MatrixGenerator.identity,j=0;j<transforms.length;j++){var transform=transforms[j];transform=transform.replace(reLeftBracket,'("').replace(reComma,'", "').replace(reRightBracket,'")');try{var matrix=eval("MatrixGenerator."+transform);resultantMatrix=resultantMatrix.x(matrix)}catch(ex){if(doThrowIfError){var method=transform.split("(")[0],funcCall=transform.replace(/\"/g,"");throw MatrixGenerator[method]==undefined?"Error: invalid tranform function: "+funcCall:"Error: Invalid or missing parameters in function call: "+funcCall}}}return resultantMatrix},me.getBoxShadowValues=function(e){var t=new Object,n=e.split(reSpaces);return"inset"==n[0]?(t.inset=!0,n=n.reverse().pop().reverse()):t.inset=!1,t.offsetX=parseInt(n[0]),t.offsetY=parseInt(n[1]),3<n.length&&(t.blurRadius=n[2],4<n.length&&(t.spreadRadius=n[3])),t.color=n[n.length-1],t},me.getGradient=function(e){var t=new Object;t.colorStops=new Array;var n=me.getBracketedSubstring(e,"-sand-gradient");if(n==undefined)return null;var r=n.match(/[^\(,]+(\([^\)]*\))?[^,]*/g);if(t.type=r[0].trim(),"linear"==t.type){t.dirBegin=r[1].trim(),t.dirEnd=r[2].trim();for(var i=t.dirBegin.split(reSpaces),o=t.dirEnd.split(reSpaces),s=3;s<r.length;s++)t.colorStops.push(parseColorStop(r[s].trim(),s-3));if(document.body.filters){if(t.x0==t.x1)switch(i[1]){case"top":t.IEdir=0;break;case"bottom":swapIndices(t.colorStops,0,1),t.IEdir=0}if(t.y0==t.y1)switch(i[0]){case"left":t.IEdir=1;break;case"right":t.IEdir=1,swapIndices(t.colorStops,0,1)}}}else{if(document.body.filters)return null;t.dirBegin=r[1].trim(),t.r0=r[2].trim(),t.dirEnd=r[3].trim(),t.r1=r[4].trim();for(i=t.dirBegin.split(reSpaces),o=t.dirEnd.split(reSpaces),s=5;s<r.length;s++)t.colorStops.push(parseColorStop(r[s].trim(),s-5))}return t.x0=i[0],t.y0=i[1],t.x1=o[0],t.y1=o[1],t},me.reportGradientSupport=function(){if(!cache.gradientSupport){var e,t=document.createElement("div");if(t.style.cssText="background-image:-webkit-gradient(linear, 0% 0%, 0% 100%, from(red), to(blue));",t.style.backgroundImage)e=implementation.WEBKIT;else{var n=CSS3Helpers.getCanvas();e=n.getContext&&n.toDataURL?implementation.CANVAS_WORKAROUND:implementation.NONE}cache.gradientSupport=e}return cache.gradientSupport},me.reportColorSpaceSupport=function(e,t){if(!cache[e+t]){var n,r=document.createElement("div");switch(t){case colorType.BACKGROUND:switch(e){case"RGBA":r.style.cssText="background-color: rgba(255, 32, 34, 0.5)";break;case"HSL":r.style.cssText="background-color: hsl(0,0%,100%)";break;case"HSLA":r.style.cssText="background-color: hsla(0,0%,100%,.5)"}var i=document.body;n=r.style.backgroundColor?implementation.NATIVE:i.filters&&i.filters!=undefined?implementation.FILTER_WORKAROUND:implementation.NONE;break;case colorType.FOREGROUND:switch(e){case"RGBA":r.style.cssText="color: rgba(255, 32, 34, 0.5)";break;case"HSL":r.style.cssText="color: hsl(0,0%,100%)";break;case"HSLA":r.style.cssText="color: hsla(0,0%,100%,.5)"}n=r.style.color?implementation.NATIVE:"HSL"==e?implementation.HEX_WORKAROUND:implementation.NONE}cache[e]=n}return cache[e]},me.getBracketedSubstring=function(e,t){var n=e.indexOf(t+"(");if(-1!=n){for(var r=e.substring(n),i=1,o=t.length+1;o<100||o<r.length;o++){switch(r.substring(o,o+1)){case"(":i++;break;case")":i--}if(0==i)break}return r.substring(n+t.length+1,o)}},me.setMatrixFilter=function(e,t){hasIETransformWorkaround(e)||addIETransformWorkaround(e);var n=e.parentNode;filter=e.filters.item("DXImageTransform.Microsoft.Matrix"),filter.M11=t.e(1,1),filter.M12=t.e(1,2),filter.M21=t.e(2,1),filter.M22=t.e(2,2),filter=me.addFilter(e,"DXImageTransform.Microsoft.Matrix",StringHelpers.sprintf("M11=%f, M12=%f, M21=%f, M22=%f, sizingMethod='auto expand'",t.e(1,1),t.e(1,2),t.e(2,1),t.e(2,2)));var r=me.getIEMatrixOffsets(e,t,n.xOriginalWidth,n.xOriginalHeight);n.style.marginLeft=r.x,n.style.marginTop=r.y,n.style.marginRight=0,n.style.marginBottom=0},me.getTransformedDimensions=function(e,t){var n={};if(hasIETransformWorkaround(e))n.width=e.offsetWidth,n.height=e.offsetHeight;else{for(var r=[t.x($V([0,0,1])),t.x($V([0,e.offsetHeight,1])),t.x($V([e.offsetWidth,0,1])),t.x($V([e.offsetWidth,e.offsetHeight,1]))],i=0,o=0,s=0,a=0,l=0;l<r.length;l++){var c=r[l],u=c.e(1),f=c.e(2);s=Math.min(s,u),i=Math.max(i,u),a=Math.min(a,f),o=Math.max(o,f)}n.width=i-s,n.height=o-a}return n},me.getIEMatrixOffsets=function(e,t,n,r){var i,o={},s=parseFloat(n),a=parseFloat(r);i="inline"==CSSHelpers.getComputedStyle(e,"display")?0:13;var l=me.getTransformedDimensions(e,t);return o.x=(s-l.width)/2-i+t.e(1,3)+"px",o.y=(a-l.height)/2-i+t.e(2,3)+"px",o},me.addFilter=function(e,t,n){var r;e.filters.length,e.style.filter=getPreviousFilters(e,t)+StringHelpers.sprintf("progid:%s(%s)",t,n);try{r=e.filters.item(t)}catch(i){return null}return DOMHelpers.setDatasetItem(e,filterDatasetName+t,n.toLowerCase()),r},me.findProperty=function(e,t){capType=t.capitalize();var n=cache[t];if(!n){var r="transform"==t,i=e.style,o=[t,"Moz"+capType,"Webkit"+capType,"O"+capType];(r&&!CSSHelpers.isMemberOfClass(document.body,"cssSandpaper-noMSTransform")||!r)&&o.push("ms"+capType),o.push("filter");for(var s=0;s<o.length;s++)if(null!=i[o[s]]){n=o[s];break}"filter"==n&&document.body.filters==undefined&&(n=null),cache[t]=n}return n},me.parseCoordinate=function(e,t){switch(e){case"top":case"left":return 0;case"bottom":case"right":return t;case"center":return t/2}if(e=-1!=e.indexOf("%")?parseFloat(e.substr(0,e.length-1))/100*t:parseFloat(e),isNaN(e))throw Error("Unable to parse coordinate: "+e);return e},me.applyCanvasGradient=function(e,t){var n=me.getCanvas(),r=document.defaultView.getComputedStyle(e,null);n.width=parseInt(r.width)+parseInt(r.paddingLeft)+parseInt(r.paddingRight)+1,n.height=parseInt(r.height)+parseInt(r.paddingTop)+parseInt(r.paddingBottom)+2;var i,o=n.getContext("2d");i="linear"==t.type?o.createLinearGradient(me.parseCoordinate(t.x0,n.width),me.parseCoordinate(t.y0,n.height),me.parseCoordinate(t.x1,n.width),me.parseCoordinate(t.y1,n.height)):o.createRadialGradient(me.parseCoordinate(t.x0,n.width),me.parseCoordinate(t.y0,n.height),t.r0,me.parseCoordinate(t.x1,n.width),me.parseCoordinate(t.y1,n.height),t.r1);for(var s=0;s<t.colorStops.length;s++){var a=t.colorStops[s];i.addColorStop(a.stop,a.color)}o.fillStyle=i,o.fillRect(0,0,n.width,n.height),e.style.backgroundImage="url('"+n.toDataURL()+"')"}},implementation=new function(){this.NONE=0,this.NATIVE=1,this.MOZILLA=2,this.WEBKIT=3,this.IE=4,this.OPERA=5,this.CANVAS_WORKAROUND=6,this.FILTER_WORKAROUND=7,this.HEX_WORKAROUND=8},colorType=new function(){this.BACKGROUND=0,this.FOREGROUND=1};function StringBuffer(){var t=this,n=[];t.append=function(e){return n.push(e),t},t.appendBuffer=function(e){n=n.concat(e)},t.toString=function(){return n.join("")},t.getLength=function(){return n.length},t.flush=function(){n.length=0}}function RGBColor(e){var c=this;c.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",metle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)t.hasOwnProperty(n)&&e==n&&(e=t[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(0{0,1}\.\d{1,}|0\.{0,}0*|1\.{0,}0*)\)$/,example:["rgba(123, 234, 45, 22)","rgba(255, 234,245, 34)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^hsla\((\d{1,3}),\s*(\d{1,3}%),\s*(\d{1,3}%),\s*(0{0,1}\.\d{1,}|0\.{0,}0*|1\.{0,}0*)\)$/,example:["hsla(0,100%,50%,0.2)"],process:function(e){var t=l(parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4]));return[t.r,t.g,t.b,parseFloat(e[4])]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}%),\s*(\d{1,3}%)\)$/,example:["hsl(0,100%,50%)"],process:function(e){var t=l(parseInt(e[1]),parseInt(e[2]),parseInt(e[3]));return[t.r,t.g,t.b,1]}}],i=0;i<r.length;i++){var o=r[i].re,s=r[i].process,a=o.exec(e);a&&(channels=s(a),c.r=channels[0],c.g=channels[1],c.b=channels[2],c.a=channels[3],c.ok=!0)}function l(e,t,n){var r,i,o,s,a,l;return n/=100,0==(t/=100)?s=a=l=255*n:(s=u(r=2*n-(i=n<=.5?n*(t+1):n+t-n*t),i,(o=e/360)+1/3),a=u(r,i,o),l=u(r,i,o-1/3)),{r:Math.round(s),g:Math.round(a),b:Math.round(l)}}function u(e,t,n){return n<0?n+=1:1<n&&(n-=1),255*(6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e)}c.r=c.r<0||isNaN(c.r)?0:255<c.r?255:c.r,c.g=c.g<0||isNaN(c.g)?0:255<c.g?255:c.g,c.b=c.b<0||isNaN(c.b)?0:255<c.b?255:c.b,c.a=isNaN(c.a)?1:255<c.a?255:c.a<0?0:c.a,c.toRGB=function(){return"rgb("+c.r+", "+c.g+", "+c.b+")"},c.toRGBA=function(){return"rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")"},c.toHSV=function(){var e,t,n=c.r/255,r=c.g/255,i=c.b/255,o=Math.max(n,r,i),s=Math.min(n,r,i),a=o,l=o-s;if(t=0==o?0:l/o,o==s)e=0;else{switch(o){case n:e=(r-i)/l+(r<i?6:0);break;case r:e=(i-n)/l+2;break;case i:e=(n-r)/l+4}e/=6}return{h:e,s:t,v:a}},c.toHex=function(){var e=c.r.toString(16),t=c.g.toString(16),n=c.b.toString(16),r=Math.floor(255*c.a).toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"ff"==r?r="":1==r.length&&(r="0"+r),"#"+r+e+t+n}}window.StringHelpers||(StringHelpers=new function(){var e=this;e.initWhitespaceRe=/^\s\s*/,e.endWhitespaceRe=/\s\s*$/,e.whitespaceRe=/\s/,e.sprintf=function(e){var a=function(e,t,n){for(var r="",i=0;i<Math.abs(n);i++)r+=t;return 0<n?e+r:r+e},s=function(e,t,n,r){var i=function(e,t,n){return 0<=t?0<=e.indexOf(" ")?n=" "+n:0<=e.indexOf("+")&&(n="+"+n):n="-"+n,n},o=parseInt(t,10);if("0"!=t.charAt(0))return(n=i(e,r,n)).length<o&&(n=e.indexOf("-")<0?a(n," ",n.length-o):a(n," ",o-n.length)),n;var s=0;return(0<=e.indexOf(" ")||0<=e.indexOf("+"))&&s++,n.length<o-s&&(n=a(n,"0",n.length-(o-s))),i(e,r,n)},i=new Array;i.c=function(e,t,n,r){return"number"==typeof r?String.fromCharCode(r):"string"==typeof r?r.charAt(0):""},i.d=function(e,t,n,r){return i.i(e,t,n,r)},i.u=function(e,t,n,r){return i.i(e,t,n,Math.abs(r))},i.i=function(e,t,n,r){var i=parseInt(n),o=Math.abs(r).toString().split(".")[0];return o.length<i&&(o=a(o," ",i-o.length)),s(e,t,o,r)},i.E=function(e,t,n,r){return i.e(e,t,n,r).toUpperCase()},i.e=function(e,t,n,r){return iPrecision=parseInt(n),isNaN(iPrecision)&&(iPrecision=6),rs=Math.abs(r).toExponential(iPrecision),rs.indexOf(".")<0&&0<=e.indexOf("#")&&(rs=rs.replace(/^(.*)(e.*)$/,"$1.$2")),s(e,t,rs,r)},i.f=function(e,t,n,r){return iPrecision=parseInt(n),isNaN(iPrecision)&&(iPrecision=6),rs=Math.abs(r).toFixed(iPrecision),rs.indexOf(".")<0&&0<=e.indexOf("#")&&(rs+="."),s(e,t,rs,r)},i.G=function(e,t,n,r){return i.g(e,t,n,r).toUpperCase()},i.g=function(e,t,n,r){return iPrecision=parseInt(n),absArg=Math.abs(r),rse=absArg.toExponential(),rsf=absArg.toFixed(6),isNaN(iPrecision)||(rsep=absArg.toExponential(iPrecision),rse=rsep.length<rse.length?rsep:rse,rsfp=absArg.toFixed(iPrecision),rsf=rsfp.length<rsf.length?rsfp:rsf),rse.indexOf(".")<0&&0<=e.indexOf("#")&&(rse=rse.replace(/^(.*)(e.*)$/,"$1.$2")),rsf.indexOf(".")<0&&0<=e.indexOf("#")&&(rsf+="."),rs=rse.length<rsf.length?rse:rsf,s(e,t,rs,r)},i.o=function(e,t,n,r){var i=parseInt(n),o=Math.round(Math.abs(r)).toString(8);return o.length<i&&(o=a(o," ",i-o.length)),0<=e.indexOf("#")&&(o="0"+o),s(e,t,o,r)},i.X=function(e,t,n,r){return i.x(e,t,n,r).toUpperCase()},i.x=function(e,t,n,r){var i=parseInt(n);r=Math.abs(r);var o=Math.round(r).toString(16);return o.length<i&&(o=a(o," ",i-o.length)),0<=e.indexOf("#")&&(o="0x"+o),s(e,t,o,r)},i.s=function(e,t,n,r){var i=parseInt(n),o=r;return o.length>i&&(o=o.substring(0,i)),s(e,t,o,0)},farr=e.split("%"),retstr=farr[0],fpRE=/^([-+ #]*)(\d*)\.?(\d*)([cdieEfFgGosuxX])(.*)$/;for(var t=1;t<farr.length;t++)fps=fpRE.exec(farr[t]),fps&&(null!=arguments[t]&&(retstr+=i[fps[4]](fps[1],fps[2],fps[3],arguments[t])),retstr+=fps[5]);return retstr},e.uncommentHTML=function(e){return-1!=e.indexOf("--\x3e")&&-1!=e.indexOf("\x3c!--")?e.replace("\x3c!--","").replace("--\x3e",""):e}}),window.XMLHelpers||(XMLHelpers=new function(){var c=this;c.getXMLHttpRequest=function(e,t){var n,r=c.getXMLHttpRequest.arguments,i=c.getXMLHttpRequest.arguments.length,o=2<i?r[2]:"GET",s=3<i?r[3]:"",a=!(4<i)||r[4];if(window.XMLHttpRequest)n=new XMLHttpRequest;else{if(!window.ActiveXObject)return null;try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){n=new ActiveXObject("Microsoft.XMLHTTP")}}return a&&(n.onreadystatechange=t),"GET"==o&&""!=s&&(e+="?"+s),n.open(o,e,a),n.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"),n.send(s),n}}),window.CSSHelpers||(CSSHelpers=new function(){var n=this,i=new RegExp("\\s");function a(e){return"\\s"+e+"\\s|^"+e+"\\s|\\s"+e+"$|^"+e+"$"}function a(e){return"\\s"+e+"\\s|^"+e+"\\s|\\s"+e+"$|^"+e+"$"}n.getComputedStyle=function(e,t){return("undefined"!=typeof e.currentStyle?e.currentStyle:document.defaultView.getComputedStyle(e,null))[t]},n.isMemberOfClass=function(e,t){return!i.test(t)&&new RegExp(a(t),"g").test(e.className)},n.addClass=function(e,t){i.test(t)||n.isMemberOfClass(e,t)||(e.className+=" "+t)},n.removeClass=function(e,t){if(!i.test(t)){var n=new RegExp(a(t),"g"),r=e.className;e.className&&(e.className=r.replace(n,""))}},n.getElementsByClassName=function(e,t){if(e.getElementsByClassName)return DOMHelpers.nodeListToArray(e.getElementsByClassName(t));for(var n=[],r=new RegExp(a(t)),i=DOMHelpers.getAllDescendants(e),o=0,s=i.length;o<s;o++)r.test(i[o].className)&&n.push(i[o]);return n}}),String.prototype.trim=function(){var e=this;if(6e3<this.length){for(var t=(e=this.replace(StringHelpers.initWhitespaceRe,"")).length;StringHelpers.whitespaceRe.test(e.charAt(--t)););return e.slice(0,t+1)}return this.replace(StringHelpers.initWhitespaceRe,"").replace(StringHelpers.endWhitespaceRe,"")},window.DOMHelpers||(DOMHelpers=new function(){var i=this;i.getAllDescendants=function(e){return e.all?e.all:e.getElementsByTagName("*")},i.nodeListToArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},i.getDefinedAttributes=function(e){for(var t=e.attributes,n=new Array,r=0;r<t.length;r++)attr=t[r],attr.specified&&(n[attr.name]=attr.value);return n},i.getAttributeByName=function(e,t){var n=e.attributes;try{return n.getNamedItem(t)}catch(o){var r;for(r=0;r<n.length;r++){var i=n[r];if(i.nodeName==t&&i.specified)return i}return null}},i.getAttributeValue=function(e,t){var n=i.getAttributeByName(e,t);return null!=n?n.nodeValue:e[t]},i.setAttributeValue=function(e,t,n){var r=i.getAttributeByName(e,t);null!=r?r.nodeValue=n:((r=document.createAttribute(t)).value=n,e.setAttributeNode(r))},i.getDataset=function(e){var t=new Array,n=DOMHelpers.getDefinedAttributes(e);for(var r in n){if(n.hasOwnProperty(r))if(0==r.indexOf("data-"))t[r.substring(5)]=n[r]}return t},i.getDatasetItem=function(e,t){var n="data-"+t.toLowerCase(),r=DOMHelpers.getAttributeValue(e,n);return r||(r=e[n]),r},i.setDatasetItem=function(e,t,n){var r="data-"+t.toLowerCase();DOMHelpers.setAttributeValue(e,r,n);null==DOMHelpers.getAttributeValue(e,r)&&(e[r]=n)}}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1)},document.write('<style type="text/css">.cssSandpaper-initiallyHidden { visibility: hidden;} </style>'),EventHelpers.addPageLoadEvent("cssSandpaper.init"),window.cssSandpaper=cssSandpaper,window.MatrixGenerator=MatrixGenerator}function patchWebPerformance(){!function(s){"use strict";void 0===s&&(s={}),"undefined"==typeof s.performance&&(s.performance={}),s._perfRefForUserTimingPolyfill=s.performance,s.performance.userTimingJsNow=!1,s.performance.userTimingJsNowPrefixed=!1,s.performance.userTimingJsUserTiming=!1,s.performance.userTimingJsUserTimingPrefixed=!1,s.performance.userTimingJsPerformanceTimeline=!1,s.performance.userTimingJsPerformanceTimelinePrefixed=!1;var r,e,t=[],n=[],i=null;if("function"!=typeof s.performance.now){for(s.performance.userTimingJsNow=!0,n=["webkitNow","msNow","mozNow"],r=0;r<n.length;r++)if("function"==typeof s.performance[n[r]]){s.performance.now=s.performance[n[r]],s.performance.userTimingJsNowPrefixed=!0;break}var o=+new Date;s.performance.timing&&s.performance.timing.navigationStart?o=s.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(o=process.hrtime(),s.performance.now=function(){var e=process.hrtime(o);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof s.performance.now&&(Date.now?s.performance.now=function(){return Date.now()-o}:s.performance.now=function(){return+new Date-o})}var a=function(){},l=function(){},c=[],u=!1,f=!1;if("function"!=typeof s.performance.getEntries||"function"!=typeof s.performance.mark){for("function"==typeof s.performance.getEntries&&"function"!=typeof s.performance.mark&&(f=!0),s.performance.userTimingJsPerformanceTimeline=!0,t=["webkit","moz"],n=["getEntries","getEntriesByName","getEntriesByType"],r=0;r<n.length;r++)for(e=0;e<t.length;e++)i=t[e]+n[r].substr(0,1).toUpperCase()+n[r].substr(1),"function"==typeof s.performance[i]&&(s.performance[n[r]]=s.performance[i],s.performance.userTimingJsPerformanceTimelinePrefixed=!0);a=function(e){c.push(e),"measure"===e.entryType&&(u=!0)};var h=function(){u&&(c.sort(function(e,t){return e.startTime-t.startTime}),u=!1)};if(l=function(e,t){for(r=0;r<c.length;)c[r].entryType===e&&(void 0===t||c[r].name===t)?c.splice(r,1):r++},"function"!=typeof s.performance.getEntries||f){var d=s.performance.getEntries;s.performance.getEntries=function(){h();var e=c.slice(0);return f&&d&&(Array.prototype.push.apply(e,d.call(s.performance)),e.sort(function(e,t){return e.startTime-t.startTime})),e}}if("function"!=typeof s.performance.getEntriesByType||f){var p=s.performance.getEntriesByType;s.performance.getEntriesByType=function(e){if(void 0===e||"mark"!==e&&"measure"!==e)return f&&p?p.call(s.performance,e):[];"measure"===e&&h();var t=[];for(r=0;r<c.length;r++)c[r].entryType===e&&t.push(c[r]);return t}}if("function"!=typeof s.performance.getEntriesByName||f){var g=s.performance.getEntriesByName;s.performance.getEntriesByName=function(e,t){if(t&&"mark"!==t&&"measure"!==t)return f&&g?g.call(s.performance,e,t):[];void 0!==t&&"measure"===t&&h();var n=[];for(r=0;r<c.length;r++)void 0!==t&&c[r].entryType!==t||c[r].name===e&&n.push(c[r]);return f&&g&&(Array.prototype.push.apply(n,g.call(s.performance,e,t)),n.sort(function(e,t){return e.startTime-t.startTime})),n}}}if("function"!=typeof s.performance.mark){for(s.performance.userTimingJsUserTiming=!0,t=["webkit","moz","ms"],n=["mark","measure","clearMarks","clearMeasures"],r=0;r<n.length;r++)for(e=0;e<t.length;e++)i=t[e]+n[r].substr(0,1).toUpperCase()+n[r].substr(1),"function"==typeof s.performance[i]&&(s.performance[n[r]]=s.performance[i],s.performance.userTimingJsUserTimingPrefixed=!0);var m={};"function"!=typeof s.performance.mark&&(s.performance.mark=function(e){var t=s.performance.now();if(void 0===e)throw new SyntaxError("Mark name must be specified");if(s.performance.timing&&e in s.performance.timing)throw new SyntaxError("Mark name is not allowed");m[e]||(m[e]=[]),m[e].push(t),a({entryType:"mark",name:e,startTime:t,duration:0})}),"function"!=typeof s.performance.clearMarks&&(s.performance.clearMarks=function(e){e?m[e]=[]:m={},l("mark",e)}),"function"!=typeof s.performance.measure&&(s.performance.measure=function(e,t,n){var r=s.performance.now();if(void 0===e)throw new SyntaxError("Measure must be specified");if(t){var i=0;if(s.performance.timing&&t in s.performance.timing){if("navigationStart"!==t&&0===s.performance.timing[t])throw new Error(t+" has a timing of 0");i=s.performance.timing[t]-s.performance.timing.navigationStart}else{if(!(t in m))throw new Error(t+" mark not found");i=m[t][m[t].length-1]}var o=r;if(n)if(o=0,s.performance.timing&&n in s.performance.timing){if("navigationStart"!==n&&0===s.performance.timing[n])throw new Error(n+" has a timing of 0");o=s.performance.timing[n]-s.performance.timing.navigationStart}else{if(!(n in m))throw new Error(n+" mark not found");o=m[n][m[n].length-1]}a({entryType:"measure",name:e,startTime:i,duration:o-i})}else a({entryType:"measure",name:e,startTime:0,duration:r})}),"function"!=typeof s.performance.clearMeasures&&(s.performance.clearMeasures=function(e){l("measure",e)})}"function"==typeof define&&define.amd?define([],function(){return s.performance}):"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=s.performance)}(void 0!==window?window:undefined)}function patchPlaceholder(){!function(e){"use strict";var t=void 0!==document.createElement("input").placeholder;if(e.Placeholders={nativeSupport:t,disable:t?C:D,enable:t?C:function H(e){P(e,L)}},!t){var l,n=["text","search","url","tel","email","password","number","textarea"],c=[27,33,34,35,36,37,38,39,40,8,46],r="placeholdersjs",s=new RegExp("(?:^|\\s)"+r+"(?!\\S)"),u="data-placeholder-value",f="data-placeholder-active",a="data-placeholder-type",h="data-placeholder-submit",d="data-placeholder-bound",p="data-placeholder-maxlength",i=document.getElementsByTagName("head")[0],o=document.documentElement,g=e.Placeholders,m=document.getElementsByTagName("input"),b=document.getElementsByTagName("textarea"),v="false"===o.getAttribute("data-placeholder-focus"),y="false"!==o.getAttribute("data-placeholder-live"),k=document.createElement("style");k.type="text/css";var w,S,T=document.createTextNode("."+r+" {color:#ccc;}");k.styleSheet?k.styleSheet.cssText=T.nodeValue:k.appendChild(T),i.insertBefore(k,i.firstChild);for(var E=0,R=m.length+b.length;E<R;E++)S=E<m.length?m[E]:b[E-m.length],(w=S.attributes.placeholder)&&(w=w.nodeValue)&&N(n,S.type)&&B(S);var x=setInterval(function(){for(var e=0,t=m.length+b.length;e<t;e++)S=e<m.length?m[e]:b[e-m.length],(w=S.attributes.placeholder)?(w=w.nodeValue)&&N(n,S.type)&&(S.getAttribute(d)||B(S),(w!==S.getAttribute(u)||"password"===S.type&&!S.getAttribute(a))&&("password"===S.type&&!S.getAttribute(a)&&A(S,"text")&&S.setAttribute(a,"password"),S.value===S.getAttribute(u)&&(S.value=w),S.setAttribute(u,w))):S.getAttribute(f)&&(M(S),S.removeAttribute(u));y||clearInterval(x)},100);_(e,"beforeunload",function(){g.disable()})}function C(){}function I(){try{return document.activeElement}catch(e){}}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function _(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):void 0}function O(e,t){var n;e.createTextRange?((n=e.createTextRange()).move("character",t),n.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}function A(e,t){try{return e.type=t,!0}catch(n){return!1}}function P(e,t){if(e&&e.getAttribute(u))t(e);else for(var n=e?e.getElementsByTagName("input"):m,r=e?e.getElementsByTagName("textarea"):b,i=n?n.length:0,o=i+(r?r.length:0),s=0;s<o;s++)t(s<i?n[s]:r[s-i])}function D(e){P(e,M)}function M(e,t){var n=!!t&&e.value!==t,r=e.value===e.getAttribute(u);if(!n&&!r||"true"!==e.getAttribute(f))return!1;e.removeAttribute(f),e.value=e.value.replace(e.getAttribute(u),""),e.className=e.className.replace(s,"");var i=e.getAttribute(p);0<=parseInt(i,10)&&(e.setAttribute("maxLength",i),e.removeAttribute(p));var o=e.getAttribute(a);return o&&(e.type=o),!0}function L(e){var t=e.getAttribute(u);return!(""!==e.value||!t)&&(e.setAttribute(f,"true"),e.value=t,e.className+=" "+r,e.getAttribute(p)||(e.setAttribute(p,e.maxLength),e.removeAttribute("maxLength")),e.getAttribute(a)?e.type="text":"password"===e.type&&A(e,"text")&&e.setAttribute(a,"password"),!0)}function B(e){var t=e.form;t&&"string"==typeof t&&((t=document.getElementById(t)).getAttribute(h)||(_(t,"submit",function n(e){return function(){D(e)}}(t)),t.setAttribute(h,"true"))),_(e,"focus",function r(e){return function(){v&&e.value===e.getAttribute(u)&&"true"===e.getAttribute(f)?O(e,0):M(e)}}(e)),_(e,"blur",function i(e){return function(){L(e)}}(e)),v&&(_(e,"keydown",function o(t){return function(e){if(l=t.value,"true"===t.getAttribute(f)&&l===t.getAttribute(u)&&N(c,e.keyCode))return e.preventDefault&&e.preventDefault(),!1}}(e)),_(e,"keyup",function s(e){return function(){M(e,l),""===e.value&&(e.blur(),O(e,0))}}(e)),_(e,"click",function a(e){return function(){e===I()&&e.value===e.getAttribute(u)&&"true"===e.getAttribute(f)&&O(e,0)}}(e))),e.setAttribute(d,"true"),e.setAttribute(u,w),(v||e!==I())&&L(e)}}(this)}function patchBlob(){!function(){var h="object"==typeof window?window:"object"==typeof self?self:this,r=h.BlobBuilder||h.WebKitBlobBuilder||h.MSBlobBuilder||h.MozBlobBuilder;h.URL=h.URL||h.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t};var n=h.Blob,d=URL.createObjectURL,p=URL.revokeObjectURL,o=h.Symbol&&h.Symbol.toStringTag,e=!1,t=!1,g=!!h.ArrayBuffer,i=r&&r.prototype.append&&r.prototype.getBlob;try{e=2===new Blob([""]).size,t=2===new Blob([new Uint8Array([1,2])]).size}catch(m){}function s(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function a(e,t){t=t||{};var n=new r;return s(e).forEach(function(e){n.append(e)}),t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return new n(s(e),t||{})}function c(){var e=!!h.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,t=h.XMLHttpRequest&&h.XMLHttpRequest.prototype.send;e&&t&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob&&this.setRequestHeader("Content-Type",e.type),t.call(this,e)});try{new File([],"")}catch(m){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();h.File=n}catch(m){n=function(e,t,n){var r=new Blob(e,n),i=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return r.name=t,r.lastModifiedDate=i,r.lastModified=+i,r.toString=function(){return"[object File]"},o&&(r[o]="File"),r};h.File=n}}}h.Blob&&(a.prototype=Blob.prototype,l.prototype=Blob.prototype),o&&(File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"),e?(c(),h.Blob=t?h.Blob:l):i?(c(),h.Blob=a):function b(){function s(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||57344<=r?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}function t(e){var t,n,r,i,o,s;for(t="",r=e.length,n=0;n<r;)switch((i=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=e[n++],s=e[n++],t+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&s)<<0)}return t}function a(e){for(var t=new Array(e.byteLength),n=new Uint8Array(e),r=t.length;r--;)t[r]=n[r];return t}function n(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.length;r+=3){var i=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=i>>2,u=(3&i)<<4|s>>4,f=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(f=64)),n.push(t[c],t[u],t[f],t[h])}return n.join("")}var e=Object.create||function(e){function t(){}return t.prototype=e,new t};if(g)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))};function c(e,t){for(var n=0,r=(e=e||[]).length;n<r;n++){var i=e[n];i instanceof c?e[n]=i._buffer:"string"==typeof i?e[n]=s(i):g&&(ArrayBuffer.prototype.isPrototypeOf(i)||l(i))?e[n]=a(i):g&&(o=i)&&DataView.prototype.isPrototypeOf(o)?e[n]=a(i.buffer):e[n]=s(String(i))}var o;this._buffer=[].concat.apply([],e),this.size=this._buffer.length,this.type=t&&t.type||""}function i(e,t,n){var r=c.call(this,e,n=n||{})||this;return r.name=t,r.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(c.prototype.slice=function(e,t,n){return new c([this._buffer.slice(e||0,t||this._buffer.length)],{type:n})},c.prototype.toString=function(){return"[object Blob]"},(i.prototype=e(c.prototype)).constructor=i,Object.setPrototypeOf)Object.setPrototypeOf(i,c);else try{i.__proto__=c}catch(m){}function o(){if(!(this instanceof o))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var n=document.createDocumentFragment();this.addEventListener=n.addEventListener,this.dispatchEvent=function(e){var t=this["on"+e.type];"function"==typeof t&&t(e),n.dispatchEvent(e)},this.removeEventListener=n.removeEventListener}function u(e,t,n){if(!(t instanceof c))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout(function(){this.readyState=o.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))})}i.prototype.toString=function(){return"[object File]"},o.EMPTY=0,o.LOADING=1,o.DONE=2,o.prototype.error=null,o.prototype.onabort=null,o.prototype.onerror=null,o.prototype.onload=null,o.prototype.onloadend=null,o.prototype.onloadstart=null,o.prototype.onprogress=null,o.prototype.readAsDataURL=function(e){u(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+n(e._buffer)},o.prototype.readAsText=function(e){u(this,e,"readAsText"),this.result=t(e._buffer)},o.prototype.readAsArrayBuffer=function(e){u(this,e,"readAsText"),this.result=e._buffer.slice()},o.prototype.abort=function(){},URL.createObjectURL=function(e){return e instanceof c?"data:"+e.type+";base64,"+n(e._buffer):d.call(URL,e)},URL.revokeObjectURL=function(e){p&&p.call(URL,e)};var f=h.XMLHttpRequest&&h.XMLHttpRequest.prototype.send;f&&(XMLHttpRequest.prototype.send=function(e){e instanceof c?(this.setRequestHeader("Content-Type",e.type),f.call(this,t(e._buffer))):f.call(this,e)}),h.FileReader=o,h.File=i,h.Blob=c}()}()}function patchBase64(){!function(){var e="object"==typeof exports&&null!==exports&&"number"!=typeof exports.nodeType?exports:"undefined"!=typeof self?self:$.global,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(e){this.message=e}(l.prototype=new Error).name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var t,n,r=String(e),i=0,o=a,s="";r.charAt(0|i)||(o="=",i%1);s+=o.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return s}),e.atob||(e.atob=function(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r=a.indexOf(r);return s})}()}function patchTypedArray(){!function(d){"use strict";var p=void 0,g=1e5;function m(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object"}}function b(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function v(e){return"function"==typeof e}function y(e){if(null===e||e===p)throw TypeError();return Object(e)}function k(e){return e>>0}function w(e){return e>>>0}var i,e,S=Math.LN2,T=Math.abs,E=Math.floor,R=Math.log,x=Math.max,C=Math.min,I=Math.pow,t=Math.round;function n(e,t){var n=32-t;return e<<n>>n}function r(e,t){var n=32-t;return e<<n>>>n}function N(e){return[255&e]}function _(e){return n(e[0],8)}function O(e){return[255&e]}function A(e){return r(e[0],8)}function P(e){return[(e=t(Number(e)))<0?0:255<e?255:255&e]}function D(e){return[255&e,e>>8&255]}function M(e){return n(e[1]<<8|e[0],16)}function L(e){return[255&e,e>>8&255]}function B(e){return r(e[1]<<8|e[0],16)}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function F(e){return n(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function W(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return r(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function o(e,t,n){var r,i,o,s=(1<<t-1)-1;function a(e){var t=E(e),n=e-t;return n<.5?t:.5<n?t+1:t%2?t+1:t}if(e!=e)i=(1<<t)-1,o=I(2,n-1),r=0;else if(e===Infinity||e===-Infinity)i=(1<<t)-1,r=e<(o=0)?1:0;else if(0===e)o=i=0,r=1/e==-Infinity?1:0;else if(r=e<0,(e=T(e))>=I(2,1-s)){i=C(E(R(e)/S),1023);var l=e/I(2,i);l<1&&(i-=1,l*=2),2<=l&&(i+=1,l/=2);var c=I(2,n);i+=s,1<=(o=a(l*c)-c)/c&&(i+=1,o=0),2*s<i&&(i=(1<<t)-1,o=0)}else i=0,o=a(e/I(2,1-s-n));var u,f=[];for(u=n;u;u-=1)f.push(o%2?1:0),o=E(o/2);for(u=t;u;u-=1)f.push(i%2?1:0),i=E(i/2);f.push(r?1:0),f.reverse();for(var h=f.join(""),d=[];h.length;)d.unshift(parseInt(h.substring(0,8),2)),h=h.substring(8);return d}function s(e,t,n){var r,i,o,s,a,l,c,u,f=[];for(r=0;r<e.length;++r)for(o=e[r],i=8;i;i-=1)f.push(o%2?1:0),o>>=1;return f.reverse(),s=f.join(""),a=(1<<t-1)-1,l=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+t),2),u=parseInt(s.substring(1+t),2),c===(1<<t)-1?0!==u?NaN:l*Infinity:0<c?l*I(2,c-a)*(1+u/I(2,n)):0!==u?l*I(2,-(a-1))*(u/I(2,n)):l<0?-0:0}function j(e){return s(e,11,52)}function z(e){return o(e,11,52)}function V(e){return s(e,8,23)}function q(e){return o(e,8,23)}i=Object.defineProperty,e=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}(),i&&!e||(Object.defineProperty=function(e,t,n){if(i)try{return i(e,t,n)}catch(r){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(e,t,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(e,t,n.set),"value"in n&&(e[t]=n.value),e}),function(){function i(e){if((e=k(e))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(var t=0;t<e;t+=1)this._bytes[t]=0}function o(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if((e=k(e))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new i(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(1<=arguments.length&&"object"===m(arguments[0])&&arguments[0]instanceof o)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var n=0;n<this.length;n+=1)this._setter(n,e._getter(n))}.apply(this,arguments);if(1<=arguments.length&&"object"===m(arguments[0])&&!(arguments[0]instanceof o)&&!(arguments[0]instanceof i||"ArrayBuffer"===b(arguments[0])))return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var n=0;n<this.length;n+=1){var r=e[n];this._setter(n,Number(r))}}.apply(this,arguments);if(1<=arguments.length&&"object"===m(arguments[0])&&(arguments[0]instanceof i||"ArrayBuffer"===b(arguments[0])))return function(e,t,n){if((t=w(t))>e.byteLength)throw RangeError("byteOffset out of range");if(t%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(n===p){var r=e.byteLength-t;if(r%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");n=r/this.BYTES_PER_ELEMENT}else r=(n=w(n))*this.BYTES_PER_ELEMENT;if(t+r>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:t}),Object.defineProperty(this,"length",{value:n})}.apply(this,arguments);throw TypeError()}d.ArrayBuffer=d.ArrayBuffer||i,Object.defineProperty(o,"from",{value:function(e){return new this(e)}}),Object.defineProperty(o,"of",{value:function(){return new this(arguments)}});var s={};function e(e,t,n){var i=function(){Object.defineProperty(this,"constructor",{value:i}),o.apply(this,arguments),function r(n){if(!("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in d)){if(n.length>g)throw RangeError("Array too large for polyfill");var e;for(e=0;e<n.length;e+=1)t(e)}function t(t){Object.defineProperty(n,t,{get:function(){return n._getter(t)},set:function(e){n._setter(t,e)},enumerable:!0,configurable:!1})}}(this)};"__proto__"in i?i.__proto__=o:(i.from=o.from,i.of=o.of),i.BYTES_PER_ELEMENT=e;var r=function(){};return r.prototype=s,i.prototype=new r,Object.defineProperty(i.prototype,"BYTES_PER_ELEMENT",{value:e}),Object.defineProperty(i.prototype,"_pack",{value:t}),Object.defineProperty(i.prototype,"_unpack",{value:n}),i}o.prototype=s,Object.defineProperty(o.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((e=w(e))>=this.length)return p;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)}}),Object.defineProperty(o.prototype,"get",{value:o.prototype._getter}),Object.defineProperty(o.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(!((e=w(e))>=this.length)){var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}}),Object.defineProperty(o.prototype,"constructor",{value:o}),Object.defineProperty(o.prototype,"copyWithin",{value:function(e,t){var n=arguments[2],r=y(this),i=w(r.length);i=x(i,0);var o,s=k(e);o=s<0?x(i+s,0):C(s,i);var a,l,c,u=k(t);a=u<0?x(i+u,0):C(u,i),c=(l=n===p?i:k(n))<0?x(i+l,0):C(l,i);var f,h=C(c-a,i-o);for(a<o&&o<a+h?(f=-1,a=a+h-1,o=o+h-1):f=1;0<h;)r._setter(o,r._getter(a)),a+=f,o+=f,h-=1;return r}}),Object.defineProperty(o.prototype,"every",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=arguments[1],i=0;i<n;i++)if(!e.call(r,t._getter(i),i,t))return!1;return!0}}),Object.defineProperty(o.prototype,"fill",{value:function(e){var t=arguments[1],n=arguments[2],r=y(this),i=w(r.length);i=x(i,0);var o,s,a,l=k(t);for(o=l<0?x(i+l,0):C(l,i),a=(s=n===p?i:k(n))<0?x(i+s,0):C(s,i);o<a;)r._setter(o,e),o+=1;return r}}),Object.defineProperty(o.prototype,"filter",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=[],i=arguments[1],o=0;o<n;o++){var s=t._getter(o);e.call(i,s,o,t)&&r.push(s)}return new this.constructor(r)}}),Object.defineProperty(o.prototype,"find",{value:function(e){var t=y(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=1<arguments.length?arguments[1]:p,i=0;i<n;){var o=t._getter(i),s=e.call(r,o,i,t);if(Boolean(s))return o;++i}return p}}),Object.defineProperty(o.prototype,"findIndex",{value:function(e){var t=y(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=1<arguments.length?arguments[1]:p,i=0;i<n;){var o=t._getter(i),s=e.call(r,o,i,t);if(Boolean(s))return i;++i}return-1}}),Object.defineProperty(o.prototype,"forEach",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=arguments[1],i=0;i<n;i++)e.call(r,t._getter(i),i,t)}}),Object.defineProperty(o.prototype,"indexOf",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(0===n)return-1;var r=0;if(0<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(0<r||-1)*E(T(r)))),n<=r)return-1;for(var i=0<=r?r:x(n-T(r),0);i<n;i++)if(t._getter(i)===e)return i;return-1}}),Object.defineProperty(o.prototype,"join",{value:function(e){if(this===p||null===this)throw TypeError();for(var t=Object(this),n=w(t.length),r=Array(n),i=0;i<n;++i)r[i]=t._getter(i);return r.join(e===p?",":e)}}),Object.defineProperty(o.prototype,"lastIndexOf",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(0===n)return-1;var r=n;1<arguments.length&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(0<r||-1)*E(T(r))));for(var i=0<=r?C(r,n-1):n-T(r);0<=i;i--)if(t._getter(i)===e)return i;return-1}}),Object.defineProperty(o.prototype,"map",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();var r=[];r.length=n;for(var i=arguments[1],o=0;o<n;o++)r[o]=e.call(i,t._getter(o),o,t);return new this.constructor(r)}}),Object.defineProperty(o.prototype,"reduce",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,i=0;for(r=2<=arguments.length?arguments[1]:t._getter(i++);i<n;)r=e.call(p,r,t._getter(i),i,t),i++;return r}}),Object.defineProperty(o.prototype,"reduceRight",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,i=n-1;for(r=2<=arguments.length?arguments[1]:t._getter(i--);0<=i;)r=e.call(p,r,t._getter(i),i,t),i--;return r}}),Object.defineProperty(o.prototype,"reverse",{value:function(){if(this===p||null===this)throw TypeError();for(var e=Object(this),t=w(e.length),n=E(t/2),r=0,i=t-1;r<n;++r,--i){var o=e._getter(r);e._setter(r,e._getter(i)),e._setter(i,o)}return e}}),Object.defineProperty(o.prototype,"set",{value:function(e,t){if(arguments.length<1)throw SyntaxError("Not enough arguments");var n,r,i,o,s,a,l,c,u,f;if("object"==typeof e&&e.constructor===this.constructor){if(n=e,(i=w(t))+n.length>this.length)throw RangeError("Offset plus length of array is out of range");if(c=this.byteOffset+i*this.BYTES_PER_ELEMENT,u=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(f=[],s=0,a=n.byteOffset;s<u;s+=1,a+=1)f[s]=n.buffer._bytes[a];for(s=0,l=c;s<u;s+=1,l+=1)this.buffer._bytes[l]=f[s]}else for(s=0,a=n.byteOffset,l=c;s<u;s+=1,a+=1,l+=1)this.buffer._bytes[l]=n.buffer._bytes[a]}else{if("object"!=typeof e||"undefined"==typeof e.length)throw TypeError("Unexpected argument type(s)");if(o=w((r=e).length),(i=w(t))+o>this.length)throw RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)a=r[s],this._setter(i+s,Number(a))}}}),Object.defineProperty(o.prototype,"slice",{value:function(e,t){for(var n=y(this),r=w(n.length),i=k(e),o=i<0?x(r+i,0):C(i,r),s=t===p?r:k(t),a=s<0?x(r+s,0):C(s,r),l=a-o,c=new n.constructor(l),u=0;o<a;){var f=n._getter(o);c._setter(u,f),++o,++u}return c}}),Object.defineProperty(o.prototype,"some",{value:function(e){if(this===p||null===this)throw TypeError();var t=Object(this),n=w(t.length);if(!v(e))throw TypeError();for(var r=arguments[1],i=0;i<n;i++)if(e.call(r,t._getter(i),i,t))return!0;return!1}}),Object.defineProperty(o.prototype,"sort",{value:function(n){if(this===p||null===this)throw TypeError();for(var e=Object(this),t=w(e.length),r=Array(t),i=0;i<t;++i)r[i]=e._getter(i);for(r.sort(function o(e,t){return e!=e&&t!=t?0:e!=e?1:t!=t?-1:n!==p?n(e,t):e<t?-1:t<e?1:0}),i=0;i<t;++i)e._setter(i,r[i]);return e}}),Object.defineProperty(o.prototype,"subarray",{value:function(e,t){function n(e,t,n){return e<t?t:n<e?n:e}e=k(e),t=k(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length);var r=(t=n(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)}});var t=e(1,N,_),n=e(1,O,A),r=e(1,P,A),a=e(2,D,M),l=e(2,L,B),c=e(4,H,F),u=e(4,W,U),f=e(4,q,V),h=e(8,z,j);d.Int8Array=d.Int8Array||t,d.Uint8Array=d.Uint8Array||n,d.Uint8ClampedArray=d.Uint8ClampedArray||r,d.Int16Array=d.Int16Array||a,d.Uint16Array=d.Uint16Array||l,d.Int32Array=d.Int32Array||c,d.Uint32Array=d.Uint32Array||u,d.Float32Array=d.Float32Array||f,d.Float64Array=d.Float64Array||h}(),function(){function l(e,t){return v(e.get)?e.get(t):e[t]}var e,c=(e=new Uint16Array([4660]),18===l(new Uint8Array(e.buffer),0));function t(e,t,n){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===b(e)))throw TypeError();if((t=w(t))>e.byteLength)throw RangeError("byteOffset out of range");if(t+(n=n===p?e.byteLength-t:w(n))>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:t})}function n(o){return function(e,t){if((e=w(e))+o.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");e+=this.byteOffset;for(var n=new Uint8Array(this.buffer,e,o.BYTES_PER_ELEMENT),r=[],i=0;i<o.BYTES_PER_ELEMENT;i+=1)r.push(l(n,i));return Boolean(t)===Boolean(c)&&r.reverse(),l(new o(new Uint8Array(r).buffer),0)}}function r(a){return function(e,t,n){if((e=w(e))+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var r,i=new a([t]),o=new Uint8Array(i.buffer),s=[];for(r=0;r<a.BYTES_PER_ELEMENT;r+=1)s.push(l(o,r));Boolean(n)===Boolean(c)&&s.reverse(),new Uint8Array(this.buffer,e,a.BYTES_PER_ELEMENT).set(s)}}Object.defineProperty(t.prototype,"getUint8",{value:n(Uint8Array)}),Object.defineProperty(t.prototype,"getInt8",{value:n(Int8Array)}),Object.defineProperty(t.prototype,"getUint16",{value:n(Uint16Array)}),Object.defineProperty(t.prototype,"getInt16",{value:n(Int16Array)}),Object.defineProperty(t.prototype,"getUint32",{value:n(Uint32Array)}),Object.defineProperty(t.prototype,"getInt32",{value:n(Int32Array)}),Object.defineProperty(t.prototype,"getFloat32",{value:n(Float32Array)}),Object.defineProperty(t.prototype,"getFloat64",{value:n(Float64Array)}),Object.defineProperty(t.prototype,"setUint8",{value:r(Uint8Array)}),Object.defineProperty(t.prototype,"setInt8",{value:r(Int8Array)}),Object.defineProperty(t.prototype,"setUint16",{value:r(Uint16Array)}),Object.defineProperty(t.prototype,"setInt16",{value:r(Int16Array)}),Object.defineProperty(t.prototype,"setUint32",{value:r(Uint32Array)}),Object.defineProperty(t.prototype,"setInt32",{value:r(Int32Array)}),Object.defineProperty(t.prototype,"setFloat32",{value:r(Float32Array)}),Object.defineProperty(t.prototype,"setFloat64",{value:r(Float64Array)}),d.DataView=d.DataView||t}()}(self)}function patchWorker(){var fakeworker=function(global){function extend(e,t){for(var n in t)e[n]=t[n]}var userAgent=navigator.userAgent.toLowerCase(),browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(e){try{return!e.status&&"file:"==location.protocol||200<=e.status&&e.status<300||304==e.status||1223==e.status||browser.safari&&e.status==undefined}catch(t){}return!1}function __syncXhrGet(e,t){var n=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;if(n.open("GET",e,!1),n.send(""),!httpSuccess(n))throw new Error("Could not load resource("+e+") result="+n.status+":"+n.statusText);t(n)}function parseUri(e){for(var r=parseUri.options,t=r.parser[r.strictMode?"strict":"loose"].exec(e),i={},n=14;n--;)i[r.key[n]]=t[n]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}function absolutePath(e){var t=document.createElement("span");return t.innerHTML='<a href="'+e+'" />',t.firstChild.href}function FakeMessageEvent(e){extend(this,Event),Event.constructor.call(this),this.currentTarget=e,this.srcElement=e,this.target=e,this.timestamp=(new Date).getTime()}function FakeErrorEvent(e){extend(this,Event),Event.constructor.call(this),this.currentTarget=e,this.srcElement=e,this.target=e,this.timestamp=(new Date).getTime()}parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},FakeMessageEvent.prototype={initMessageEvent:function(e,t,n,r,i,o,s,a){this.initMessageEventNS("",e,t,n,r,i,o,s,a)},initMessageEventNS:function(e,t,n,r,i,o,s,a,l){this.namespaceURI=e,this.type=t,this.canBubble=n,this.cancelable=r,this.data=i,this.origin=o,this.lastEventId=s,this.source=a,this.ports=l}},FakeErrorEvent.prototype={initErrorEvent:function(e,t,n,r,i,o){this.initErrorEventNS("",e,t,n,r,i,o)},initErrorEventNS:function(e,t,n,r,i,o,s){this.namespaceURI=e,this.type=t,this.canBubble=n,this.cancelable=r,this.message=i,this.filename=o,this.lineno=s}};var nativeWorker=global.Worker,FakeWorker=function(n){var r=this;this._listenerNamespaces={},this._eventQueues={},__syncXhrGet(n,function(e){try{r._workerContext=new FakeWorkerContext(n,e.responseText,r)}catch(t){throw t}})};function FakeWorkerLocation(e){var t=absolutePath(e),n=parseUri(t);this.href=t,this.protocol=n.protocol+":",this.host=n.port?n.host+":"+n.port:n.host,this.hostname=n.host,this.port=n.port,this.pathname=n.path,this.search=n.query?"?"+n.query:"",this.hash=n.anchor?"#"+n.anchor:"",this.filename=n.file}function FakeWorkerContext(url,source,worker){var postMessage=this.postMessage=function(e){var t=new FakeMessageEvent(worker);t.initMessageEvent("message",!1,!1,e,"","",null,null),setTimeout(function(){worker.dispatchEvent(t)},0)},setTimeout=this.setTimeout=global.setTimeout,clearTimeout=this.clearTimeout=global.clearTimeout,setInterval=this.setInterval=global.setInterval,clearInterval=this.clearInterval=global.clearInterval,XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest,openDatabase=this.openDatabase=global.openDatabase,openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync,WebSocket=this.WebSocket=global.WebSocket,EventSource=this.EventSource=global.EventSource,MessageChannel=this.MessageChannel=global.MessageChannel,Worker=this.Worker=FakeWorker,location=this.location=new FakeWorkerLocation(url),close=this.close=function(){this.closing=!0},navigator=this.navigator=global.navigator,self=this.self=this,importScripts=this.importScripts=function(){throw new Error("importScripts is not supported.")};eval(source);try{"function"==typeof onmessage&&(this.onmessage=onmessage)}catch(e){}}FakeWorker.prototype={isFake:!0,addEventListener:function(e,t,n){this.addEventListenerNS("",e,t,n)},addEventListenerNS:function(e,t,n,r){var i=this._listenerNamespaces[e];i||(this._listenerNamespaces[e]=i={});var o=i[t];o||(i[t]=o=[]),o.push(n)},removeEventListener:function(e,t,n){this.removeEventListener("",e,t,n)},removeEventListenerNS:function(e,t,n,r){var i=this._listenerNamespaces[e];if(i){var o=i[type];if(o)for(var s=0;s<o.length;s++)o[s]===listener&&delete o[s]}},dispatchEvent:function(e){"function"==typeof this["on"+e.type]&&this["on"+e.type].call(this,e);var t=this._listenerNamespaces[e.namespaceURI];if(t){var n=t[e.type];if(n)for(var r=0;r<n.length;r++)n[r].call(this,e)}return!0},postMessage:function(e){var r=this,i=this._workerContext;if("function"==typeof i.onmessage){var o=new FakeMessageEvent(r);o.initMessageEvent("message",!1,!1,e,"","",null,null),setTimeout(function(){try{i.onmessage.call(i,o)}catch(n){var e=new FakeErrorEvent(r),t=n.line||n.lineNumber;throw e.initErrorEvent("error",!1,!1,n.message,i.location.filename,t),r.dispatchEvent(e),n}},0)}},terminate:function(){this._workerContext.close()}},FakeWorkerLocation.prototype={toString:function(){return this.href}};var ret={nativeWorker:nativeWorker,install:function(){global.Worker=FakeWorker},uninstall:function(){global.Worker=nativeWorker}};return ret.install(),ret}(this)}function patchXPath(){}function patchPageVisibility(){!function(){window.visibly={q:document,p:undefined,prefixes:["webkit","ms","o","moz","khtml"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],hiddenCallbacks:[],genericCallbacks:[],_callbacks:[],cachedPrefix:"",fn:null,onVisible:function(e){"function"==typeof e&&this.visibleCallbacks.push(e)},onHidden:function(e){"function"==typeof e&&this.hiddenCallbacks.push(e)},getPrefix:function(){if(!this.cachedPrefix)for(var e,t=0;e=this.prefixes[t++];)if(e+this.props[2]in this.q)return this.cachedPrefix=e,this.cachedPrefix},visibilityState:function(){return this._getProp(0)},hidden:function(){return this._getProp(2)},visibilitychange:function(e){"function"==typeof e&&this.genericCallbacks.push(e);var t=this.genericCallbacks.length;if(t)if(this.cachedPrefix)for(;t--;)this.genericCallbacks[t].call(this,this.visibilityState());else for(;t--;)this.genericCallbacks[t].call(this,e)},isSupported:function(e){return this._getPropName(2)in this.q},_getPropName:function(e){return""==this.cachedPrefix?this.props[e].substring(0,1).toLowerCase()+this.props[e].substring(1):this.cachedPrefix+this.props[e]},_getProp:function(e){return this.q[this._getPropName(e)]},_execute:function(e){if(e){this._callbacks=1==e?this.visibleCallbacks:this.hiddenCallbacks;for(var t=this._callbacks.length;t--;)this._callbacks[t]()}},_visible:function(){window.visibly._execute(1),window.visibly.visibilitychange.call(window.visibly,"visible")},_hidden:function(){window.visibly._execute(2),window.visibly.visibilitychange.call(window.visibly,"hidden")},_nativeSwitch:function(){this[this._getProp(2)?"_hidden":"_visible"]()},_listen:function(){try{this.isSupported()?this.q.addEventListener(this._getPropName(1),function(){window.visibly._nativeSwitch.apply(window.visibly,arguments)},1):this.q.addEventListener?(window.addEventListener(this.m[0],this._visible,1),window.addEventListener(this.m[1],this._hidden,1)):this.q.attachEvent&&(this.q.attachEvent("onfocusin",this._visible),this.q.attachEvent("onfocusout",this._hidden))}catch(e){}},init:function(){this.getPrefix(),this._listen()}},this.visibly.init()}()}function patchOfflineEvents(){!function(){function e(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.eventName=e,(document.body||window).dispatchEvent(t)}function t(){var e=new XMLHttpRequest;e.open("HEAD","/",!1);try{e.send(),n=!0}catch(t){n=!1}return n}var n=!0,r=!0;navigator.__defineGetter__("onLine",t),t(),!1===n&&(r=!1,e("offline")),setInterval(function(){t(),n!==r&&(e(n?"online":"offline"),r=n)},5e3)}()}function patchRequestAnimationFrame(){!function(e){for(var r=0,t=["webkit","moz"],n=e.requestAnimationFrame,i=e.cancelAnimationFrame,o=t.length;0<=--o&&!n;)n=e[t[o]+"RequestAnimationFrame"],i=e[t[o]+"CancelAnimationFrame"];n&&i||(n=function(e){var t=+new Date,n=Math.max(r+16,t);return setTimeout(function(){e(r=n)},n-t)},i=clearTimeout),e.requestAnimationFrame=n,e.cancelAnimationFrame=i}(window)}function patchProgress(){!function(e){for(var r=0,t=["webkit","moz"],n=e.requestAnimationFrame,i=e.cancelAnimationFrame,o=t.length;0<=--o&&!n;)n=e[t[o]+"RequestAnimationFrame"],i=e[t[o]+"CancelAnimationFrame"];n&&i||(n=function(e){var t=+new Date,n=Math.max(r+16,t);return setTimeout(function(){e(r=n)},n-t)},i=clearTimeout),e.requestAnimationFrame=n,e.cancelAnimationFrame=i}(window)}function patchRangeSelection(){var e,t,n,r,o,s,a,l,c,u;e=function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(r,module){var h=r.dom,o=h.DomPosition,s=h.arrayContains,e=r.util,g=e.forEach,a=e.isHostMethod(document,"createElementNS");function d(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function p(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function c(e,t){return"object"==typeof e.classList?e.classList.contains(t):l("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function f(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r?l(r,t)||(r+=" "+t):r=t,n?e.className=r:e.setAttribute("class",r)}}var m=function(){function i(e,t,n){return t&&n?" ":""}return function(e,t){if("object"==typeof e.classList)e.classList.remove(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+t+"(\\s|$)"),i),n?e.className=r:e.setAttribute("class",r)}}}();function t(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function b(e){return e&&e.split(/\s+/).sort().join(" ")}function n(e){return b(t(e))}function u(e,t){return n(e)==n(t)}function v(e,t){for(var n=t.split(/\s+/),r=0,i=n.length;r<i;++r)if(!c(e,p(n[r])))return!1;return!0}function y(e,t,n,r){-1==n&&(n=t.childNodes.length);var i=e.parentNode,o=h.getNodeIndex(e);g(r,function(e){!function c(e,t,n,r,i){var o=e.node,s=e.offset,a=o,l=s;o==r&&i<s&&++l,o!=t||s!=n&&s!=n+1||(a=r,l+=i-n),o==t&&n+1<s&&--l,e.node=a,e.offset=l}(e,i,o,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function k(e,t){var n=e.parentNode,i=h.getNodeIndex(e);g(t,function(e){!function r(e,t,n){e.node==t&&e.offset>n&&--e.offset}(e,n,i)}),h.removeNode(e)}function w(e,t){return function a(e,t,n,r,i){for(var o,s=[];o=e.firstChild;)y(o,t,n++,i),s.push(o);return r&&k(e,i),s}(e,e.parentNode,h.getNodeIndex(e),!0,t)}function S(e,t){var n=e.cloneRange();n.selectNodeContents(t);var r=n.intersection(e);return""!=(r?r.toString():"")}function T(e){for(var t,n=e.getNodes([3]),r=0;(t=n[r])&&!S(e,t);)++r;for(var i=n.length-1;(t=n[i])&&!S(e,t);)--i;return n.slice(r,i+1)}function E(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,s=e.attributes.length;o<s;++o)if("class"!=(i=(n=e.attributes[o]).name)){if(null===n!=(null===(r=t.attributes.getNamedItem(i))))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function R(e,t){for(var n,r=0,i=e.attributes.length;r<i;++r)if(n=e.attributes[r].name,(!t||!s(t,n))&&e.attributes[r].specified&&"class"!=n)return!0;return!1}var x=h.getComputedStyleProperty,C="boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||C(e.parentNode))};function I(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||C(e)&&!C(e.parentNode))}function N(e){return(C(e)||1!=e.nodeType&&C(e.parentNode))&&!I(e)}var _=/^inline(-block|-table)?$/i;function O(e){return e&&1==e.nodeType&&!_.test(x(e,"display"))}var A=/[^\r\n\t\f \u200B]/;function P(e){var t,n,r=[];for(t=0;n=e[t++];)r.push(new o(n.startContainer,n.startOffset),new o(n.endContainer,n.endOffset));return r}function D(e,t){for(var n,r,i,o=0,s=e.length;o<s;++o)n=e[o],r=t[2*o],i=t[2*o+1],n.setStartAndEnd(r.node,r.offset,i.node,i.offset)}function M(e,t,n,r){var i,o,s=0==n;if(h.isAncestorOf(t,e))return e;if(h.isCharacterDataNode(t)){var a=h.getNodeIndex(t);if(0==n)n=a;else{if(n!=t.length)throw module.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+n+" in "+t.data);n=a+1}t=t.parentNode}if(function f(e,t){return h.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:0<t&&t<e.childNodes.length}(t,n)){i=t.cloneNode(!1),o=t.parentNode,i.id&&i.removeAttribute("id");for(var l,c=0;l=t.childNodes[n];)y(l,i,c++,r);return y(i,o,h.getNodeIndex(t)+1,r),t==e?i:M(e,o,h.getNodeIndex(i),r)}if(e==t)return e;i=t.parentNode;var u=h.getNodeIndex(t);return s||u++,M(e,i,u,r)}function L(s){var a=s?"nextSibling":"previousSibling";return function(e,t){var n=e.parentNode,r=e[a];if(r){if(r&&3==r.nodeType)return r}else if(t&&(r=n[a])&&1==r.nodeType&&function o(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&u(e,t)&&E(e,t)&&"inline"==x(e,"display")&&"inline"==x(t,"display")}(n,r)){var i=r[s?"firstChild":"lastChild"];if(i&&3==i.nodeType)return i}return null}}var B=L(!1),H=L(!0);function F(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}var W=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],U={};function j(e,t,n){var r,i,o,s,a=this;a.cssClass=a.className=e;var l=null,c={};if("object"==typeof t&&null!==t){for("undefined"!=typeof t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),n=t.tagNames,l=t.elementProperties,c=t.elementAttributes,i=0;s=W[i++];)t.hasOwnProperty(s)&&(a[s]=t[s]);r=t.normalize}else r=t;a.normalize=void 0===r||r,a.attrExceptions=[];var u=document.createElement(a.elementTagName);a.elementProperties=a.copyPropertiesToElement(l,u,!0),d(c,function(e,t){a.attrExceptions.push(e),c[e]=""+t}),a.elementAttributes=c,a.elementSortedClassName=a.elementProperties.hasOwnProperty("className")?b(a.elementProperties.className+" "+e):e,a.applyToAnyTagName=!1;var f=typeof n;if("string"==f)"*"==n?a.applyToAnyTagName=!0:a.tagNames=p(n.toLowerCase()).split(/\s*,\s*/);else if("object"==f&&"number"==typeof n.length)for(a.tagNames=[],i=0,o=n.length;i<o;++i)"*"==n[i]?a.applyToAnyTagName=!0:a.tagNames.push(n[i].toLowerCase());else a.tagNames=[a.elementTagName]}j.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!(F.prototype={doMerge:function(e){var t=this.textNodes,r=t[0];if(1<t.length){var i,o=h.getNodeIndex(r),s=[],a=0;g(t,function(t,n){i=t.parentNode,0<n&&(i.removeChild(t),i.hasChildNodes()||h.removeNode(i),e&&g(e,function(e){e.node==t&&(e.node=r,e.offset+=a),e.node==i&&e.offset>o&&(--e.offset,e.offset==o+1&&n<len-1&&(e.node=r,e.offset=a))})),s[n]=t.data,a+=t.data.length}),r.data=s.join("")}return r.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var n=[];return g(this.textNodes,function(e,t){n[t]="'"+e.data+"'"}),"[Merge("+n.join(",")+")]"}}),useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var r,i,o,s,a,l,c={};for(var u in e)if(e.hasOwnProperty(u))if(s=e[u],a=t[u],"className"==u)f(t,s),f(t,this.className),t[u]=b(t[u]),n&&(c[u]=s);else if("style"==u){for(r in i=a,n&&(c[u]=o={}),e[u])e[u].hasOwnProperty(r)&&(i[r]=s[r],n&&(o[r]=i[r]));this.attrExceptions.push(u)}else t[u]=s,n&&(c[u]=t[u],l=U.hasOwnProperty(u)?U[u]:u,this.attrExceptions.push(l));return n?c:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return s(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&c(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||N(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&function t(e){if(0==e.data.length)return!0;if(A.test(e.data))return!1;switch(x(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return O(e.previousSibling)||O(e.nextSibling)}(e)},postApply:function(e,t,n,r){var o,s,a=e[0],l=e[e.length-1],c=[],u=a,f=l,h=0,d=l.length;g(e,function(e){(s=B(e,!r))?(o||(o=new F(s),c.push(o)),o.textNodes.push(e),e===a&&(u=o.textNodes[0],h=u.length),e===l&&(f=o.textNodes[0],d=o.getLength())):o=null});var p=H(l,!r);if(p&&(o||(o=new F(l),c.push(o)),o.textNodes.push(p)),c.length){for(i=0,len=c.length;i<len;++i)c[i].doMerge(n);t.setStartAndEnd(u,h,f,d)}},createContainer:function(e){var t=h.getDocument(e),n=a&&!h.isHtmlNamespace(e)&&e.namespaceURI?t.createElementNS(e.namespaceURI,this.elementTagName):t.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,n,!1),this.copyAttributesToElement(this.elementAttributes,n),f(n,this.className),this.onElementCreate&&this.onElementCreate(n,this),n},elementHasProperties:function(n,e){var r=this;return d(e,function(e,t){if("className"==e)return v(n,t);if("object"==typeof t){if(!r.elementHasProperties(n[e],t))return!1}else if(n[e]!==t)return!1})},elementHasAttributes:function(n,e){return d(e,function(e,t){if(n.getAttribute(e)!==t)return!1})},applyToTextNode:function(e,t){if(function o(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))f(n,this.className);else{var r=e.parentNode,i=this.createContainer(r);r.insertBefore(i,e),i.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&n(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!R(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),r=[e],i=P(r);g(n,function(e){k(e,i)}),D(r,i)},undoToTextNode:function(e,t,n,r){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&(M(n,t.endContainer,t.endOffset,r),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&(n=M(n,t.startContainer,t.startOffset,r))}this.isRemovable(n)?w(n,r):m(n,this.className)},splitAncestorWithClass:function(e,t,n){var r=this.getSelfOrAncestorWithClass(e);r&&M(r,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?w(e,t):m(e,this.className)},applyToRange:function(e,t){var n=this,r=P((t=t||[])||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var i=T(e);if(i.length){g(i,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,r)});var o=i[i.length-1];e.setStartAndEnd(i[0],0,o,o.length),n.normalize&&n.postApply(i,e,r,!1),D(t,r)}var s=n.getEmptyElements(e);g(s,function(e){f(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(e){var t=r.getSelection(e);t.setRanges(this.applyToRanges(t.getAllRanges()))},undoToRange:function(e,t){var n=this,r=P(t=t||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e,r);var i,o,s=T(e),a=s[s.length-1];if(s.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,r),n.splitAncestorWithClass(e.startContainer,e.startOffset,r);for(var l=0,c=s.length;l<c;++l)i=s[l],(o=n.getSelfOrAncestorWithClass(i))&&n.isModifiable(i)&&n.undoToAncestor(o,r);e.setStartAndEnd(s[0],0,a,a.length),n.normalize&&n.postApply(s,e,r,!0),D(t,r)}var u=n.getEmptyElements(e);g(u,function(e){m(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(e){var t=r.getSelection(e),n=r.getSelection(e).getAllRanges();this.undoToRanges(n),t.setRanges(n)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,r=0;n=t[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&S(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(e){var t=r.getSelection(e);return this.isAppliedToRanges(t.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var n=[],r=this;return e.getNodes([3],function(e){var t=r.getSelfOrAncestorWithClass(e);t&&!s(n,t)&&n.push(t)}),n},detach:function(){}},j.util={hasClass:c,addClass:f,removeClass:m,getClass:t,hasSameClasses:u,hasAllClasses:v,replaceWithOwnChildren:w,elementsHaveSameNonClassAttributes:E,elementHasNonClassAttributes:R,splitNodeAt:M,isEditableElement:C,isEditingHost:I,isEditable:N},r.CssClassApplier=r.ClassApplier=j,r.createClassApplier=function z(e,t,n){return new j(e,t,n)},e.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",module)}),e},t=this,"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy),n=function(){var r="object",i="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],t=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],o=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(e,t){var n=typeof e[t];return n==i||!(n!=r||!e[t])||"unknown"==n}function s(e,t){return!(typeof e[t]!=r||!e[t])}function e(e,t){return typeof e[t]!=n}function a(r){return function(e,t){for(var n=t.length;n--;)if(!r(e,t[n]))return!1;return!0}}var f=a(u),h=a(s),d=a(e);function p(e){return e&&f(e,o)&&d(e,t)}function g(e){return s(e,"body")?e.body:e.getElementsByTagName("body")[0]}var m,b,v={},y=typeof window!=n&&typeof document!=n,k={isHostMethod:u,isHostObject:s,isHostProperty:e,areHostMethods:f,areHostObjects:h,areHostProperties:d,isTextRange:p,getBody:g,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},w={version:"1.3.1-dev",initialized:!1,isBrowser:y,supported:!0,util:k,features:{},modules:v,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function S(e){typeof console!=n&&u(console,"log")&&console.log(e)}function T(e,t){y&&t?alert(e):S(e)}function E(e){w.initialized=!0,w.supported=!1,T("Rangy is not supported in this environment. Reason: "+e,w.config.alertOnFail)}w.fail=E,w.warn=function L(e){T("Rangy warning: "+e,w.config.alertOnWarn)},!{}.hasOwnProperty?E("hasOwnProperty not supported"):(k.extend=m=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&m(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},k.createOptions=function(e,t){var n={};return m(n,t),e&&m(n,e),n}),y||E("Rangy can only run in a browser"),function(){var e;if(y){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(r){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),k.toArray=e}(),y&&(u(document,"addEventListener")?b=function(e,t,n){e.addEventListener(t,n,!1)}:u(document,"attachEvent")?b=function(e,t,n){e.attachEvent("on"+t,n)}:E("Document does not have required addEventListener or attachEvent method"),k.addListener=b);var R=[];function x(e){return e.message||e.description||String(e)}function C(){if(y&&!w.initialized){var e,t=!1,n=!1;u(document,"createRange")&&(e=document.createRange(),f(e,c)&&d(e,l)&&(t=!0));var r=g(document);if(r&&"body"==r.nodeName.toLowerCase())if(r&&u(r,"createTextRange")&&p(e=r.createTextRange())&&(n=!0),t||n){var module;for(var i in w.initialized=!0,w.features={implementsDomRange:t,implementsTextRange:n},v)(module=v[i])instanceof O&&module.init(module,w);for(var o=0,s=R.length;o<s;++o)try{R[o](w)}catch(a){S("Rangy init listener threw an exception. Continuing. Detail: "+x(a))}}else E("Neither Range nor TextRange are available");else E("No body element found")}}function I(e,t,module){module&&(e+=" in module "+module.name),w.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function N(e,t,n,module){e[t]=function(){return I(t,n,module),e[n].apply(e,k.toArray(arguments))}}k.deprecationNotice=I,k.createAliasForDeprecatedMethod=N,w.init=C,w.addInitListener=function(e){w.initialized?e(w):R.push(e)};var _=[];function O(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function A(t,e,n){var r=new O(t,e,function(module){if(!module.initialized){module.initialized=!0;try{n(w,module),module.supported=!0}catch(e){S("Module '"+t+"' failed to load: "+x(e)),e.stack&&S(e.stack)}}});return v[t]=r}function P(){}w.addShimListener=function(e){_.push(e)},y&&(w.shim=w.createMissingNativeApi=function B(e){e=e||window,C();for(var t=0,n=_.length;t<n;++t)_[t](e)},N(w,"createMissingNativeApi","shim")),O.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],!((e=v[t])&&e instanceof O))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){w.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){w.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},w.createModule=function(e){var t,module=A(e,2==arguments.length?(t=arguments[1],[]):(t=arguments[2],arguments[1]),t);w.initialized&&w.supported&&module.init()},w.createCoreModule=function(e,t,n){A(e,t,n)},w.RangePrototype=P,w.rangePrototype=new P,w.selectionPrototype=new function H(){},w.createCoreModule("DomUtil",[],function(n,module){var r="undefined",i=n.util,s=i.getBody;i.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||module.fail("document missing a Node creation method"),i.isHostMethod(document,"getElementsByTagName")||module.fail("document missing getElementsByTagName method");var e=document.createElement("div");i.areHostMethods(e,["insertBefore","appendChild","cloneNode"])||module.fail("Incomplete Element implementation"),i.isHostProperty(e,"innerHTML")||module.fail("Element is missing innerHTML property");var t=document.createTextNode("test");i.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"])||module.fail("Incomplete Text Node implementation");var o=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function u(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(o(r,n))return n;return null}function a(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function f(e,t,n){for(var r,i=n?e:e.parentNode;i;){if((r=i.parentNode)===t)return i;i=r}return null}function l(e){var t=e.nodeType;return 3==t||4==t||8==t}function h(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function d(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=r)return e.ownerDocument;if(typeof e.document!=r)return e.document;if(e.parentNode)return d(e.parentNode);throw module.createError("getDocument: no document found for node")}function p(e){var t=d(e);if(typeof t.defaultView!=r)return t.defaultView;if(typeof t.parentWindow!=r)return t.parentWindow;throw module.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=r)return e.contentDocument;if(typeof e.contentWindow!=r)return e.contentWindow.document;throw module.createError("getIframeDocument: No Document object found for iframe element")}function m(e){return e&&i.isHostMethod(e,"setTimeout")&&i.isHostObject(e,"document")}var b,v=!1;function y(e){try{return e.parentNode,!1}catch(t){return!0}}function k(e){if(!e)return"[No node]";if(v&&y(e))return"[Broken node]";if(l(e))return'"'+e.data+'"';if(1!=e.nodeType)return e.nodeName;var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}function w(e){this.root=e,this._next=e}function S(e,t){this.node=e,this.offset=t}function T(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var e=document.createElement("b");e.innerHTML="1";var t=e.firstChild;e.innerHTML="<br />",v=y(t),n.features.crashyTextNodes=v}(),typeof window.getComputedStyle!=r?b=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=r?b=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:module.fail("No means of obtaining computed style properties found"),w.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},S.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+k(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(T.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},n.dom={arrayContains:o,isHtmlNamespace:function E(e){var t;return typeof e.namespaceURI==r||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function R(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:c,getNodeLength:function x(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:u,isAncestorOf:a,isOrIsAncestorOf:function C(e,t){return a(e,t,!0)},getClosestAncestorIn:f,isCharacterDataNode:l,isTextOrCommentNode:function I(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:h,splitDataNode:function N(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),h(r,e),n)for(var i,o=0;i=n[o++];)i.node==e&&i.offset>t?(i.node=r,i.offset-=t):i.node==e.parentNode&&i.offset>c(e)&&++i.offset;return r},getDocument:d,getWindow:p,getIframeWindow:function _(e){if(typeof e.contentWindow!=r)return e.contentWindow;if(typeof e.contentDocument!=r)return e.contentDocument.defaultView;throw module.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:g,getBody:s,isWindow:m,getContentDocument:function O(e,module,t){var n;if(e?i.isHostProperty(e,"nodeType")?n=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):d(e):m(e)&&(n=e.document):n=document,!n)throw module.createError(t+"(): Parameter must be a Window object or DOM node");return n},getRootContainer:function A(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function P(e,t,n,r){var i,o,s,a,l;if(e==n)return t===r?0:t<r?-1:1;if(i=f(n,e,!0))return t<=c(i)?-1:1;if(i=f(e,n,!0))return c(i)<r?-1:1;if(!(o=u(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((s=e===o?o:f(e,o,!0))===(a=n===o?o:f(n,o,!0)))throw module.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=o.firstChild;l;){if(l===s)return-1;if(l===a)return 1;l=l.nextSibling}},isBrokenNode:y,inspectNode:k,getComputedStyleProperty:b,createTestElement:function D(e,t,n){var r=s(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i},removeNode:function M(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function L(e){for(var t,n=d(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function B(e){return new w(e)},DomPosition:S},n.DOMException=T}),w.createCoreModule("DomRange",["DomUtil"],function(s,module){var a=s.dom,r=s.util,t=a.DomPosition,l=s.DOMException,f=a.isCharacterDataNode,h=a.getNodeIndex,c=a.isOrIsAncestorOf,i=a.getDocument,d=a.comparePoints,u=a.splitDataNode,p=a.getClosestAncestorIn,g=a.getNodeLength,o=a.arrayContains,m=a.getRootContainer,n=s.features.crashyTextNodes,b=a.removeNode;function v(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function y(e){return e.document||i(e.startContainer)}function k(e){return new t(e.parentNode,h(e))}function w(e){return new t(e.parentNode,h(e)+1)}function S(e,t,n){var r=11==e.nodeType?e.firstChild:e;return f(t)?n==t.length?a.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:u(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function T(e,t,n){if(V(e),V(t),y(t)!=y(e))throw new l("WRONG_DOCUMENT_ERR");var r=d(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=d(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&0<=i:r<0&&0<i}function E(e,t,n){var r,i,o,s;for(n=n||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(n.stop=!0);if(E(s=e.getSubtreeIterator(),t,n),s.detach(),n.stop)return}else for(r=a.createIterator(o);i=r.next();)if(!1===t(i))return void(n.stop=!0)}function R(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(R(t=e.getSubtreeIterator()),t.detach()):e.remove()}function x(e){for(var t,n,r=y(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(x(n)),n.detach()):e.remove(),10==t.nodeType)throw new l("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function e(e){return"["+("undefined"==typeof e.getName?"Range":e.getName())+"("+a.inspectNode(e.startContainer)+":"+e.startOffset+", "+a.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function C(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&f(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||f(this.sc)?p(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||f(this.ec)?p(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}C.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,f(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!f(n)||n!==this.sc&&n!==this.ec?n.parentNode&&b(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return v(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new fe(y(this.range));var t=this._current,n=t,r=0,i=t,o=g(t);c(t,this.sc)&&(n=this.sc,r=this.so),c(t,this.ec)&&(i=this.ec,o=this.eo),ue(e,n,r,i,o)}return new C(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var I=[1,3,4,5,7,8,10],N=[2,9,11],_=[1,3,4,5,7,8,10,11],O=[1,3,4,5,7,8];function A(i){return function(e,t){for(var n,r=t?e:e.parentNode;r;){if(n=r.nodeType,o(i,n))return r;r=r.parentNode}return null}}var P=A([9,11]),D=A([5,6,10,12]),M=A([6,10,12]);function L(e,t){if(M(e,t))throw new l("INVALID_NODE_TYPE_ERR")}function B(e,t){if(!o(t,e.nodeType))throw new l("INVALID_NODE_TYPE_ERR")}function H(e,t){if(t<0||t>(f(e)?e.length:e.childNodes.length))throw new l("INDEX_SIZE_ERR")}function F(e,t){if(P(e,!0)!==P(t,!0))throw new l("WRONG_DOCUMENT_ERR")}function W(e){if(D(e,!0))throw new l("NO_MODIFICATION_ALLOWED_ERR")}function U(e,t){if(!e)throw new l(t)}function j(e,t){return t<=(f(e)?e.length:e.childNodes.length)}function z(e){return!!e.startContainer&&!!e.endContainer&&!(n&&(a.isBrokenNode(e.startContainer)||a.isBrokenNode(e.endContainer)))&&m(e.startContainer)==m(e.endContainer)&&j(e.startContainer,e.startOffset)&&j(e.endContainer,e.endOffset)}function V(e){if(!z(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var q=document.createElement("style"),G=!1;try{q.innerHTML="<b>x</b>",G=3==q.firstChild.nodeType}catch(he){}var X=(s.features.htmlParsingConforms=G)?function(e){var t=this.startContainer,n=i(t);if(!t)throw new l("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:f(t)&&(r=a.parentElement(t)),(r=null===r||"HTML"==r.nodeName&&a.isHtmlNamespace(i(r).documentElement)&&a.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=e,a.fragmentFromNodeChildren(r)}:function(e){var t=y(this).createElement("body");return t.innerHTML=e,a.fragmentFromNodeChildren(t)};function Y(e,t){V(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n===i;f(i)&&0<o&&o<i.length&&u(i,o,t),f(n)&&0<r&&r<n.length&&(n=u(n,r,t),s?(o-=r,i=n):i==n.parentNode&&o>=h(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function $(e){V(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],K=0,Z=1,Q=2,ee=3,te=0,ne=1,re=2,ie=3;function oe(e){e.START_TO_START=K,e.START_TO_END=Z,e.END_TO_END=Q,e.END_TO_START=ee,e.NODE_BEFORE=te,e.NODE_AFTER=ne,e.NODE_BEFORE_AND_AFTER=re,e.NODE_INSIDE=ie}function se(e){oe(e),oe(e.prototype)}function ae(s,a){return function(){V(this);var e,t=this.startContainer,n=this.startOffset,r=this.commonAncestorContainer,i=new C(this,!0);t!==r&&(t=(e=w(p(t,r,!0))).node,n=e.offset),E(i,W),i.reset();var o=s(i);return i.detach(),a(this,t,n,t,n),o}}function le(e,u){function t(n,r){return function(e){B(e,I),B(m(e),N);var t=(n?k:w)(e);(r?i:o)(this,t.node,t.offset)}}function i(e,t,n){var r=e.endContainer,i=e.endOffset;t===e.startContainer&&n===e.startOffset||(m(t)==m(r)&&1!=d(t,n,r,i)||(r=t,i=n),u(e,t,n,r,i))}function o(e,t,n){var r=e.startContainer,i=e.startOffset;t===e.endContainer&&n===e.endOffset||(m(t)==m(r)&&-1!=d(t,n,r,i)||(r=t,i=n),u(e,r,i,t,n))}var n=function(){};n.prototype=s.rangePrototype,e.prototype=new n,r.extend(e.prototype,{setStart:function(e,t){L(e,!0),H(e,t),i(this,e,t)},setEnd:function(e,t){L(e,!0),H(e,t),o(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,i=n;switch(e.length){case 3:i=e[2];break;case 4:r=e[2],i=e[3]}u(this,t,n,r,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){V(this),e?u(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):u(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){L(e,!0),u(this,e,0,e,g(e))},selectNode:function(e){L(e,!1),B(e,I);var t=k(e),n=w(e);u(this,t.node,t.offset,n.node,n.offset)},extractContents:ae(x,u),deleteContents:ae(R,u),canSurroundContents:function(){V(this),W(this.startContainer),W(this.endContainer);var e=new C(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},splitBoundaries:function(){Y(this)},splitBoundariesPreservingPositions:function(e){Y(this,e)},normalizeBoundaries:function(){V(this);var e,i=this.startContainer,o=this.startOffset,s=this.endContainer,a=this.endOffset,t=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(a=(s=e).length,e.appendData(t.data),b(t))},n=function(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var n=(i=e).length;if(o=t.length,e.insertData(0,t.data),b(t),i==s)a+=o,s=i;else if(s==e.parentNode){var r=h(e);a==r?(s=e,a=n):r<a&&a--}}},r=!0;if(f(s))a==s.length?t(s):0==a&&(e=s.previousSibling)&&e.nodeType==s.nodeType&&(a=e.length,i==s&&(r=!1),e.appendData(s.data),b(s),s=e);else{if(0<a){var l=s.childNodes[a-1];l&&f(l)&&t(l)}r=!this.collapsed}if(r){if(f(i))0==o?n(i):o==i.length&&(e=i.nextSibling)&&e.nodeType==i.nodeType&&(s==e&&(a+=(s=i).length),i.appendData(e.data),b(e));else if(o<i.childNodes.length){var c=i.childNodes[o];c&&f(c)&&n(c)}}else i=s,o=a;u(this,i,o,s,a)},collapseToPoint:function(e,t){L(e,!0),H(e,t),this.setStartAndEnd(e,t)}}),se(e)}function ce(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:a.getCommonAncestor(e.startContainer,e.endContainer)}function ue(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=a.getDocument(t),ce(e)}function fe(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ce(this)}r.extend(s.rangePrototype,{compareBoundaryPoints:function(e,t){var n,r,i,o;V(this),F(this.startContainer,t.startContainer);var s=e==ee||e==K?"start":"end",a=e==Z||e==K?"start":"end";return n=this[s+"Container"],r=this[s+"Offset"],i=t[a+"Container"],o=t[a+"Offset"],d(n,r,i,o)},insertNode:function(e){if(V(this),B(e,_),W(this.startContainer),c(e,this.startContainer))throw new l("HIERARCHY_REQUEST_ERR");var t=S(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(V(this),this.collapsed)return y(this).createDocumentFragment();if(this.startContainer===this.endContainer&&f(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=y(this).createDocumentFragment()).appendChild(e),t;var n=new C(this,!0);return e=function o(e){for(var t,n,r,i=y(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(o(r)),r.detach()),10==n.nodeType)throw new l("HIERARCHY_REQUEST_ERR");i.appendChild(n)}return i}(n),n.detach(),e},canSurroundContents:function(){V(this),W(this.startContainer),W(this.endContainer);var e=new C(this,!0),t=e._first&&v(e._first,this)||e._last&&v(e._last,this);return e.detach(),!t},surroundContents:function(e){if(B(e,O),!this.canSurroundContents())throw new l("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);S(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){V(this);for(var e,t=new fe(y(this)),n=J.length;n--;)t[e=J[n]]=this[e];return t},toString:function(){V(this);var e=this.startContainer;if(e===this.endContainer&&f(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new C(this,!0);return E(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){V(this);var t=e.parentNode,n=h(e);if(!t)throw new l("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?0<i?re:te:0<i?ne:ie},comparePoint:function(e,t){return V(this),U(e,"HIERARCHY_REQUEST_ERR"),F(e,this.startContainer),d(e,t,this.startContainer,this.startOffset)<0?-1:0<d(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:X,toHtml:function(){return $(this)},intersectsNode:function(e,t){if(V(this),m(e)!=function s(e){return m(e.startContainer)}(this))return!1;var n=e.parentNode,r=h(e);if(!n)return!0;var i=d(n,r,this.endContainer,this.endOffset),o=d(n,r+1,this.startContainer,this.startOffset);return t?i<=0&&0<=o:i<0&&0<o},isPointInRange:function(e,t){return V(this),U(e,"HIERARCHY_REQUEST_ERR"),F(e,this.startContainer),0<=d(e,t,this.startContainer,this.startOffset)&&d(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return T(this,e,!1)},intersectsOrTouchesRange:function(e){return T(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=d(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=d(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==d(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==d(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new l("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ie},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,g(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(0<n.length){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return V(this),function n(r,e,i){var o,s=!(!e||!e.length),a=!!i;s&&(o=new RegExp("^("+e.join("|")+")$"));var l=[];return E(new C(r,!1),function(e){if((!s||o.test(e.nodeType))&&(!a||i(e))){var t=r.startContainer;if(e!=t||!f(t)||r.startOffset!=t.length){var n=r.endContainer;e==n&&f(n)&&0==r.endOffset||l.push(e)}}}),l}(this,e,t)},getDocument:function(){return y(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(e){var t=y(this),n=s.createRange(t);e=e||a.getBody(t),n.selectNodeContents(e);var r=this.intersection(n),i=0,o=0;return r&&(n.setEnd(r.startContainer,r.startOffset),o=(i=n.toString().length)+r.toString().length),{start:i,end:o,containerNode:e}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,s,a=[t],l=!1,c=!1;!c&&(r=a.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),c=!0),n=i;else for(o=(s=r.childNodes).length;o--;)a.push(s[o])},getName:function(){return"DomRange"},equals:function(e){return fe.rangesEqual(this,e)},isValid:function(){return z(this)},inspect:function(){return e(this)},detach:function(){}}),le(fe,ue),r.extend(fe,{rangeProperties:J,RangeIterator:C,copyComparisonConstants:se,createPrototypeRange:le,inspect:e,toHtml:$,getRangeDocument:y,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),s.DomRange=fe}),w.createCoreModule("WrappedRange",["DomRange"],function(h,module){var d,e,S=h.dom,p=h.util,T=S.DomPosition,g=h.DomRange,m=S.getBody,b=S.getContentDocument,E=S.isCharacterDataNode;if(h.features.implementsDomRange&&function(){var e,t,r=g.rangeProperties;function i(e){for(var t,n=r.length;n--;)e[t=r[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}d=function(e){if(!e)throw module.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},g.createPrototypeRange(d,function u(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,s=e.endContainer!==r||e.endOffset!=i,a=!e.equals(e.nativeRange);(o||s||a)&&(e.setEnd(r,i),e.setStart(t,n))}),(e=d.prototype).selectNode=function(e){this.nativeRange.selectNode(e),i(this)},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},e.collapse=function(e){this.nativeRange.collapse(e),i(this)},e.cloneRange=function(){return new d(this.nativeRange.cloneRange())},e.refresh=function(){i(this)},e.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");m(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),e.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},e.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},t=function(t){return function(e){this.nativeRange[t](e),i(this)}}}catch(f){e.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(zla){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},e.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(zla){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},t=function(t,n){return function(e){try{this.nativeRange[t](e)}catch(zla){this.nativeRange[n](e),this.nativeRange[t](e)}i(this)}}}e.setStartBefore=t("setStartBefore","setEndBefore"),e.setStartAfter=t("setStartAfter","setEndAfter"),e.setEndBefore=t("setEndBefore","setStartBefore"),e.setEndAfter=t("setEndAfter","setStartAfter"),e.selectNodeContents=function(e){this.setStartAndEnd(e,0,S.getNodeLength(e))},o.selectNodeContents(n),o.setEnd(n,3);var s=document.createRange();s.selectNodeContents(n),s.setEnd(n,4),s.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,s)&&1==o.compareBoundaryPoints(o.END_TO_START,s)?e.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:e.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var a=document.createElement("div");a.innerHTML="123";var l=a.firstChild,c=m(document);c.appendChild(a),o.setStart(l,1),o.setEnd(l,2),o.deleteContents(),"13"==l.data&&(e.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},e.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),c.removeChild(a),c=null,p.isHostMethod(o,"createContextualFragment")&&(e.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),m(document).removeChild(n),e.getName=function(){return"WrappedRange"},h.WrappedRange=d,h.createNativeRange=function(e){return(e=b(e,module,"createNativeRange")).createRange()}}(),h.features.implementsTextRange){var o=function(e,t,n,r,i){var o=e.duplicate();o.collapse(n);var s=o.parentElement();if(S.isOrIsAncestorOf(t,s)||(s=t),!s.canHaveHTML){var a=new T(s.parentNode,S.getNodeIndex(s));return{boundaryPosition:a,nodeInfo:{nodeIndex:a.offset,containerElement:a.node}}}var l=S.getDocument(s).createElement("span");l.parentNode&&S.removeNode(l);for(var c,u,f,h,d,p=n?"StartToStart":"StartToEnd",g=i&&i.containerElement==s?i.nodeIndex:0,m=s.childNodes.length,b=m,v=b;v==m?s.appendChild(l):s.insertBefore(l,s.childNodes[v]),o.moveToElementText(l),0!=(c=o.compareEndPoints(p,e))&&g!=b;){if(-1==c){if(b==g+1)break;g=v}else b=b==g+1?g:v;v=Math.floor((g+b)/2),s.removeChild(l)}if(d=l.nextSibling,-1==c&&d&&E(d)){var y;if(o.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(d.data)){var k=o.duplicate(),w=k.text.replace(/\r\n/g,"\r").length;for(y=k.moveStart("character",w);-1==(c=k.compareEndPoints("StartToEnd",k));)y++,k.moveStart("character",1)}else y=o.text.length;h=new T(d,y)}else u=(r||!n)&&l.previousSibling,h=(f=(r||n)&&l.nextSibling)&&E(f)?new T(f,0):u&&E(u)?new T(u,u.data.length):new T(s,S.getNodeIndex(l));return S.removeNode(l),{boundaryPosition:h,nodeInfo:{nodeIndex:v,containerElement:s}}},i=function(e,t){var n,r,i,o,s=e.offset,a=S.getDocument(e.node),l=m(a).createTextRange(),c=E(e.node);return r=c?(n=e.node).parentNode:(n=s<(o=e.node.childNodes).length?o[s]:null,e.node),(i=a.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),l.moveToElementText(i),l.collapse(!t),r.removeChild(i),c&&l[t?"moveStart":"moveEnd"]("character",s),l};((e=function(e){this.textRange=e,this.refresh()}).prototype=new g(document)).refresh=function(){var e,t,n,r,i=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var i=n.parentElement(),o=r==i?r:S.getCommonAncestor(r,i);return o==t?o:S.getCommonAncestor(t,o)}(this.textRange);t=0==(r=this.textRange).compareEndPoints("StartToEnd",r)?e=o(this.textRange,i,!0,!0).boundaryPosition:(e=(n=o(this.textRange,i,!0,!1)).boundaryPosition,o(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},e.prototype.getName=function(){return"WrappedTextRange"},g.copyComparisonConstants(e);var t=function(e){if(e.collapsed)return i(new T(e.startContainer,e.startOffset),!0);var t=i(new T(e.startContainer,e.startOffset),!0),n=i(new T(e.endContainer,e.endOffset),!1),r=m(g.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(e.rangeToTextRange=t,e.prototype.toTextRange=function(){return t(this)},h.WrappedTextRange=e,!h.features.implementsDomRange||h.config.preferTextRange){var n=Function("return this;")();"undefined"==typeof n.Range&&(n.Range=e),h.createNativeRange=function(e){return e=b(e,module,"createNativeRange"),m(e).createTextRange()},h.WrappedRange=e}}h.createRange=function(e){return e=b(e,module,"createRange"),new h.WrappedRange(h.createNativeRange(e))},h.createRangyRange=function(e){return e=b(e,module,"createRangyRange"),new g(e)},p.createAliasForDeprecatedMethod(h,"createIframeRange","createRange"),p.createAliasForDeprecatedMethod(h,"createIframeRangyRange","createRangyRange"),h.addShimListener(function(e){var t=e.document;"undefined"==typeof t.createRange&&(t.createRange=function(){return h.createRange(t)}),t=e=null})}),w.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(f,module){f.config.checkSelectionRanges=!0;var i,s,e="number",h=f.dom,t=f.util,n=t.isHostMethod,a=f.DomRange,l=f.WrappedRange,r=f.DOMException,c=h.DomPosition,o=f.features,u="Control",d=h.getDocument,p=h.getBody,g=a.rangesEqual;function m(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function b(e,t){if(e){if(h.isWindow(e))return e;if(e instanceof z)return e.win;var n=h.getContentDocument(e,module,t);return h.getWindow(n)}return window}function v(e){return b(e,"getDocSelection").document.selection}function y(e){var t=!1;return e.anchorNode&&(t=1==h.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var k=n(window,"getSelection"),w=t.isHostObject(document,"selection");o.implementsWinGetSelection=k;var S=(o.implementsDocSelection=w)&&(!k||f.config.preferTextRange);if(S)i=v,f.isSelectionValid=function(e){var t=b(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||d(n.createRange().parentElement())==t};else{if(!k)return module.fail("Neither document.selection or window.getSelection() detected."),!1;i=function re(e){return b(e,"getWinSelection").getSelection()},f.isSelectionValid=function(){return!0}}var T=(f.getNativeSelection=i)();if(!T)return module.fail("Native selection was null (possibly issue 138?)"),!1;var E=f.createNativeRange(document),R=p(document),x=t.areHostProperties(T,["anchorNode","focusNode","anchorOffset","focusOffset"]);o.selectionHasAnchorAndFocus=x;var C=n(T,"extend");o.selectionHasExtend=C;var I=typeof T.rangeCount==e;o.selectionHasRangeCount=I;var N=!1,_=!0,O=C?function(e,t){var n=a.getRangeDocument(t),r=f.createRange(n);r.collapseToPoint(t.endContainer,t.endOffset),e.addRange(B(r)),e.extend(t.startContainer,t.startOffset)}:null;t.areHostMethods(T,["addRange","getRangeAt","removeAllRanges"])&&typeof T.rangeCount==e&&o.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var t=e.rangeCount,n=1<t,r=[],i=y(e),o=0;o<t;++o)r[o]=e.getRangeAt(o);var s=h.createTestElement(document,"",!1),a=s.appendChild(document.createTextNode("")),l=document.createRange();if(l.setStart(a,1),l.collapse(!0),e.removeAllRanges(),e.addRange(l),_=1==e.rangeCount,e.removeAllRanges(),!n){var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&36<=parseInt(c[1]))N=!1;else{var u=l.cloneRange();l.setStart(a,0),u.setEnd(a,3),u.setStart(a,2),e.addRange(l),e.addRange(u),N=2==e.rangeCount}}for(h.removeNode(s),e.removeAllRanges(),o=0;o<t;++o)0==o&&i?O?O(e,r[o]):(f.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[o])):e.addRange(r[o])}}(),o.selectionSupportsMultipleRanges=N,o.collapsedNonEditableSelectionsSupported=_;var A,P,D=!1;function M(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function L(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function B(e){var t;return e instanceof a?((t=f.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof l?t=e.nativeRange:o.implementsDomRange&&e instanceof h.getWindow(e.startContainer).Range&&(t=e),t}function H(e){var t=e.getNodes();if(!function r(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!h.isAncestorOf(e[0],e[t]))return!1;return!0}(t))throw module.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function F(e){return!!e&&"undefined"!=typeof e.text}function W(e,t){var n=new l(t);e._ranges=[n],M(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function U(e){if(e._ranges.length=0,"None"==e.docSelection.type)L(e);else{var t=e.docSelection.createRange();if(F(t))W(e,t);else{e.rangeCount=t.length;for(var n,r=d(t.item(0)),i=0;i<e.rangeCount;++i)(n=f.createRange(r)).selectNode(t.item(i)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,M(e,e._ranges[e.rangeCount-1],!1)}}}function j(e,t){for(var n=e.docSelection.createRange(),r=H(t),i=d(n.item(0)),o=p(i).createControlRange(),s=0,a=n.length;s<a;++s)o.add(n.item(s));try{o.add(r)}catch(l){throw module.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),U(e)}function z(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function V(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}R&&n(R,"createControlRange")&&(A=R.createControlRange(),t.areHostProperties(A,["item","add"])&&(D=!0)),o.implementsControlRange=D,s=x?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},n(T,"getRangeAt")?P=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:x&&(P=function(e){var t=d(e.anchorNode),n=f.createRange(t);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),z.prototype=f.selectionPrototype;var q=[];function G(e,t){for(var n,r,i=q.length;i--;)if(r=(n=q[i]).selection,"deleteAll"==t)V(r);else if(n.win==e)return"delete"==t?(q.splice(i,1),!0):r;return"deleteAll"==t&&(q.length=0),null}var X=function(e){if(e&&e instanceof z)return e.refresh(),e;var t=G(e=b(e,"getNativeSelection")),n=i(e),r=w?v(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new z(n,r,e),q.push({win:e,selection:t})),t};f.getSelection=X,t.createAliasForDeprecatedMethod(f,"getIframeSelection","getSelection");var Y,$=z.prototype;function J(e,t){for(var n,r=d(t[0].startContainer),i=p(r).createControlRange(),o=0,s=t.length;o<s;++o){n=H(t[o]);try{i.add(n)}catch(a){throw module.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),U(e)}if(!S&&x&&t.areHostMethods(T,["removeAllRanges","addRange"])){$.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),L(this)};var K=function(e,t){O(e.nativeSelection,t),e.refresh()};$.addRange=I?function(e,t){if(D&&w&&this.docSelection.type==u)j(this,e);else if(m(t)&&C)K(this,e);else{var n;n=N?this.rangeCount:(this.removeAllRanges(),0);var r=B(e).cloneRange();try{this.nativeSelection.addRange(r)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(f.config.checkSelectionRanges){var i=P(this.nativeSelection,this.rangeCount-1);i&&!g(i,e)&&(e=new l(i))}this._ranges[this.rangeCount-1]=e,M(this,e,Z(this.nativeSelection)),this.isCollapsed=s(this)}else this.refresh()}}:function(e,t){m(t)&&C?K(this,e):(this.nativeSelection.addRange(B(e)),this.refresh())},$.setRanges=function(e){if(D&&w&&1<e.length)J(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(n(T,"empty")&&n(E,"select")&&D&&S))return module.fail("No means of selecting a Range or TextRange was found"),!1;$.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=d(this.anchorNode);else if(this.docSelection.type==u){var t=this.docSelection.createRange();t.length&&(e=d(t.item(0)))}if(e)p(e).createTextRange().select(),this.docSelection.empty()}}catch(n){}L(this)},$.addRange=function(e){this.docSelection.type==u?j(this,e):(f.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,M(this,e,!1))},$.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?J(this,e):t&&this.addRange(e[0])}}if($.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new r("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},S)Y=function(e){var t;f.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=p(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==u?U(e):F(t)?W(e,t):L(e)};else if(n(T,"getRangeAt")&&typeof T.rangeCount==e)Y=function(e){if(D&&w&&e.docSelection.type==u)U(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t)e._ranges[t]=new f.WrappedRange(e.nativeSelection.getRangeAt(t));M(e,e._ranges[e.rangeCount-1],Z(e.nativeSelection)),e.isCollapsed=s(e)}else L(e)};else{if(!x||"boolean"!=typeof T.isCollapsed||"boolean"!=typeof E.collapsed||!o.implementsDomRange)return module.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;Y=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=P(n,0),e._ranges=[t],e.rangeCount=1,function r(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=s(e)):L(e)}}$.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(Y(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!g(t[i],this._ranges[i]))return!0;return!1}};var Z,Q=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)g(t,n[r])||e.addRange(n[r]);e.rangeCount||L(e)};function ee(e,t){if(e.win.document!=d(t))throw new r("WRONG_DOCUMENT_ERR")}function te(r){return function(e,t){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(r?"Start":"End")](e,t):(n=f.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(n,this.isBackward())}}function ne(e){var t=[],n=new c(e.anchorNode,e.anchorOffset),r=new c(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,s=e.rangeCount;o<s;++o)t[o]=a.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}$.removeRange=D&&w?function(e){if(this.docSelection.type==u){for(var t=this.docSelection.createRange(),n=H(e),r=d(t.item(0)),i=p(r).createControlRange(),o=!1,s=0,a=t.length;s<a;++s)t.item(s)!==n||o?i.add(t.item(s)):o=!0;i.select(),U(this)}else Q(this,e)}:function(e){Q(this,e)},!S&&x&&o.implementsDomRange?(Z=y,$.isBackward=function(){return Z(this)}):Z=$.isBackward=function(){return!1},$.isBackwards=$.isBackward,$.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},$.collapse=function(e,t){ee(this,e);var n=f.createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},$.collapseToStart=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},$.collapseToEnd=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},$.selectAllChildren=function(e){ee(this,e);var t=f.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},$.deleteFromDocument=function(){if(D&&w&&this.docSelection.type==u){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),h.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},$.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},$.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},$.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},$.callMethodOnEachRange=function(t,n){var r=[];return this.eachRange(function(e){r.push(e[t].apply(e,n||[]))}),r},$.setStart=te(!0),$.setEnd=te(!1),f.rangePrototype.select=function(e){X(this.getDocument()).setSingleRange(this,e)},$.changeEachRange=function(t){var n=[],e=this.isBackward();this.eachRange(function(e){t(e),n.push(e)}),this.removeAllRanges(),e&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},$.containsNode=function(t,n){return this.eachRange(function(e){return e.containsNode(t,n)},!0)||!1},$.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},$.moveToBookmark=function(e){for(var t,n,r=[],i=0;t=e.rangeBookmarks[i++];)(n=f.createRange(this.win)).moveToBookmark(t),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},$.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},$.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},$.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(a.toHtml(e))}),t.join("")},o.implementsTextRange&&($.getNativeTextRange=function(){var e;if(e=this.docSelection){var t=e.createRange();if(F(t))return t;throw module.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return f.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw module.createError("getNativeTextRange: selection contains no range")}),$.getName=function(){return"WrappedSelection"},$.inspect=function(){return ne(this)},$.detach=function(){G(this.win,"delete"),V(this)},z.detachAll=function(){G(null,"deleteAll")},z.inspect=ne,z.isDirectionBackward=m,f.Selection=z,f.selectionPrototype=$,f.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return X(e)}),e=null})});var D=!1,M=function(e){D||(D=!0,!w.initialized&&w.config.autoInitialize&&C())};return y&&("complete"==document.readyState?M():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",M,!1),b(window,"load",M))),w},r=this,"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&"object"==typeof exports?module.exports=n():r.rangy=n(),o=function(e){return e.createModule("Highlighter",["ClassApplier"],function(T,module){var e=T.dom,i=e.arrayContains,l=e.getBody,E=T.util.createOptions,R=T.util.forEach,s=1;function n(e,t){return e.characterRange.start-t.characterRange.start}function g(e,t){return t?e.getElementById(t):l(e)}var r={};function o(e,t){this.type=e,this.converterCreator=t}function t(e,t){r[e]=new o(e,t)}function m(e){var t=r[e];if(t instanceof o)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function x(e,t){this.start=e,this.end=t}o.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},T.registerHighlighterType=t,x.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new x(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new x(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new x(e.end,this.end))}else t.push(new x(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new x(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},x.fromCharacterRange=function(e){return new x(e.start,e.end)};var a,c={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new x(n.start,n.end)},characterRangeToRange:function(e,t,n){var r=T.createRange(e);return r.moveToBookmark({start:t.start,end:t.end,containerNode:n}),r},serializeSelection:function(e,t){for(var n=e.getAllRanges(),r=[],i=1==n.length&&e.isBackward(),o=0,s=n.length;o<s;++o)r[o]={characterRange:this.rangeToCharacterRange(n[o],t),backward:i};return r},restoreSelection:function(e,t,n){e.removeAllRanges();for(var r,i,o=e.win.document,s=0,a=t.length;s<a;++s)(i=t[s]).characterRange,r=this.characterRangeToRange(o,i.characterRange,n),e.addRange(r,i.backward)}};function C(e,t,n,r,i,o){i?(this.id=i,s=Math.max(s,i+1)):this.id=s++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=r,this.containerElementId=o||null,this.applied=!1}function u(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=m(t)}t("textContent",function(){return c}),t("TextRange",function(){if(!a){var e=T.modules.TextRange;if(!e)throw new Error("TextRange module is missing.");if(!e.supported)throw new Error("TextRange module is present but not supported.");a={rangeToCharacterRange:function(e,t){return x.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(e,t,n){var r=T.createRange(e);return r.selectCharacters(n,t.start,t.end),r},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return a}),C.prototype={getContainerElement:function(){return g(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},u.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,r=t.length;n<r;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,r=this.highlights.length;n<r;++n)t=this.highlights[n],i(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var n=[],r=this.highlights;return R(e,function(t){R(r,function(e){t.intersectsRange(e.getRange())&&!i(n,e)&&n.push(e)})}),n},highlightCharacterRanges:function(e,t,n){var r,i,o,s,a,l,c,u,f,h,d,p,g=this.highlights,m=this.converter,b=this.doc,v=[],y=e?this.classAppliers[e]:null,k=(n=E(n,{containerElementId:null,exclusive:!0})).containerElementId,w=n.exclusive;for(k&&(s=this.doc.getElementById(k))&&((a=T.createRange(this.doc)).selectNodeContents(s),l=new x(0,a.toString().length)),r=0,i=t.length;r<i;++r)if(c=t[r],d=[],l&&(c=c.intersection(l)),c.start!=c.end){for(o=0;o<g.length;++o)f=!1,k==g[o].containerElementId&&(u=g[o].characterRange,p=!(h=y==g[o].classApplier)&&w,(u.intersects(c)||u.isContiguousWith(c))&&(h||p)&&(p&&R(u.getComplements(c),function(e){d.push(new C(b,e,g[o].classApplier,m,null,k))}),f=!0,h&&(c=u.union(c)))),f?(v.push(g[o]),g[o]=new C(b,u.union(c),y,m,null,k)):d.push(g[o]);y&&d.push(new C(b,c,y,m,null,k)),this.highlights=g=d}R(v,function(e){e.unapply()});var S=[];return R(g,function(e){e.applied||(e.apply(),S.push(e))}),S},highlightRanges:function(e,t,n){var r,i=[],o=this.converter,s=(n=E(n,{containerElement:null,exclusive:!0})).containerElement,a=s?s.id:null;return s&&(r=T.createRange(s)).selectNodeContents(s),R(t,function(e){var t=s?r.intersection(e):e;i.push(o.rangeToCharacterRange(t,s||l(e.getDocument())))}),this.highlightCharacterRanges(e,i,{containerElementId:a,exclusive:n.exclusive})},highlightSelection:function(e,t){var n=this.converter,r=!!e&&this.classAppliers[e],i=(t=E(t,{containerElementId:null,exclusive:!0})).containerElementId,o=t.exclusive,s=t.selection||T.getSelection(this.doc),a=g(s.win.document,i);if(!r&&!1!==e)throw new Error("No class applier found for class '"+e+"'");var l=n.serializeSelection(s,a),c=[];R(l,function(e){c.push(x.fromCharacterRange(e.characterRange))});var u=this.highlightCharacterRanges(e,c,{containerElementId:i,exclusive:o});return n.restoreSelection(s,l,a),u},unhighlightSelection:function(e){e=e||T.getSelection(this.doc);var t=this.getIntersectingHighlights(e.getAllRanges());return this.removeHighlights(t),e.removeAllRanges(),t},getHighlightsInSelection:function(e){return e=e||T.getSelection(this.doc),this.getIntersectingHighlights(e.getAllRanges())},selectionOverlapsHighlight:function(e){return 0<this.getHighlightsInSelection(e).length},serialize:function(i){var e,o,s,a,l=this,t=l.highlights;return t.sort(n),e=(i=E(i,{serializeHighlightText:!1,type:l.converter.type})).type,(s=e!=l.converter.type)&&(a=m(e)),o=["type:"+e],R(t,function(e){var t,n=e.characterRange;s&&(t=e.getContainerElement(),n=a.rangeToCharacterRange(l.converter.characterRangeToRange(l.doc,n,t),t));var r=[n.start,n.end,e.id,e.classApplier.className,e.containerElementId];i.serializeHighlightText&&r.push(e.getText()),o.push(r.join("$"))}),o.join("|")},deserialize:function(e){var t,n,r,i,o,s,a,l,c=e.split("|"),u=[],f=c[0],h=!1;if(!f||!(t=/^type:(\w+)$/.exec(f)))throw new Error("Serialized highlights are invalid.");(n=t[1])!=this.converter.type&&(r=m(n),h=!0),c.shift();for(var d,p=c.length;0<p--;){if(s=new x(+(d=c[p].split("$"))[0],+d[1]),a=d[4]||null,h&&(l=g(this.doc,a),s=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,s,l),l)),!(i=this.classAppliers[d[3]]))throw new Error("No class applier found for class '"+d[3]+"'");(o=new C(this.doc,s,i,this.converter,parseInt(d[2]),a)).apply(),u.push(o)}this.highlights=u}},T.Highlighter=u,T.createHighlighter=function(e,t){return new u(e,t)}}),e},s=this,"function"==typeof define&&define.amd?define(["./rangy-core"],o):"undefined"!=typeof module&&"object"==typeof exports?module.exports=o(require("rangy")):o(s.rangy),a=function(e){return e.createModule("SaveRestore",["WrappedRange"],function(l,module){var s=l.dom,a=s.removeNode,c=l.Selection.isDirectionBackward,u="\ufeff";function f(e,t){return(t||document).getElementById(e)}function h(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=s.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),(n=i.createElement("span")).id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(u)),o.insertNode(n),n}function d(e,t,n,r){var i=f(n,e);i?(t[r?"setStartBefore":"setEndBefore"](i),a(i)):module.warn("Marker element has been removed. Cannot restore selection.")}function p(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function g(e,t){var n,r=l.DomRange.getRangeDocument(e),i=e.toString(),o=c(t);return e.collapsed?{document:r,markerId:(n=h(e,!1)).id,collapsed:!0}:(n=h(e,!1),{document:r,startMarkerId:h(e,!0).id,endMarkerId:n.id,collapsed:!1,backward:o,toString:function(){return"original text: '"+i+"', new text: '"+e.toString()+"'"}})}function r(e,t){var n=e.document;void 0===t&&(t=!0);var r=l.createRange(n);if(e.collapsed){var i=f(e.markerId,n);if(i){i.style.display="inline";var o=i.previousSibling;o&&3==o.nodeType?(a(i),r.collapseToPoint(o,o.length)):(r.collapseBefore(i),a(i))}else module.warn("Marker element has been removed. Cannot restore selection.")}else d(n,r,e.startMarkerId,!0),d(n,r,e.endMarkerId,!1);return t&&r.normalizeBoundaries(),r}function o(e,t){var n,r,i=[],o=c(t);(e=e.slice(0)).sort(p);for(var s=0,a=e.length;s<a;++s)i[s]=g(e[s],o);for(s=a-1;0<=s;--s)n=e[s],r=l.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(f(i[s].markerId,r)):(n.setEndBefore(f(i[s].endMarkerId,r)),n.setStartAfter(f(i[s].startMarkerId,r)));return i}function m(e){for(var t=[],n=e.length-1;0<=n;n--)t[n]=r(e[n],!0);return t}function b(e,t){var n=f(t,e);n&&a(n)}l.util.extend(l,{saveRange:g,restoreRange:r,saveRanges:o,restoreRanges:m,saveSelection:function v(e){if(!l.isSelectionValid(e))return module.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var t=l.getSelection(e),n=t.getAllRanges(),r=1==n.length&&t.isBackward(),i=o(n,r);return r?t.setSingleRange(n[0],r):t.setRanges(n),{win:e,rangeInfos:i,restored:!1}},restoreSelection:function y(e,t){if(!e.restored){var n=e.rangeInfos,r=l.getSelection(e.win),i=m(n);1==n.length&&t&&l.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),e.restored=!0}},removeMarkerElement:b,removeMarkers:function k(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)(t=n[r]).collapsed?b(e.doc,t.markerId):(b(e.doc,t.startMarkerId),b(e.doc,t.endMarkerId))}})}),e},l=this,"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(l.rangy),c=function(e){return e.createModule("Serializer",["WrappedSelection"],function(c,module){var e=c.util;"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||module.fail("encodeURIComponent and/or decodeURIComponent method is missing");var l,n=(l=null,function(e){for(var t=function s(e){for(var t,n=[],r=0,i=e.length;r<i;++r)(t=e.charCodeAt(r))<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}(e),n=-1,r=function a(){return l||(l=function i(){for(var e,t,n=[],r=0;r<256;++r){for(t=r,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[r]=t>>>0}return n}()),l}(),i=0,o=t.length;i<o;++i)n=n>>>8^r[255&(n^t[i])];return(-1^n)>>>0}),u=c.dom;function f(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e,t){t=t||[];var n=e.nodeType,r=e.childNodes,i=r.length,o=[n,e.nodeName,i].join(":"),s="",a="";switch(n){case 3:s=f(e.nodeValue);break;case 8:s="\x3c!--"+f(e.nodeValue)+"--\x3e";break;default:s="<"+o+">",a="</>"}s&&t.push(s);for(var l=0;l<i;++l)h(r[l],t);return a&&t.push(a),t}function d(e){var t=h(e).join("");return n(t).toString(16)}function i(e,t,n){var r=[],i=e;for(n=n||u.getDocument(e).documentElement;i&&i!=n;)r.push(u.getNodeIndex(i,!0)),i=i.parentNode;return r.join("/")+":"+t}function p(e,t,n){t||(t=(n||document).documentElement);for(var r,i=e.split(":"),o=t,s=i[0]?i[0].split("/"):[],a=s.length;a--;){if(!((r=parseInt(s[a],10))<o.childNodes.length))throw module.createError("deserializePosition() failed: node "+u.inspectNode(o)+" has no child with index "+r+", "+a);o=o.childNodes[r]}return new u.DomPosition(o,parseInt(i[1],10))}function a(e,t,n){if(n=n||c.DomRange.getRangeDocument(e).documentElement,!u.isOrIsAncestorOf(n,e.commonAncestorContainer))throw module.createError("serializeRange(): range "+e.inspect()+" is not wholly contained within specified root node "+u.inspectNode(n));var r=i(e.startContainer,e.startOffset,n)+","+i(e.endContainer,e.endOffset,n);return t||(r+="{"+d(n)+"}"),r}var g=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/;function m(e,t,n){t?n=n||u.getDocument(t):t=(n=n||document).documentElement;var r=g.exec(e),i=r[4];if(i){var o=d(t);if(i!==o)throw module.createError("deserializeRange(): checksums of serialized range root node ("+i+") and target root node ("+o+") do not match")}var s=p(r[1],t,n),a=p(r[2],t,n),l=c.createRange(n);return l.setStartAndEnd(s.node,s.offset,a.node,a.offset),l}function b(e,t,n){t||(t=(n||document).documentElement);var r=g.exec(e)[3];return!r||r===d(t)}function v(e,t,n){for(var r=(e=c.getSelection(e)).getAllRanges(),i=[],o=0,s=r.length;o<s;++o)i[o]=a(r[o],t,n);return i.join("|")}function r(e,t,n){t?n=n||u.getWindow(t):t=(n=n||window).document.documentElement;for(var r=e.split("|"),i=c.getSelection(n),o=[],s=0,a=r.length;s<a;++s)o[s]=m(r[s],t,n.document);return i.setRanges(o),i}var y="rangySerializedSelection";e.extend(c,{serializePosition:i,deserializePosition:p,serializeRange:a,deserializeRange:m,canDeserializeRange:b,serializeSelection:v,deserializeSelection:r,canDeserializeSelection:function k(e,t,n){var r;t?r=n?n.document:u.getDocument(t):t=(n=n||window).document.documentElement;for(var i=e.split("|"),o=0,s=i.length;o<s;++o)if(!b(i[o],t,r))return!1;return!0},restoreSelectionFromCookie:function o(e){var t=function s(e){for(var t,n,r=e.split(/[;,]/),i=0,o=r.length;i<o;++i)if((t=r[i].split("="))[0].replace(/^\s+/,"")==y&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}((e=e||window).document.cookie);t&&r(t,e.doc)},saveSelectionCookie:function w(e,t){e=e||window;var n=(t="object"==typeof t?t:{}).expires?";expires="+t.expires.toUTCString():"",r=t.path?";path="+t.path:"",i=t.domain?";domain="+t.domain:"",o=t.secure?";secure":"",s=v(c.getSelection(e));e.document.cookie=encodeURIComponent(y)+"="+encodeURIComponent(s)+n+r+i+o},getElementChecksum:d,nodeToInfoString:h}),e.crc32=n}),e},u=this,"function"==typeof define&&define.amd?define(["./rangy-core"],c):"undefined"!=typeof module&&"object"==typeof exports?module.exports=c(require("rangy")):c(u.rangy)}function patchCSS3Filter(e,t){var h={"-moz-box":{webkit:"-webkit-box",presto:"",trident:"",generic:"box"},"-moz-inline-box":{webkit:"-webkit-inline-box",presto:"",trident:"",generic:"inline-box"},"-moz-initial":{webkit:"",presto:"",trident:"",generic:"initial"},flex:{webkit:"-webkit-flex",presto:"",trident:"",generic:""},"inline-flex":{webkit:"-webkit-inline-flex",presto:"",trident:"",generic:""},"linear-gradient":{webkit20110101:n,webkit:n,presto:n,trident:n,"gecko1.9.2":n},"repeating-linear-gradient":{webkit20110101:n,webkit:n,presto:n,trident:n,"gecko1.9.2":n},"radial-gradient":{webkit20110101:r,webkit:r,presto:r,trident:r,"gecko1.9.2":r},"repeating-radial-gradient":{webkit20110101:r,webkit:r,presto:r,trident:r,"gecko1.9.2":r}},o={lastUpdate:1374677405,properties:[{gecko:"",webkit:"",presto:"",trident:"-ms-accelerator",status:"P"},{gecko:"",webkit:"",presto:"-wap-accesskey",trident:"",status:""},{gecko:"",webkit:"-webkit-align-content",presto:"",trident:"",status:""},{gecko:"align-items",webkit:"-webkit-align-items",presto:"",trident:"",status:""},{gecko:"align-self",webkit:"-webkit-align-self",presto:"",trident:"",status:""},{gecko:"animation",webkit:"-webkit-animation",presto:"",trident:"animation",status:"WD"},{gecko:"animation-delay",webkit:"-webkit-animation-delay",presto:"",trident:"animation-delay",status:"WD"},{gecko:"animation-direction",webkit:"-webkit-animation-direction",presto:"",trident:"animation-direction",status:"WD"},{gecko:"animation-duration",webkit:"-webkit-animation-duration",presto:"",trident:"animation-duration",status:"WD"},{gecko:"animation-fill-mode",webkit:"-webkit-animation-fill-mode",presto:"",trident:"animation-fill-mode",status:"ED"},{gecko:"animation-iteration-count",webkit:"-webkit-animation-iteration-count",presto:"",trident:"animation-iteration-count",status:"WD"},{gecko:"animation-name",webkit:"-webkit-animation-name",presto:"",trident:"animation-name",status:"WD"},{gecko:"animation-play-state",webkit:"-webkit-animation-play-state",presto:"",trident:"animation-play-state",status:"WD"},{gecko:"animation-timing-function",webkit:"-webkit-animation-timing-function",presto:"",trident:"animation-timing-function",status:"WD"},{gecko:"",webkit:"-webkit-app-region",presto:"",trident:"",status:""},{gecko:"-moz-appearance",webkit:"-webkit-appearance",presto:"",trident:"",status:"CR"},{gecko:"",webkit:"-webkit-aspect-ratio",presto:"",trident:"",status:""},{gecko:"backface-visibility",webkit:"-webkit-backface-visibility",presto:"",trident:"backface-visibility",status:"WD"},{gecko:"",webkit:"-webkit-background-blend-mode",presto:"",trident:"",status:""},{gecko:"background-clip",webkit:"-webkit-background-clip",presto:"background-clip",trident:"background-clip",status:"WD"},{gecko:"",webkit:"-webkit-background-composite",presto:"",trident:"",status:""},{gecko:"-moz-background-inline-policy",webkit:"",presto:"",trident:"",status:"P"},{gecko:"background-origin",webkit:"-webkit-background-origin",presto:"background-origin",trident:"background-origin",status:"WD"},{gecko:"",webkit:"background-position-x",presto:"",trident:"-ms-background-position-x",status:""},{gecko:"",webkit:"background-position-y",presto:"",trident:"-ms-background-position-y",status:""},{gecko:"background-size",webkit:"-webkit-background-size",presto:"background-size",trident:"background-size",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-behavior",status:""},{gecko:"-moz-binding",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-blend-mode",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-block-progression",status:""},{gecko:"",webkit:"-webkit-border-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-style",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-after-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-color",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-style",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-before-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-bottom-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-bottom-left-radius",webkit:"-webkit-border-bottom-left-radius",presto:"border-bottom-left-radius",trident:"border-bottom-left-radius",status:"WD"},{gecko:"border-bottom-right-radius",webkit:"-webkit-border-bottom-right-radius",presto:"border-bottom-right-radius",trident:"border-bottom-right-radius",status:"WD"},{gecko:"-moz-border-end",webkit:"-webkit-border-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-color",webkit:"-webkit-border-end-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-style",webkit:"-webkit-border-end-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-end-width",webkit:"-webkit-border-end-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-border-fit",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-border-horizontal-spacing",presto:"",trident:"",status:""},{gecko:"border-image",webkit:"-webkit-border-image",presto:"-o-border-image",trident:"",status:"WD"},{gecko:"-moz-border-left-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-radius",webkit:"-webkit-border-radius",presto:"border-radius",trident:"border-radius",status:"WD"},{gecko:"-moz-border-right-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-border-start",webkit:"-webkit-border-start",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-color",webkit:"-webkit-border-start-color",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-style",webkit:"-webkit-border-start-style",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-start-width",webkit:"-webkit-border-start-width",presto:"",trident:"",status:"ED"},{gecko:"-moz-border-top-colors",webkit:"",presto:"",trident:"",status:"P"},{gecko:"border-top-left-radius",webkit:"-webkit-border-top-left-radius",presto:"border-top-left-radius",trident:"border-top-left-radius",status:"WD"},{gecko:"border-top-right-radius",webkit:"-webkit-border-top-right-radius",presto:"border-top-right-radius",trident:"border-top-right-radius",status:"WD"},{gecko:"",webkit:"-webkit-border-vertical-spacing",presto:"",trident:"",status:""},{gecko:"-moz-box-align",webkit:"-webkit-box-align",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-box-decoration-break",presto:"box-decoration-break",trident:"",status:"WD"},{gecko:"-moz-box-direction",webkit:"-webkit-box-direction",presto:"",trident:"",status:"WD"},{gecko:"-moz-box-flex",webkit:"-webkit-box-flex",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-box-flex-group",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-box-lines",presto:"",trident:"",status:"WD"},{gecko:"-moz-box-ordinal-group",webkit:"-webkit-box-ordinal-group",presto:"",trident:"",status:"WD"},{gecko:"-moz-box-orient",webkit:"-webkit-box-orient",presto:"",trident:"",status:"WD"},{gecko:"-moz-box-pack",webkit:"-webkit-box-pack",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-box-reflect",presto:"",trident:"",status:""},{gecko:"box-shadow",webkit:"-webkit-box-shadow",presto:"box-shadow",trident:"box-shadow",status:"WD"},{gecko:"-moz-box-sizing",webkit:"-webkit-box-sizing",presto:"box-sizing",trident:"box-sizing",status:"CR"},{gecko:"caption-side",webkit:"-epub-caption-side",presto:"caption-side",trident:"caption-side",status:""},{gecko:"clip-path",webkit:"-webkit-clip-path",presto:"clip-path",trident:"",status:""},{gecko:"",webkit:"-webkit-color-correction",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-axis",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-column-break-inside",presto:"",trident:"",status:""},{gecko:"-moz-column-count",webkit:"-webkit-column-count",presto:"column-count",trident:"column-count",status:"CR"},{gecko:"-moz-column-fill",webkit:"",presto:"column-fill",trident:"column-fill",status:"CR"},{gecko:"-moz-column-gap",webkit:"-webkit-column-gap",presto:"column-gap",trident:"column-gap",status:"CR"},{gecko:"",webkit:"-webkit-column-progression",presto:"",trident:"",status:""},{gecko:"-moz-column-rule",webkit:"-webkit-column-rule",presto:"column-rule",trident:"column-rule",status:"CR"},{gecko:"-moz-column-rule-color",webkit:"-webkit-column-rule-color",presto:"column-rule-color",trident:"column-rule-color",status:"CR"},{gecko:"-moz-column-rule-style",webkit:"-webkit-column-rule-style",presto:"column-rule-style",trident:"column-rule-style",status:"CR"},{gecko:"-moz-column-rule-width",webkit:"-webkit-column-rule-width",presto:"column-rule-width",trident:"column-rule-width",status:"CR"},{gecko:"",webkit:"-webkit-column-span",presto:"column-span",trident:"column-span",status:"CR"},{gecko:"-moz-column-width",webkit:"-webkit-column-width",presto:"column-width",trident:"column-width",status:"CR"},{gecko:"-moz-columns",webkit:"-webkit-columns",presto:"columns",trident:"columns",status:"CR"},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-chaining",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-limit",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-limit-max",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-limit-min",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-snap",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-snap-points",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zoom-snap-type",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-content-zooming",status:""},{gecko:"",webkit:"-webkit-cursor-visibility",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-dashboard-region",presto:"-apple-dashboard-region",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-device-pixel-ratio",trident:"",status:""},{gecko:"filter",webkit:"-webkit-filter",presto:"filter",trident:"-ms-filter",status:""},{gecko:"flex",webkit:"-webkit-flex",presto:"",trident:"-ms-flex",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-flex-align",status:""},{gecko:"flex-basis",webkit:"-webkit-flex-basis",presto:"",trident:"",status:""},{gecko:"flex-direction",webkit:"-webkit-flex-direction",presto:"",trident:"-ms-flex-direction",status:""},{gecko:"",webkit:"-webkit-flex-flow",presto:"",trident:"",status:""},{gecko:"flex-grow",webkit:"-webkit-flex-grow",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-flex-order",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-flex-pack",status:""},{gecko:"flex-shrink",webkit:"-webkit-flex-shrink",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-flex-wrap",presto:"",trident:"-ms-flex-wrap",status:""},{gecko:"-moz-float-edge",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-flow-from",presto:"",trident:"-ms-flow-from",status:""},{gecko:"",webkit:"-webkit-flow-into",presto:"",trident:"-ms-flow-into",status:""},{gecko:"",webkit:"",presto:"-o-focus-opacity",trident:"",status:""},{gecko:"-moz-font-feature-settings",webkit:"-webkit-font-feature-settings",presto:"",trident:"font-feature-settings",status:""},{gecko:"font-kerning",webkit:"-webkit-font-kerning",presto:"",trident:"",status:""},{gecko:"-moz-font-language-override",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-font-size-delta",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-font-smoothing",presto:"",trident:"",status:""},{gecko:"font-variant-ligatures",webkit:"-webkit-font-variant-ligatures",presto:"",trident:"",status:""},{gecko:"-moz-force-broken-image-icon",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-auto-columns",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-auto-flow",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-auto-rows",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-column",presto:"",trident:"-ms-grid-column",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-column-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-columns",status:"WD"},{gecko:"",webkit:"-webkit-grid-definition-columns",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-definition-rows",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-end",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-grid-row",presto:"",trident:"-ms-grid-row",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-align",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-row-span",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-grid-rows",status:"WD"},{gecko:"",webkit:"-webkit-grid-start",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-high-contrast-adjust",status:""},{gecko:"",webkit:"-webkit-highlight",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphenate-character",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-hyphenate-limit-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-hyphenate-limit-before",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-hyphenate-limit-chars",status:""},{gecko:"",webkit:"-webkit-hyphenate-limit-lines",presto:"",trident:"-ms-hyphenate-limit-lines",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-hyphenate-limit-zone",status:""},{gecko:"-moz-hyphens",webkit:"-epub-hyphens",presto:"",trident:"-ms-hyphens",status:"WD"},{gecko:"-moz-image-region",webkit:"",presto:"",trident:"",status:"P"},{gecko:"ime-mode",webkit:"",presto:"",trident:"-ms-ime-mode",status:""},{gecko:"",webkit:"",presto:"-wap-input-format",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-input-required",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-interpolation-mode",status:""},{gecko:"",webkit:"",presto:"-xv-interpret-as",trident:"",status:""},{gecko:"justify-content",webkit:"-webkit-justify-content",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-flow",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-char",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-line",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-mode",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-layout-grid-type",status:""},{gecko:"",webkit:"-webkit-line-align",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-box-contain",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-break",presto:"",trident:"line-break",status:""},{gecko:"",webkit:"-webkit-line-clamp",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-grid",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-line-snap",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-link",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-link-source",trident:"",status:""},{gecko:"",webkit:"-webkit-locale",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-after-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-before",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-before-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-bottom-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-margin-collapse",presto:"",trident:"",status:""},{gecko:"-moz-margin-end",webkit:"-webkit-margin-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-margin-start",webkit:"-webkit-margin-start",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-margin-top-collapse",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-marquee-dir",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-direction",presto:"",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-increment",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-wap-marquee-loop",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-repetition",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-marquee-speed",presto:"-wap-marquee-speed",trident:"",status:"WD"},{gecko:"",webkit:"-webkit-marquee-style",presto:"-wap-marquee-style",trident:"",status:"WD"},{gecko:"mask",webkit:"-webkit-mask",presto:"mask",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image-outset",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image-repeat",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image-slice",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image-source",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-box-image-width",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-clip",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-composite",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-image",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-origin",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-position-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-repeat-y",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-mask-size",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-height",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-max-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-height",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-min-logical-width",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-mini-fold",trident:"",status:""},{gecko:"",webkit:"-webkit-nbsp-mode",presto:"",trident:"",status:"P"},{gecko:"",webkit:"",presto:"-o-object-fit",trident:"",status:"ED"},{gecko:"",webkit:"",presto:"-o-object-position",trident:"",status:"ED"},{gecko:"opacity",webkit:"-webkit-opacity",presto:"opacity",trident:"opacity",status:"WD"},{gecko:"order",webkit:"-webkit-order",presto:"",trident:"",status:""},{gecko:"-moz-orient",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-outline-radius",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-bottomleft",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-bottomright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topleft",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-outline-radius-topright",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-overflow-scrolling",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-overflow-style",status:"CR"},{gecko:"overflow-x",webkit:"overflow-x",presto:"overflow-x",trident:"-ms-overflow-x",status:"WD"},{gecko:"overflow-y",webkit:"overflow-y",presto:"overflow-y",trident:"-ms-overflow-y",status:"WD"},{gecko:"",webkit:"-webkit-padding-after",presto:"",trident:"",status:"ED"},{gecko:"",webkit:"-webkit-padding-before",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-end",webkit:"-webkit-padding-end",presto:"",trident:"",status:"ED"},{gecko:"-moz-padding-start",webkit:"-webkit-padding-start",presto:"",trident:"",status:"ED"},{gecko:"perspective",webkit:"-webkit-perspective",presto:"",trident:"perspective",status:"WD"},{gecko:"perspective-origin",webkit:"-webkit-perspective-origin",presto:"",trident:"perspective-origin",status:"WD"},{gecko:"",webkit:"-webkit-perspective-origin-x",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-perspective-origin-y",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-phonemes",trident:"",status:""},{gecko:"",webkit:"-webkit-print-color-adjust",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-progress-appearance",status:""},{gecko:"",webkit:"-webkit-region-break-after",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-region-break-before",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-region-break-inside",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-region-fragment",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-rtl-ordering",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-ruby-position",presto:"",trident:"ruby-position",status:"CR"},{gecko:"-moz-script-level",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-min-size",webkit:"",presto:"",trident:"",status:""},{gecko:"-moz-script-size-multiplier",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-chaining",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-limit",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-limit-x-max",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-limit-x-min",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-limit-y-max",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-limit-y-min",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-rails",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-snap-points-x",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-snap-points-y",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-snap-type",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-snap-x",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-snap-y",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-scroll-translation",status:""},{gecko:"",webkit:"",presto:"scrollbar-arrow-color",trident:"-ms-scrollbar-arrow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-base-color",trident:"-ms-scrollbar-base-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-darkshadow-color",trident:"-ms-scrollbar-darkshadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-face-color",trident:"-ms-scrollbar-face-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-highlight-color",trident:"-ms-scrollbar-highlight-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-shadow-color",trident:"-ms-scrollbar-shadow-color",status:"P"},{gecko:"",webkit:"",presto:"scrollbar-track-color",trident:"-ms-scrollbar-track-color",status:"P"},{gecko:"",webkit:"-webkit-shape-inside",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-shape-margin",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-shape-outside",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-shape-padding",presto:"",trident:"",status:""},{gecko:"-moz-stack-sizing",webkit:"",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-svg-shadow",presto:"",trident:"",status:""},{gecko:"-moz-tab-size",webkit:"tab-size",presto:"-o-tab-size",trident:"",status:""},{gecko:"",webkit:"",presto:"-o-table-baseline",trident:"",status:""},{gecko:"",webkit:"-webkit-tap-highlight-color",presto:"",trident:"",status:"P"},{gecko:"-moz-text-align-last",webkit:"-webkit-text-align-last",presto:"",trident:"-ms-text-align-last",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-autospace",status:"WD"},{gecko:"-moz-text-blink",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-combine",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-color",webkit:"-webkit-text-decoration-color",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-line",webkit:"-webkit-text-decoration-line",presto:"",trident:"",status:""},{gecko:"-moz-text-decoration-style",webkit:"-webkit-text-decoration-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-decorations-in-effect",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-color",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-emphasis-position",presto:"",trident:"",status:""},{gecko:"",webkit:"-epub-text-emphasis-style",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-fill-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-justify",presto:"",trident:"-ms-text-justify",status:"WD"},{gecko:"",webkit:"",presto:"",trident:"-ms-text-kashida-space",status:"P"},{gecko:"",webkit:"-epub-text-orientation",presto:"",trident:"",status:""},{gecko:"text-overflow",webkit:"text-overflow",presto:"text-overflow",trident:"-ms-text-overflow",status:"WD"},{gecko:"",webkit:"-webkit-text-security",presto:"",trident:"",status:"P"},{gecko:"-moz-text-size-adjust",webkit:"",presto:"",trident:"",status:""},{gecko:"",webkit:"-webkit-text-stroke",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-color",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-text-stroke-width",presto:"",trident:"",status:"P"},{gecko:"text-transform",webkit:"-epub-text-transform",presto:"text-transform",trident:"text-transform",status:""},{gecko:"",webkit:"-webkit-text-underline-position",presto:"",trident:"-ms-text-underline-position",status:"P"},{gecko:"",webkit:"",presto:"",trident:"-ms-touch-action",status:""},{gecko:"",webkit:"-webkit-touch-callout",presto:"",trident:"",status:"P"},{gecko:"-moz-transform",webkit:"-webkit-transform",presto:"-o-transform",trident:"transform",status:"WD"},{gecko:"transform-origin",webkit:"-webkit-transform-origin",presto:"-o-transform-origin",trident:"transform-origin",status:"WD"},{gecko:"",webkit:"-webkit-transform-origin-x",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-y",presto:"",trident:"",status:"P"},{gecko:"",webkit:"-webkit-transform-origin-z",presto:"",trident:"",status:"P"},{gecko:"transform-style",webkit:"-webkit-transform-style",presto:"",trident:"transform-style",status:"WD"},{gecko:"transition",webkit:"-webkit-transition",presto:"-o-transition",trident:"transition",status:"WD"},{gecko:"transition-delay",webkit:"-webkit-transition-delay",presto:"-o-transition-delay",trident:"transition-delay",status:"WD"},{gecko:"transition-duration",webkit:"-webkit-transition-duration",presto:"-o-transition-duration",trident:"transition-duration",status:"WD"},{gecko:"transition-property",webkit:"-webkit-transition-property",presto:"-o-transition-property",trident:"transition-property",status:"WD"},{gecko:"transition-timing-function",webkit:"-webkit-transition-timing-function",presto:"-o-transition-timing-function",trident:"transition-timing-function",status:"WD"},{gecko:"",webkit:"-webkit-user-drag",presto:"",trident:"",status:"P"},{gecko:"-moz-user-focus",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-input",webkit:"",presto:"",trident:"",status:"P"},{gecko:"-moz-user-modify",webkit:"-webkit-user-modify",presto:"",trident:"",status:"P"},{gecko:"-moz-user-select",webkit:"-webkit-user-select",presto:"",trident:"-ms-user-select",status:"P"},{gecko:"",webkit:"",presto:"-xv-voice-balance",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-duration",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-pitch-range",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-rate",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-stress",trident:"",status:""},{gecko:"",webkit:"",presto:"-xv-voice-volume",trident:"",status:""},{gecko:"-moz-window-shadow",webkit:"",presto:"",trident:"",status:"P"},{gecko:"word-break",webkit:"-epub-word-break",presto:"",trident:"-ms-word-break",status:"WD"},{gecko:"word-wrap",webkit:"word-wrap",presto:"word-wrap",trident:"-ms-word-wrap",status:"WD"},{gecko:"",webkit:"-webkit-wrap-flow",presto:"",trident:"-ms-wrap-flow",status:""},{gecko:"",webkit:"",presto:"",trident:"-ms-wrap-margin",status:""},{gecko:"",webkit:"-webkit-wrap-through",presto:"",trident:"-ms-wrap-through",status:""},{gecko:"writing-mode",webkit:"-epub-writing-mode",presto:"writing-mode",trident:"-ms-writing-mode",status:"ED"},{gecko:"",webkit:"zoom",presto:"",trident:"-ms-zoom",status:""}]},p={mVENDOR_PREFIXES:null,kEXPORTS_FOR_GECKO:!0,kEXPORTS_FOR_WEBKIT:!0,kEXPORTS_FOR_PRESTO:!0,kEXPORTS_FOR_TRIDENT:!0,cleanPrefixes:function(){this.mVENDOR_PREFIXES=null},prefixesForProperty:function(e){if(!this.mVENDOR_PREFIXES){this.mVENDOR_PREFIXES={};for(var t=0;t<o.properties.length;t++){var n=o.properties[t];if(n.gecko&&(n.webkit||n.presto||n.trident)){var r={};for(var i in this.kEXPORTS_FOR_GECKO&&(r[n.gecko]=!0),this.kEXPORTS_FOR_WEBKIT&&n.webkit&&(r[n.webkit]=!0),this.kEXPORTS_FOR_PRESTO&&n.presto&&(r[n.presto]=!0),this.kEXPORTS_FOR_TRIDENT&&n.trident&&(r[n.trident]=!0),this.mVENDOR_PREFIXES[n.gecko]=[],r)this.mVENDOR_PREFIXES[n.gecko].push(i)}}}return e in this.mVENDOR_PREFIXES?this.mVENDOR_PREFIXES[e].sort():null}};function f(e){var t=e.match(/\n/g);return t?t.length+1:1}function v(e,t){var n=new s;return n._init(),n.mPreserveWS=!1,n.mPreserveComments=!1,n.mPreservedTokens=[],n.mScanner.init(e),n[t]()}function n(e,t){var n=v(e,"parseBackgroundImages");if(!n)return null;var r=n[0];if(!r.value)return null;var i="",o="position"in r.value?r.value.position.toLowerCase():"",s="angle"in r.value?r.value.angle.toLowerCase():"";if("webkit20110101"==t){var a=!1;if(i="-webkit-gradient(linear, ",s){var l=s.match(/^([0-9\-\.\\+]+)([a-z]*)/);s=parseFloat(l[1]);switch(l[2]){case"grad":s=90*s/100;break;case"rad":s=180*s/Math.PI}for(;s<0;)s+=360;for(;360<=s;)s-=360}var c=[],u=[];if(""!=o)if("center"==o&&(o="center center"),c=o.split(" "),""==s&&0!=s){switch(c[0]){case"left":u.push("right");break;case"center":u.push("center");break;case"right":u.push("left");break;default:l=c[0].match(/^([0-9\-\.\\+]+)([a-z]*)/);var f=parseFloat(l[0]);"%"==l[1]?u.push(100-f+"%"):a=!0}if(!a)switch(c[1]){case"top":u.push("bottom");break;case"center":u.push("center");break;case"bottom":u.push("top");break;default:l=c[1].match(/^([0-9\-\.\\+]+)([a-z]*)/),f=parseFloat(l[0]);"%"==l[1]?u.push(100-f+"%"):a=!0}}else switch(s){case 0:u.push("right"),u.push(c[1]);break;case 90:u.push(c[0]),u.push("top");break;case 180:u.push("left"),u.push(c[1]);break;case 270:u.push(c[0]),u.push("bottom");break;default:a=!0}else switch(""==s&&(s=270),s){case 0:c=["left","center"],u=["right","center"];break;case 90:c=["center","bottom"],u=["center","top"];break;case 180:c=["right","center"],u=["left","center"];break;case 270:c=["center","top"],u=["center","bottom"];break;default:a=!0}if(a)return"";i+=c.join(" ")+", "+u.join(" "),r.value.stops[0].position||(r.value.stops[0].position="0%"),r.value.stops[r.value.stops.length-1].position||(r.value.stops[r.value.stops.length-1].position="100%");for(var h=0,d=0;d<r.value.stops.length&&!a;d++){if((b=r.value.stops[d]).position){if(-1==b.position.indexOf("%")){a=!0;break}}else{for(var p=d+1;p<r.value.stops.length&&!r.value.stops[p].position;)p++;for(var g=parseFloat(r.value.stops[p].position)-h,m=d;m<p;m++)r.value.stops[m].position=h+g*(m-d+1)/(p-d+1)+"%"}h=parseFloat(b.position),i+=", color-stop("+parseFloat(h)/100+", "+b.color+")"}if(a)return""}else{i=(r.value.isRepeating?"repeating-":"")+"linear-gradient(",(s||o)&&(i+=(s||o)+", ");for(d=0;d<r.value.stops.length;d++){var b;i+=(b=r.value.stops[d]).color+(b.position?" "+b.position:"")+(d!=r.value.stops.length-1?", ":"")}}switch(i+=")",t){case"webkit":i="-webkit-"+i;break;case"gecko1.9.2":i="-moz-"+i;break;case"presto":i="-o-"+i;break;case"trident":i="-ms-"+i}return i}function r(e,t){var n=v(e,"parseBackgroundImages");if(!n)return null;var r=n[0];if(!r.value)return null;if("webkit20110101"==t)return null;var i=(r.value.isRepeating?"repeating-":"")+"radial-gradient(",o="shape"in r.value?r.value.shape:"",s="extent"in r.value?r.value.extent:"",a="";switch(r.value.positions.length){case 1:a=r.value.positions[0]+" "+r.value.positions[0];break;case 2:a=r.value.positions[0]+" "+r.value.positions[1]}var l=r.value.at;i+=(l?l+", ":"")+(o||s||l?(o?o+" ":"")+(s?s+" ":"")+(a?a+" ":"")+", ":"");for(var c=0;c<r.value.stops.length;c++){var u=r.value.stops[c];i+=u.color+(u.position?" "+u.position:"")+(c!=r.value.stops.length-1?", ":"")}switch(i+=")",t){case"webkit":i="-webkit-"+i;break;case"gecko1.9.2":i="-moz-"+i;break;case"presto":i="-o-"+i;break;case"trident":i="-ms-"+i}return i}function i(e){this.init(e)}function s(e){this.mToken=null,this.mLookAhead=null,this.mScanner=new i(e),this.mPreserveWS=!0,this.mPreserveComments=!0,this.mPreservedTokens=[],this.mError=null}function g(e,t,n){this.type=e,this.value=t,this.unit=n}function a(){this.type=L,this.encoding=null,this.parsedCssText=null,this.parentStyleSheet=null,this.parentRule=null}function m(){this.type=V,this.parsedCssText=null,this.parentStyleSheet=null,this.parentRule=null}function l(){this.type=X,this.property=null,this.values=[],this.valueText=null,this.priority=null,this.parsedCssText=null,this.parentStyleSheet=null,this.parentRule=null}function c(e){this.error=e||"INVALID",this.type=D,this.parsedCssText=null,this.parentStyleSheet=null,this.parentRule=null}function u(){this.type=F,this.parsedCssText=null,this.descriptors=[],this.parentStyleSheet=null,this.parentRule=null}function b(){this.type=B,this.parsedCssText=null,this.href=null,this.media=[],this.parentStyleSheet=null,this.parentRule=null}function y(){this.type=j,this.parsedCssText=null,this.declarations=[],this.keyText=null,this.parentStyleSheet=null,this.parentRule=null}function k(){this.type=U,this.parsedCssText=null,this.cssRules=[],this.name=null,this.parentStyleSheet=null,this.parentRule=null}function w(){this.type=H,this.parsedCssText=null,this.cssRules=[],this.media=[],this.parentStyleSheet=null,this.parentRule=null}function S(){this.type=z,this.parsedCssText=null,this.prefix=null,this.url=null,this.parentStyleSheet=null,this.parentRule=null}function T(){this.type=W,this.parsedCssText=null,this.pageSelector=null,this.declarations=[],this.parentStyleSheet=null,this.parentRule=null}function E(){this.type=M,this.parsedCssText=null,this.declarations=[],this.mSelectorText=null,this.parentStyleSheet=null,this.parentRule=null}function R(){this.cssRules=[],this.variables={}}i.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,8,8,0,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,5,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,2,0,0,6,0,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],kHexValues:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},mString:"",mPos:0,mPreservedPos:[],init:function(e){this.mString=e,this.mPos=0,this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},getAlreadyScanned:function(){return this.mString.substr(0,this.mPos)},preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){this.mPreservedPos.length&&(this.mPos=this.mPreservedPos.pop())},forgetState:function(){this.mPreservedPos.length&&this.mPreservedPos.pop()},read:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos++):-1},peek:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos):-1},isHexDigit:function(e){var t=e.charCodeAt(0);return t<256&&0!=(1&this.kLexTable[t])},isIdentStart:function(e){var t=e.charCodeAt(0);return 256<=t||0!=(2&this.kLexTable[t])},startsWithIdent:function(e,t){e.charCodeAt(0);return this.isIdentStart(e)||"-"==e&&this.isIdentStart(t)},isIdent:function(e){var t=e.charCodeAt(0);return 256<=t||0!=(4&this.kLexTable[t])},pushback:function(){this.mPos--},nextHexValue:function(){var e=this.read();if(-1==e||!this.isHexDigit(e))return new g(g.NULL_TYPE,null);var t=e;for(e=this.read();-1!=e&&this.isHexDigit(e);)t+=e,e=this.read();return-1!=e&&this.pushback(),new g(g.HEX_TYPE,t)},gatherEscape:function(){var e=this.peek();if(-1==e)return"";if(this.isHexDigit(e)){for(var t=0,n=0;n<6;n++){if(e=this.read(),!this.isHexDigit(e)){if(this.isHexDigit(e)||this.isWhiteSpace(e))break;this.pushback();break}t=16*t+this.kHexValues[e.toLowerCase()]}return 6==n&&(e=this.peek(),this.isWhiteSpace(e)&&this.read()),String.fromCharCode(t)}return"\n"!=(e=this.read())?e:""},gatherIdent:function(e){var t="";for(t+="\\"==e?this.gatherEscape():e,e=this.read();-1!=e&&(this.isIdent(e)||"\\"==e);)t+="\\"==e?this.gatherEscape():e,e=this.read();return-1!=e&&this.pushback(),t},parseIdent:function(e){var t=this.gatherIdent(e);return"("==this.peek()?(t+=this.read(),new g(g.FUNCTION_TYPE,t)):new g(g.IDENT_TYPE,t)},isDigit:function(e){return"0"<=e&&e<="9"},parseComment:function(e){for(var t=e;-1!=(e=this.read());)if(t+=e,"*"==e){if(-1==(e=this.read()))break;if("/"==e){t+=e;break}this.pushback()}return new g(g.COMMENT_TYPE,t)},parseNumber:function(e){for(var t=e,n=!1;-1!=(e=this.read());)if("."==e){if(n)break;t+=e,n=!0}else{if(!this.isDigit(e))break;t+=e}if(-1!=e&&this.startsWithIdent(e,this.peek())){var r=this.gatherIdent(e);return new g(g.DIMENSION_TYPE,t+=r,r)}return"%"==e?new g(g.PERCENTAGE_TYPE,t+="%"):(-1!=e&&this.pushback(),new g(g.NUMBER_TYPE,t))},parseString:function(e){for(var t,n=e,r=e;-1!=(t=this.read());){if(t==e&&"\\"!=r){n+=t;break}if("\\"==t){if(-1==(t=this.peek()))break;"\n"==t||"\r"==t||"\f"==t?(d=t,t=this.read(),"\r"==d&&"\n"==(t=this.peek())&&(t=this.read())):(n+=this.gatherEscape(),t=this.peek())}else{if("\n"==t||"\r"==t||"\f"==t)break;n+=t}r=t}return new g(g.STRING_TYPE,n)},isWhiteSpace:function(e){var t=e.charCodeAt(0);return t<256&&0!=(8&this.kLexTable[t])},eatWhiteSpace:function(e){for(var t=e;-1!=(e=this.read())&&this.isWhiteSpace(e);)t+=e;return-1!=e&&this.pushback(),t},parseAtKeyword:function(e){return new g(g.ATRULE_TYPE,this.gatherIdent(e))},nextToken:function(){var e=this.read();if(-1==e)return new g(g.NULL_TYPE,null);if(this.startsWithIdent(e,this.peek()))return this.parseIdent(e);if("@"==e&&-1!=(n=this.read())){var t=this.peek();if(this.pushback(),this.startsWithIdent(n,t))return this.parseAtKeyword(e)}if("."==e||"+"==e||"-"==e){var n=this.peek();if(this.isDigit(n))return this.parseNumber(e);if("."==n&&"."!=e){firstChar=this.read();var r=this.peek();if(this.pushback(),this.isDigit(r))return this.parseNumber(e)}}if(this.isDigit(e))return this.parseNumber(e);if("'"==e||'"'==e)return this.parseString(e);if(this.isWhiteSpace(e)){var i=this.eatWhiteSpace(e);return new g(g.WHITESPACE_TYPE,i)}if("|"==e||"~"==e||"^"==e||"$"==e||"*"==e)if("="==(n=this.read()))switch(e){case"~":return new g(g.INCLUDES_TYPE,"~=");case"|":return new g(g.DASHMATCH_TYPE,"|=");case"^":return new g(g.BEGINSMATCH_TYPE,"^=");case"$":return new g(g.ENDSMATCH_TYPE,"$=");case"*":return new g(g.CONTAINSMATCH_TYPE,"*=")}else-1!=n&&this.pushback();return"/"==e&&"*"==this.peek()?this.parseComment(e):new g(g.SYMBOL_TYPE,e)}},s.prototype.parseBackgroundImages=function(){for(var e=[],t=this.getToken(!0,!0);t.isNotNull();){if(t.isFunction("url(")){t=this.getToken(!0,!0);var n=this.parseURL(t);e.push({type:"image",value:"url("+n}),t=this.getToken(!0,!0)}else if(t.isFunction("linear-gradient(")||t.isFunction("radial-gradient(")||t.isFunction("repeating-linear-gradient(")||t.isFunction("repeating-radial-gradient(")){this.ungetToken();var r=this.parseGradient();if(!r)return null;e.push({type:r.isRadial?"radial-gradient":"linear-gradient",value:r}),t=this.getToken(!0,!0)}else{if(!(t.isIdent("none")||t.isIdent("inherit")||t.isIdent("initial")))return null;e.push({type:t.value}),t=this.getToken(!0,!0)}if(t.isSymbol(",")&&!(t=this.getToken(!0,!0)).isNotNull())return null}return e},s.prototype.parseBackgroundShorthand=function(e,t,n){for(var r={left:!0,right:!0},i={top:!0,bottom:!0},o={left:!0,right:!0,top:!0,bottom:!0,center:!0},s=null,a=null,l=null,c=null,u=null;e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(s||a||l||c||u||!e.isIdent(this.kINHERIT))if(l||!e.isIdent("scroll")&&!e.isIdent("fixed")){if(!u&&(e.isIdent()&&e.value in o||e.isDimension()||e.isNumber("0")||e.isPercentage()))if(u=e.value,(e=this.getToken(!0,!0)).isDimension()||e.isNumber("0")||e.isPercentage())u+=" "+e.value;else if(e.isIdent()&&e.value in o){if(u in r&&e.value in r||u in i&&e.value in i)return"";u+=" "+e.value}else this.ungetToken(),u+=" center";else if(!a&&(e.isIdent("repeat")||e.isIdent("repeat-x")||e.isIdent("repeat-y")||e.isIdent("no-repeat")))a=e.value;else if(c||!e.isFunction("url(")&&!e.isIdent("none"))if(!c&&(e.isFunction("linear-gradient(")||e.isFunction("radial-gradient(")||e.isFunction("repeating-linear-gradient(")||e.isFunction("repeating-radial-gradient("))){this.ungetToken();var f=this.parseGradient();if(!f)return"";c=this.serializeGradient(f)}else{var h=this.parseColor(e);if(s||!h)return"";s=h}else if(c=e.value,e.isFunction("url(")){e=this.getToken(!0,!0);var d=this.parseURL(e);if(!d)return"";c+=d}}else l=e.value;else s=this.kINHERIT,a=this.kINHERIT,l=this.kINHERIT,c=this.kINHERIT,u=this.kINHERIT;e=this.getToken(!0,!0)}return this.forgetState(),s=s||"transparent",c=c||"none",a=a||"repeat",l=l||"scroll",u=u||"top left",t.push(this._createJscsspDeclarationFromValue("background-color",s)),t.push(this._createJscsspDeclarationFromValue("background-image",c)),t.push(this._createJscsspDeclarationFromValue("background-repeat",a)),t.push(this._createJscsspDeclarationFromValue("background-attachment",l)),t.push(this._createJscsspDeclarationFromValue("background-position",u)),s+" "+c+" "+a+" "+l+" "+u},s.prototype.parseBorderColorShorthand=function(e,t,n){for(var r=null,i=null,o=null,s=null,a=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!a.length&&e.isIdent(this.kINHERIT)){a.push(e.value),e=this.getToken(!0,!0);break}var l=this.parseColor(e);if(!l)return"";a.push(l),e=this.getToken(!0,!0)}switch(a.length){case 1:s=o=i=r=a[0];break;case 2:i=r=a[0],s=o=a[1];break;case 3:r=a[0],s=o=a[1],i=a[2];break;case 4:r=a[0],s=a[1],i=a[2],o=a[3];break;default:return""}return this.forgetState(),t.push(this._createJscsspDeclarationFromValue("border-top-color",r)),t.push(this._createJscsspDeclarationFromValue("border-right-color",s)),t.push(this._createJscsspDeclarationFromValue("border-bottom-color",i)),t.push(this._createJscsspDeclarationFromValue("border-left-color",o)),r+" "+s+" "+i+" "+o},s.prototype.parseBorderEdgeOrOutlineShorthand=function(e,t,n,r){for(var i=null,o=null,s=null;e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(i||o||s||!e.isIdent(this.kINHERIT))if(!i&&(e.isDimension()||e.isIdent()&&e.value in this.kBORDER_WIDTH_NAMES||e.isNumber("0")))i=e.value;else if(!o&&e.isIdent()&&e.value in this.kBORDER_STYLE_NAMES)o=e.value;else{var a="outline"==r&&e.isIdent("invert")?"invert":this.parseColor(e);if(s||!a)return"";s=a}else i=this.kINHERIT,o=this.kINHERIT,s=this.kINHERIT;e=this.getToken(!0,!0)}function l(e,t,n,r,i,o){t.push(e._createJscsspDeclarationFromValue(n+"-width",r)),t.push(e._createJscsspDeclarationFromValue(n+"-style",i)),t.push(e._createJscsspDeclarationFromValue(n+"-color",o))}return this.forgetState(),i=i||"medium",o=o||"none",s=s||"-moz-initial","border"==r?(l(this,t,"border-top",i,o,s),l(this,t,"border-right",i,o,s),l(this,t,"border-bottom",i,o,s),l(this,t,"border-left",i,o,s)):l(this,t,r,i,o,s),i+" "+o+" "+s},s.prototype.parseBorderImage=function(){var e={url:"",offsets:[],widths:[],sizes:[]},t=this.getToken(!0,!0);if(!t.isFunction("url("))return null;t=this.getToken(!0,!0);var n=this.parseURL(t);if(!n)return null;if(e.url=n.substr(0,n.length-1).trim(),('"'==e.url[0]&&'"'==e.url[e.url.length-1]||"'"==e.url[0]&&"'"==e.url[e.url.length-1])&&(e.url=e.url.substr(1,e.url.length-2)),!(t=this.getToken(!0,!0)).isNumber()&&!t.isPercentage())return null;for(e.offsets.push(t.value),r=0;r<3&&((t=this.getToken(!0,!0)).isNumber()||t.isPercentage());r++)e.offsets.push(t.value);if(3==r&&(t=this.getToken(!0,!0)),t.isSymbol("/")){if(!((t=this.getToken(!0,!0)).isDimension()||t.isNumber("0")||t.isIdent()&&t.value in this.kBORDER_WIDTH_NAMES))return null;e.widths.push(t.value);for(var r=0;r<3&&((t=this.getToken(!0,!0)).isDimension()||t.isNumber("0")||t.isIdent()&&t.value in this.kBORDER_WIDTH_NAMES);r++)e.widths.push(t.value);3==r&&(t=this.getToken(!0,!0))}for(r=0;r<2;r++){if(!(t.isIdent("stretch")||t.isIdent("repeat")||t.isIdent("round")))return t.isNotNull()?null:e;e.sizes.push(t.value),t=this.getToken(!0,!0)}return t.isNotNull()?null:e},s.prototype.parseBorderStyleShorthand=function(e,t,n){for(var r=null,i=null,o=null,s=null,a=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!a.length&&e.isIdent(this.kINHERIT))a.push(e.value);else{if(!(e.isIdent()&&e.value in this.kBORDER_STYLE_NAMES))return"";a.push(e.value)}e=this.getToken(!0,!0)}switch(a.length){case 1:s=o=i=r=a[0];break;case 2:i=r=a[0],s=o=a[1];break;case 3:r=a[0],s=o=a[1],i=a[2];break;case 4:r=a[0],s=a[1],i=a[2],o=a[3];break;default:return""}return this.forgetState(),t.push(this._createJscsspDeclarationFromValue("border-top-style",r)),t.push(this._createJscsspDeclarationFromValue("border-right-style",s)),t.push(this._createJscsspDeclarationFromValue("border-bottom-style",i)),t.push(this._createJscsspDeclarationFromValue("border-left-style",o)),r+" "+s+" "+i+" "+o},s.prototype.parseBorderWidthShorthand=function(e,t,n){for(var r=null,i=null,o=null,s=null,a=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!a.length&&e.isIdent(this.kINHERIT))a.push(e.value);else{if(!(e.isDimension()||e.isNumber("0")||e.isIdent()&&e.value in this.kBORDER_WIDTH_NAMES))return"";a.push(e.value)}e=this.getToken(!0,!0)}switch(a.length){case 1:s=o=i=r=a[0];break;case 2:i=r=a[0],s=o=a[1];break;case 3:r=a[0],s=o=a[1],i=a[2];break;case 4:r=a[0],s=a[1],i=a[2],o=a[3];break;default:return""}return this.forgetState(),t.push(this._createJscsspDeclarationFromValue("border-top-width",r)),t.push(this._createJscsspDeclarationFromValue("border-right-width",s)),t.push(this._createJscsspDeclarationFromValue("border-bottom-width",i)),t.push(this._createJscsspDeclarationFromValue("border-left-width",o)),r+" "+s+" "+i+" "+o},s.prototype.parseBoxShadows=function(){for(var e=[],t=this.getToken(!0,!0),n="",r="0px",i="0px",o="0px",s="0px",a=!1;t.isNotNull();)if(t.isIdent("none"))e.push({none:!0}),t=this.getToken(!0,!0);else{if(t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),!(t.isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")))return[];i=t.value;if(t=this.getToken(!0,!0),!a&&t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),!(t.isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")))return[];o=t.value;if(t=this.getToken(!0,!0),!a&&t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),t.isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")){r=t.value;t=this.getToken(!0,!0)}if(!a&&t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),t.isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")){s=t.value;t=this.getToken(!0,!0)}if(!a&&t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),t.isFunction("rgb(")||t.isFunction("rgba(")||t.isFunction("hsl(")||t.isFunction("hsla(")||t.isSymbol("#")||t.isIdent()){n=this.parseColor(t);t=this.getToken(!0,!0)}if(!a&&t.isIdent("inset")&&(a=!0,t=this.getToken(!0,!0)),e.push({none:!1,color:n,offsetX:i,offsetY:o,blurRadius:r,spreadRadius:s,inset:a}),!t.isSymbol(","))return t.isNotNull()?[]:e;a=!1,n="",o=i=s=r="0px",t=this.getToken(!0,!0)}return e},s.prototype.parseCharsetRule=function(e){var t=this.getToken(!1,!1);if(t.isAtRule("@charset")&&"@charset"==t.value){var n=t.value;if(n+=(t=this.getToken(!1,!1)).value,t.isWhiteSpace(" "))if(n+=(t=this.getToken(!1,!1)).value,t.isString()){var r=t.value;if(n+=(t=this.getToken(!1,!1)).value,t.isSymbol(";")){var i=new a;return i.encoding=r,i.parsedCssText=n,(i.parentStyleSheet=e).cssRules.push(i),!0}this.reportError("Missing semicolon at the end of @charset rule")}else this.reportError("The charset in the @charset rule should be a string");else this.reportError("Missing mandatory whitespace after @charset")}return this.addUnknownAtRule(e,n),!1},s.prototype.parseColor=function(e){var t="";if(e.isFunction("rgb(")||e.isFunction("rgba(")){t=e.value;var n=e.isFunction("rgba(");if(!(e=this.getToken(!0,!0)).isNumber()&&!e.isPercentage())return"";if(t+=e.value,!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isNumber()&&!e.isPercentage())return"";if(t+=e.value,!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isNumber()&&!e.isPercentage())return"";if(t+=e.value,n){if(!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isNumber())return"";t+=e.value}if(!(e=this.getToken(!0,!0)).isSymbol(")"))return"";t+=e.value}else if(e.isFunction("hsl(")||e.isFunction("hsla(")){t=e.value;var r=e.isFunction("hsla(");if(!(e=this.getToken(!0,!0)).isNumber())return"";if(t+=e.value,!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isPercentage())return"";if(t+=e.value,!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isPercentage())return"";if(t+=e.value,r){if(!(e=this.getToken(!0,!0)).isSymbol(","))return"";if(t+=", ",!(e=this.getToken(!0,!0)).isNumber())return"";t+=e.value}if(!(e=this.getToken(!0,!0)).isSymbol(")"))return"";t+=e.value}else if(e.isIdent()&&e.value in this.kCOLOR_NAMES)t=e.value;else if(e.isSymbol("#")){if(!(e=this.getHexValue()).isHex())return"";var i=e.value.length;if(3!=i&&6!=i)return"";if(e.value.match(/[a-fA-F0-9]/g).length!=i)return"";t="#"+e.value}return t},s.prototype.parseCueShorthand=function(e,t,n){var r="",i="",o=[];for(o=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!o.length&&e.isIdent(this.kINHERIT))o.push(e.value);else if(e.isIdent("none"))o.push(e.value);else{if(!e.isFunction("url("))return"";e=this.getToken(!0,!0);var s=this.parseURL(e);if(!s)return"";o.push("url("+s)}e=this.getToken(!0,!0)}switch(o.length){case 1:i=r=o[0];break;case 2:r=o[0],i=o[1];break;default:return""}return this.forgetState(),aDecl.push(this._createJscsspDeclarationFromValue("cue-before",r)),aDecl.push(this._createJscsspDeclarationFromValue("cue-after",i)),r+" "+i},s.prototype.parseDeclaration=function(e,t,n,r,i){this.preserveState();var o=[];if(e.isIdent()){var s=e.value.toLowerCase();if((a=this.getToken(!0,!0)).isSymbol(":")){var a=this.getToken(!0,!0),l="",c=[];if(r)switch(s){case"background":l=this.parseBackgroundShorthand(a,c,n);break;case"margin":case"padding":l=this.parseMarginOrPaddingShorthand(a,c,n,s);break;case"border-color":l=this.parseBorderColorShorthand(a,c,n);break;case"border-style":l=this.parseBorderStyleShorthand(a,c,n);break;case"border-width":l=this.parseBorderWidthShorthand(a,c,n);break;case"border-top":case"border-right":case"border-bottom":case"border-left":case"border":case"outline":l=this.parseBorderEdgeOrOutlineShorthand(a,c,n,s);break;case"cue":l=this.parseCueShorthand(a,c,n);break;case"pause":l=this.parsePauseShorthand(a,c,n);break;case"font":l=this.parseFontShorthand(a,c,n);break;case"list-style":l=this.parseListStyleShorthand(a,c,n);break;default:l=this.parseDefaultPropertyValue(a,c,n,s,i)}else l=this.parseDefaultPropertyValue(a,c,n,s,i);if(a=this.currentToken(),l){var u=!1;if(a.isSymbol("!")){if(!(a=this.getToken(!0,!0)).isIdent("important"))return"";if(u=!0,!(a=this.getToken(!0,!0)).isSymbol(";")&&!a.isSymbol("}"))return"";a.isSymbol("}")&&this.ungetToken()}else if(a.isNotNull()&&!a.isSymbol(";")&&!a.isSymbol("}"))return"";for(var f=0;f<c.length;f++)c[f].priority=u,t.push(c[f]);return s+": "+l+";"}}}else if(e.isComment()){if(this.mPreserveComments){this.forgetState();var h=new m;h.parsedCssText=e.value,t.push(h)}return e.value}this.restoreState();e.value;o=[];for(a=this.getToken(!1,!1);a.isNotNull();){if(a.value,(a.isSymbol(";")||a.isSymbol("}"))&&!o.length){a.isSymbol("}")&&this.ungetToken();break}if(a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")||a.isFunction())o.push(a.isFunction()?"(":a.value);else if((a.isSymbol("}")||a.isSymbol(")")||a.isSymbol("]"))&&o.length){var d=o[o.length-1];(a.isSymbol("}")&&"{"==d||a.isSymbol(")")&&"("==d||a.isSymbol("]")&&"["==d)&&o.pop()}a=this.getToken(!1,!1)}return""},s.prototype.reportError=function(e){this.mError=e},s.prototype.consumeError=function(){var e=this.mError;return this.mError=null,e},s.prototype._init=function(){this.mToken=null,this.mLookAhead=null},s.prototype.kINHERIT="inherit",s.prototype.kBORDER_WIDTH_NAMES={thin:!0,medium:!0,thick:!0},s.prototype.kBORDER_STYLE_NAMES={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,"double":!0,groove:!0,ridge:!0,inset:!0,outset:!0},s.prototype.kCOLOR_NAMES={transparent:!0,black:!0,silver:!0,gray:!0,white:!0,maroon:!0,red:!0,purple:!0,fuchsia:!0,green:!0,lime:!0,olive:!0,yellow:!0,navy:!0,blue:!0,teal:!0,aqua:!0,aliceblue:!0,antiquewhite:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,blanchedalmond:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkgrey:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkslategrey:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dimgrey:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,greenyellow:!0,grey:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgray:!0,lightgreen:!0,lightgrey:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightslategrey:!0,lightsteelblue:!0,lightyellow:!0,limegreen:!0,linen:!0,magenta:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,oldlace:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,skyblue:!0,slateblue:!0,slategray:!0,slategrey:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,whitesmoke:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},s.prototype.kLIST_STYLE_TYPE_NAMES={decimal:!0,"decimal-leading-zero":!0,"lower-roman":!0,"upper-roman":!0,georgian:!0,armenian:!0,"lower-latin":!0,"lower-alpha":!0,"upper-latin":!0,"upper-alpha":!0,"lower-greek":!0,disc:!0,circle:!0,square:!0,none:!0,box:!0,check:!0,diamond:!0,hyphen:!0,"lower-armenian":!0,"cjk-ideographic":!0,"ethiopic-numeric":!0,hebrew:!0,"japanese-formal":!0,"japanese-informal":!0,"simp-chinese-formal":!0,"simp-chinese-informal":!0,syriac:!0,tamil:!0,"trad-chinese-formal":!0,"trad-chinese-informal":!0,"upper-armenian":!0,"arabic-indic":!0,binary:!0,bengali:!0,cambodian:!0,khmer:!0,devanagari:!0,gujarati:!0,gurmukhi:!0,kannada:!0,"lower-hexadecimal":!0,lao:!0,malayalam:!0,mongolian:!0,myanmar:!0,octal:!0,oriya:!0,persian:!0,urdu:!0,telugu:!0,tibetan:!0,"upper-hexadecimal":!0,afar:!0,"ethiopic-halehame-aa-et":!0,"ethiopic-halehame-am-et":!0,"amharic-abegede":!0,"ehiopic-abegede-am-et":!0,"cjk-earthly-branch":!0,"cjk-heavenly-stem":!0,ethiopic:!0,"ethiopic-abegede":!0,"ethiopic-abegede-gez":!0,"hangul-consonant":!0,hangul:!0,"hiragana-iroha":!0,hiragana:!0,"katakana-iroha":!0,katakana:!0,"lower-norwegian":!0,oromo:!0,"ethiopic-halehame-om-et":!0,sidama:!0,"ethiopic-halehame-sid-et":!0,somali:!0,"ethiopic-halehame-so-et":!0,tigre:!0,"ethiopic-halehame-tig":!0,"tigrinya-er-abegede":!0,"ethiopic-abegede-ti-er":!0,"tigrinya-et":!0,"ethiopic-halehame-ti-et":!0,"upper-greek":!0,asterisks:!0,footnotes:!0,"circled-decimal":!0,"circled-lower-latin":!0,"circled-upper-latin":!0,"dotted-decimal":!0,"double-circled-decimal":!0,"filled-circled-decimal":!0,"parenthesised-decimal":!0,"parenthesised-lower-latin":!0},s.prototype.parseFontFaceRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value,i=!1,o=[];if(this.preserveState(),(s=this.getToken(!0,!0)).isNotNull()&&s.isSymbol("{")){r+=" "+s.value;for(var s=this.getToken(!0,!1);;){if(s.isSymbol("}")){r+="}",i=!0;break}var a=this.parseDeclaration(s,o,!1,!1,t);r+=(a&&o.length?" ":"")+a,s=this.getToken(!0,!1)}}if(i){this.forgetState();var l=new u;return l.currentLine=n,l.parsedCssText=r,l.descriptors=o,(l.parentStyleSheet=t).cssRules.push(l),!0}return this.restoreState(),!1},s.prototype.parseFontShorthand=function(e,t,n){for(var r={italic:!0,oblique:!0},i={"small-caps":!0},o={bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},s={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0,larger:!0,smaller:!0},a={caption:!0,icon:!0,menu:!0,"message-box":!0,"small-caption":!0,"status-bar":!0},l={serif:!0,"sans-serif":!0,cursive:!0,fantasy:!0,monospace:!0},c=null,u=null,f=null,h=null,d=null,p="",g=null,m=[],b=0;e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(c||u||f||h||d||p||g||!e.isIdent(this.kINHERIT)){if(!g&&e.isIdent()&&e.value in a){g=e.value;break}if(!c&&e.isIdent()&&e.value in r)c=e.value;else if(!u&&e.isIdent()&&e.value in i)u=e.value;else if(!f&&(e.isIdent()||e.isNumber())&&e.value in o)f=e.value;else if(!h&&(e.isIdent()&&e.value in s||e.isDimension()||e.isPercentage())){if(h=e.value,(e=this.getToken(!1,!1)).isSymbol("/")){if(e=this.getToken(!1,!1),d||!(e.isDimension()||e.isNumber()||e.isPercentage()))return"";d=e.value}else if(!e.isWhiteSpace())continue}else if(e.isIdent("normal")){if(3<++b)return""}else{if(p||!e.isString()&&!e.isIdent())return"";for(var v=!1;e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){this.ungetToken();break}if(e.isIdent()&&e.value in l){(y=new N(C,null)).value=e.value,m.push(y),p+=e.value;break}if(e.isString()||e.isIdent()){var y;(y=new N(C,null)).value=e.value,m.push(y),p+=e.value,v=!1}else{if(v||!e.isSymbol(","))return"";p+=", ",v=!0}e=this.getToken(!0,!0)}}}else c=this.kINHERIT,u=this.kINHERIT,f=this.kINHERIT,h=this.kINHERIT,d=this.kINHERIT,p=this.kINHERIT,g=this.kINHERIT;e=this.getToken(!0,!0)}return this.forgetState(),g?(t.push(this._createJscsspDeclarationFromValue("font",g)),g):(c=c||"normal",u=u||"normal",f=f||"normal",h=h||"medium",d=d||"normal",p=p||"-moz-initial",t.push(this._createJscsspDeclarationFromValue("font-style",c)),t.push(this._createJscsspDeclarationFromValue("font-variant",u)),t.push(this._createJscsspDeclarationFromValue("font-weight",f)),t.push(this._createJscsspDeclarationFromValue("font-size",h)),t.push(this._createJscsspDeclarationFromValue("line-height",d)),t.push(this._createJscsspDeclarationFromValuesArray("font-family",m,p)),c+" "+u+" "+f+" "+h+"/"+d+" "+p)},s.prototype.parseFunctionArgument=function(e){var t="";if(e.isString())t+=e.value,e=this.getToken(!0,!0);else for(var n=1;;){if(!e.isNotNull())return"";if((e.isFunction()||e.isSymbol("("))&&n++,e.isSymbol(")")&&!--n)break;t+=e.value,e=this.getToken(!1,!1)}return e.isSymbol(")")?t+")":""},s.prototype.parseColorStop=function(e){var t=this.parseColor(e),n="";return t?((e=this.getToken(!0,!0)).isLength()&&(n=e.value,e=this.getToken(!0,!0)),{color:t,position:n}):null},s.prototype.parseGradient=function(){var e={left:!0,right:!0},t={top:!0,bottom:!0},n={left:!0,right:!0,top:!0,bottom:!0,center:!0},r={isRepeating:!1},i=this.getToken(!0,!0);if(i.isNotNull()&&(i.isFunction("linear-gradient(")||i.isFunction("radial-gradient(")||i.isFunction("repeating-linear-gradient(")||i.isFunction("repeating-radial-gradient("))){(i.isFunction("radial-gradient(")||i.isFunction("repeating-radial-gradient("))&&(r.isRadial=!0),(i.isFunction("repeating-linear-gradient(")||i.isFunction("repeating-radial-gradient("))&&(r.isRepeating=!0);if((i=this.getToken(!0,!0)).isAngle()){if(r.angle=i.value,!0,!(i=this.getToken(!0,!0)).isSymbol(","))return null;i=this.getToken(!0,!0)}else if(i.isIdent("to")){if(!0,!((i=this.getToken(!0,!0)).isIdent("top")||i.isIdent("bottom")||i.isIdent("left")||i.isIdent("right")))return null;if(r.position=i.value,i=this.getToken(!0,!0),("top"!=r.position&&"bottom"!=r.position||!i.isIdent("left")&&!i.isIdent("right"))&&("left"!=r.position&&"right"!=r.position||!i.isIdent("top")&&!i.isIdent("bottom"))||(r.position+=" "+i.value,i=this.getToken(!0,!0)),!i.isSymbol(","))return null;i=this.getToken(!0,!0)}else if(r.isRadial){for(r.shape="",r.extent="",r.positions=[],r.at="";!i.isIdent("at")&&!i.isSymbol(",");)if(r.shape||!i.isIdent("circle")&&!i.isIdent("ellipse"))if(!r.extent&&(i.isIdent("closest-corner")||i.isIdent("closes-side")||i.isIdent("farthest-corner")||i.isIdent("farthest-corner")))r.extent=i.value,i=this.getToken(!0,!0);else{if(!(r.positions.length<2&&i.isLength()))break;r.positions.push(i.value),i=this.getToken(!0,!0)}else r.shape=i.value,i=this.getToken(!0,!0);if((1!=r.positions.length||r.extent||"circle"!=r.shape&&r.shape)&&(2!=r.positions.length||r.extent||"ellipse"!=r.shape&&r.shape)&&(r.positions.length||!r.extent)&&(r.positions.length||r.extent))return null;if(i.isIdent("at")){if(!((i=this.getToken(!0,!0)).isIdent()&&i.value in n||i.isDimension()||i.isNumber("0")||i.isPercentage()))return null;if(r.at=i.value,(i=this.getToken(!0,!0)).isDimension()||i.isNumber("0")||i.isPercentage())r.at+=" "+i.value;else if(i.isIdent()&&i.value in n){if(r.at in e&&i.value in e||r.at in t&&i.value in t)return"";r.at+=" "+i.value}else this.ungetToken(),r.at+=" center";i=this.getToken(!0,!0)}if(r.shape||r.extent||r.positions.length||r.at){if(!i.isSymbol(","))return null;i=this.getToken(!0,!0)}}var o=this.parseColorStop(i);if(!o)return null;if(!(i=this.currentToken()).isSymbol(","))return null;i=this.getToken(!0,!0);var s=this.parseColorStop(i);if(!s)return null;for((i=this.currentToken()).isSymbol(",")&&(i=this.getToken(!0,!0)),r.stops=[o,s];!i.isSymbol(")");){var a=this.parseColorStop(i);if(!a)return null;if(!(i=this.currentToken()).isSymbol(")")&&!i.isSymbol(","))return null;i.isSymbol(",")&&(i=this.getToken(!0,!0)),r.stops.push(a)}return r}return null},s.prototype.serializeGradient=function(e){var t=e.isRadial?e.isRepeating?"repeating-radial-gradient(":"radial-gradient(":e.isRepeating?"repeating-linear-gradient(":"linear-gradient(";(e.angle||e.position)&&(t+=(e.angle?e.angle:"")+(e.position?"to "+e.position:"")+", "),e.isRadial&&(t+=(e.shape?e.shape+" ":"")+(e.extent?e.extent+" ":"")+(e.positions.length?e.positions.join(" ")+" ":"")+(e.at?"at "+e.at+" ":"")+(e.shape||e.extent||e.positions.length||e.at?", ":""));for(var n=0;n<e.stops.length;n++){var r=e.stops[n];t+=r.color+(r.position?" "+r.position:""),n!=e.stops.length-1&&(t+=", ")}return t+=")"},s.prototype.parseImportRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value;this.preserveState();var i=this.getToken(!0,!0),o=[],s="";if(i.isString())r+=" "+(s=i.value);else if(i.isFunction("url(")){i=this.getToken(!0,!0);var a=this.parseURL(i);a&&(r+=" "+(s="url("+a))}else this.reportError("Missing URL in @import rule");if(s){for(i=this.getToken(!0,!0);i.isIdent()&&(r+=" "+i.value,o.push(i.value),i=this.getToken(!0,!0));){if(!i.isSymbol(",")){if(i.isSymbol(";"))break;break}r+=",",i=this.getToken(!0,!0)}if(o.length||o.push("all"),i.isSymbol(";")){r+=";",this.forgetState();var l=new b;return l.currentLine=n,l.parsedCssText=r,l.href=s,l.media=o,(l.parentStyleSheet=t).cssRules.push(l),!0}}return this.restoreState(),this.addUnknownAtRule(t,"@import"),!1},s.prototype.parseKeyframesRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value,i=!1,o=new k;o.currentLine=n,this.preserveState();for(var s=this.getToken(!0,!0),a=!1;s.isNotNull();){if(!s.isIdent()){if(s.isSymbol("{")){a||(s.type=g.NULL_TYPE);break}s.type=g.NULL_TYPE;break}if(a=!0,r+=" "+s.value,o.name=s.value,!(s=this.getToken(!0,!0)).isSymbol("{")){s.type=g.NULL_TYPE;break}this.ungetToken(),s=this.getToken(!0,!0)}if(s.isSymbol("{")&&o.name)for(r+=" { ",s=this.getToken(!0,!1);s.isNotNull();){if(s.isComment()&&this.mPreserveComments){r+=" "+s.value;var l=new m;l.parsedCssText=s.value,o.cssRules.push(l)}else{if(s.isSymbol("}")){i=!0;break}var c=this.parseKeyframeRule(s,o,!0);c&&(r+=c)}s=this.getToken(!0,!1)}return i?(this.forgetState(),o.currentLine=n,o.parsedCssText=r,t.cssRules.push(o),!0):(this.restoreState(),!1)},s.prototype.parseKeyframeRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned());this.preserveState();for(var r=e,i="";r.isNotNull();){if(!r.isIdent()&&!r.isPercentage()){i="";break}if(r.isIdent()&&!r.isIdent("from")&&!r.isIdent("to")){i="";break}if(i+=r.value,(r=this.getToken(!0,!0)).isSymbol("{")){this.ungetToken();break}if(!r.isSymbol(",")){i="";break}i+=", ",r=this.getToken(!0,!0)}var o=!1,s=[];if(i){var a=i;if((r=this.getToken(!0,!0)).isSymbol("{"))for(a+=" { ",r=this.getToken(!0,!1);;){if(!r.isNotNull()){o=!0;break}if(r.isSymbol("}")){a+="}",o=!0;break}var l=this.parseDeclaration(r,s,!0,!0,t);a+=(l&&s.length?" ":"")+l,r=this.getToken(!0,!1)}}if(o){var c=new y;return c.currentLine=n,c.parsedCssText=a,c.declarations=s,c.keyText=i,(c.parentRule=t).cssRules.push(c),a}return this.restoreState(),a=this.currentToken().value,this.addUnknownAtRule(t,a),""},s.prototype.parseListStyleShorthand=function(e,t,n){for(var r={inside:!0,outside:!0},i=null,o=null,s=null;e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(i||o||s||!e.isIdent(this.kINHERIT)){if(!i&&e.isIdent()&&e.value in this.kLIST_STYLE_TYPE_NAMES)i=e.value;else if(!o&&e.isIdent()&&e.value in r)o=e.value;else if(!s&&e.isFunction("url")){e=this.getToken(!0,!0);var a=this.parseURL(e);if(!a)return"";s="url("+a}else if(!e.isIdent("none"))return""}else i=this.kINHERIT,o=this.kINHERIT,s=this.kINHERIT;e=this.getToken(!0,!0)}return this.forgetState(),i=i||"none",s=s||"none",o=o||"outside",t.push(this._createJscsspDeclarationFromValue("list-style-type",i)),t.push(this._createJscsspDeclarationFromValue("list-style-position",o)),t.push(this._createJscsspDeclarationFromValue("list-style-image",s)),i+" "+o+" "+s},s.prototype.parse=function(e,t,n){if(!e)return null;this.mPreserveWS=t,this.mPreserveComments=n,this.mPreservedTokens=[],this.mScanner.init(e);var r=new R,i=this.getToken(!1,!1);if(!i.isNotNull())return r;i.isAtRule("@charset")&&(this.ungetToken(),this.parseCharsetRule(r),i=this.getToken(!1,!1));for(var o=!1,s=!1,a=!1;i.isNotNull();){if(i.isWhiteSpace())t&&this.addWhitespace(r,i.value);else if(i.isComment())this.mPreserveComments&&this.addComment(r,i.value);else if(i.isAtRule())i.isAtRule("@variables")?s||o?(this.reportError("@variables rule invalid at this position in the stylesheet"),this.addUnknownAtRule(r,i.value)):this.parseVariablesRule(i,r):i.isAtRule("@import")?o||a?(this.reportError("@import rule invalid at this position in the stylesheet"),this.addUnknownAtRule(r,i.value)):s=this.parseImportRule(i,r):i.isAtRule("@namespace")?o?(this.reportError("@namespace rule invalid at this position in the stylesheet"),this.addUnknownAtRule(r,i.value)):a=this.parseNamespaceRule(i,r):i.isAtRule("@font-face")?this.parseFontFaceRule(i,r)?o=!0:this.addUnknownAtRule(r,i.value):i.isAtRule("@page")?this.parsePageRule(i,r)?o=!0:this.addUnknownAtRule(r,i.value):i.isAtRule("@media")?this.parseMediaRule(i,r)?o=!0:this.addUnknownAtRule(r,i.value):i.isAtRule("@keyframes")?this.parseKeyframesRule(i,r)||this.addUnknownAtRule(r,i.value):(i.isAtRule("@charset")?this.reportError("@charset rule invalid at this position in the stylesheet"):this.reportError("Unknow @-rule"),this.addUnknownAtRule(r,i.value));else{this.parseStyleRule(i,r,!1)&&(o=!0)}i=this.getToken(!1)}return r},s.prototype.parseMarginOrPaddingShorthand=function(e,t,n,r){for(var i=null,o=null,s=null,a=null,l=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!l.length&&e.isIdent(this.kINHERIT)){l.push(e.value),e=this.getToken(!0,!0);break}if(!(e.isDimension()||e.isNumber("0")||e.isPercentage()||e.isIdent("auto")))return"";l.push(e.value),e=this.getToken(!0,!0)}switch(l.length){case 1:a=s=o=i=l[0];break;case 2:o=i=l[0],a=s=l[1];break;case 3:i=l[0],a=s=l[1],o=l[2];break;case 4:i=l[0],a=l[1],o=l[2],s=l[3];break;default:return""}return this.forgetState(),t.push(this._createJscsspDeclarationFromValue(r+"-top",i)),t.push(this._createJscsspDeclarationFromValue(r+"-right",a)),t.push(this._createJscsspDeclarationFromValue(r+"-bottom",o)),t.push(this._createJscsspDeclarationFromValue(r+"-left",s)),i+" "+a+" "+o+" "+s},s.prototype.parseMediaQuery=function(){var e={width:!0,"min-width":!0,"max-width":!0,height:!0,"min-height":!0,"max-height":!0,"device-width":!0,"min-device-width":!0,"max-device-width":!0,"device-height":!0,"min-device-height":!0,"max-device-height":!0,orientation:!0,"aspect-ratio":!0,"min-aspect-ratio":!0,"max-aspect-ratio":!0,"device-aspect-ratio":!0,"min-device-aspect-ratio":!0,"max-device-aspect-ratio":!0,color:!0,"min-color":!0,"max-color":!0,"color-index":!0,"min-color-index":!0,"max-color-index":!0,monochrome:!0,"min-monochrome":!0,"max-monochrome":!0,resolution:!0,"min-resolution":!0,"max-resolution":!0,scan:!0,grid:!0},t={cssText:"",amplifier:"",medium:"",constraints:[]},n=this.getToken(!0,!0);if(n.isIdent("all")||n.isIdent("aural")||n.isIdent("braille")||n.isIdent("handheld")||n.isIdent("print")||n.isIdent("projection")||n.isIdent("screen")||n.isIdent("tty")||n.isIdent("tv"))t.medium=n.value,t.cssText+=n.value,n=this.getToken(!0,!0);else if(n.isIdent("not")||n.isIdent("only")){if(t.amplifier=n.value.toLowerCase(),t.cssText+=n.value.toLowerCase(),!((n=this.getToken(!0,!0)).isIdent("all")||n.isIdent("aural")||n.isIdent("braille")||n.isIdent("handheld")||n.isIdent("print")||n.isIdent("projection")||n.isIdent("screen")||n.isIdent("tty")||n.isIdent("tv")))return null;t.cssText+=" "+n.value,t.medium=n.value,n=this.getToken(!0,!0)}if(t.medium){if(!n.isNotNull())return t;if(n.isIdent("and"))t.cssText+=" and",n=this.getToken(!0,!0);else if(!n.isSymbol("{"))return null}for(;n.isSymbol("(");){if(!((n=this.getToken(!0,!0)).isIdent()&&n.value in e))return null;var r=n.value;if((n=this.getToken(!0,!0)).isSymbol(":")){n=this.getToken(!0,!0);for(var i=[];!n.isSymbol(")");)i.push(n.value),n=this.getToken(!0,!0);if(!n.isSymbol(")"))return null;if(t.constraints.push({constraint:r,value:i}),t.cssText+=" ("+r+": "+i.join(" ")+")",!(n=this.getToken(!0,!0)).isNotNull())return t;if(n.isIdent("and"))t.cssText+=" and",n=this.getToken(!0,!0);else if(!n.isSymbol("{"))return null}else{if(!n.isSymbol(")"))return null;if(t.constraints.push({constraint:r,value:null}),t.cssText+=" ("+r+")",!(n=this.getToken(!0,!0)).isNotNull())return t;if(!n.isIdent("and"))return null;t.cssText+=" and",n=this.getToken(!0,!0)}}return t},s.prototype.parseMediaRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value,i=!1,o=new w;o.currentLine=n,this.preserveState();for(var s=this.getToken(!0,!0),a=!1;s.isNotNull();){this.ungetToken();var l=this.parseMediaQuery();if(s=this.currentToken(),l){if(a=!0,r+=" "+l.cssText,o.media.push(l.cssText),!s.isSymbol(",")){if(s.isSymbol("{"))break;s.type=g.NULL_TYPE;break}r+=","}else{if(s.isSymbol("{"))break;if(a){s.type=g.NULL_TYPE;break}}s=this.getToken(!0,!0)}if(s.isSymbol("{")&&o.media.length)for(r+=" { ",s=this.getToken(!0,!1);s.isNotNull();){if(s.isComment()){if(this.mPreserveComments){r+=" "+s.value;var c=new m;c.parsedCssText=s.value,o.cssRules.push(c)}}else{if(s.isSymbol("}")){i=!0;break}var u=this.parseStyleRule(s,o,!0);u&&(r+=u)}s=this.getToken(!0,!1)}return i?(this.forgetState(),o.parsedCssText=r,t.cssRules.push(o),!0):(this.restoreState(),!1)},s.prototype.parseNamespaceRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value;this.preserveState();var i=this.getToken(!0,!0);if(i.isNotNull()){var o="",s="";if(i.isIdent()&&(r+=" "+(o=i.value),i=this.getToken(!0,!0)),i){var a=!1;if(i.isString())a=!0,r+=" "+(s=i.value);else if(i.isFunction("url(")){i=this.getToken(!0,!0);var l=this.parseURL(i);l&&(s+="url("+l,a=!0,r+=" "+l)}}if(a&&(i=this.getToken(!0,!0)).isSymbol(";")){r+=";",this.forgetState();var c=new S;return c.currentLine=n,c.parsedCssText=r,c.prefix=o,c.url=s,(c.parentStyleSheet=t).cssRules.push(c),!0}}return this.restoreState(),this.addUnknownAtRule(t,"@namespace"),!1},s.prototype.parsePageRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value,i=!1,o=[];this.preserveState();var s="";if(((a=this.getToken(!0,!0)).isSymbol(":")||a.isIdent())&&(a.isSymbol(":")&&(s=":",a=this.getToken(!1,!1)),a.isIdent()&&(r+=" "+(s+=a.value),a=this.getToken(!0,!0))),a.isNotNull()&&a.isSymbol("{")){r+=" "+a.value;for(var a=this.getToken(!0,!1);;){if(a.isSymbol("}")){r+="}",i=!0;break}var l=this.parseDeclaration(a,o,!0,!0,t);r+=(l&&o.length?" ":"")+l,a=this.getToken(!0,!1)}}if(i){this.forgetState();var c=new T;return c.currentLine=n,c.parsedCssText=r,c.pageSelector=s,c.declarations=o,(c.parentStyleSheet=t).cssRules.push(c),!0}return this.restoreState(),!1},s.prototype.parsePauseShorthand=function(e,t,n){var r="",i="",o=[];for(o=[];e.isNotNull();){if(e.isSymbol(";")||n&&e.isSymbol("!")||e.isSymbol("}")){e.isSymbol("}")&&this.ungetToken();break}if(!o.length&&e.isIdent(this.kINHERIT))o.push(e.value);else{if(!(e.isDimensionOfUnit("ms")||e.isDimensionOfUnit("s")||e.isPercentage()||e.isNumber("0")))return"";o.push(e.value)}e=this.getToken(!0,!0)}switch(o.length){case 1:i=r=o[0];break;case 2:r=o[0],i=o[1];break;default:return""}return this.forgetState(),aDecl.push(this._createJscsspDeclarationFromValue("pause-before",r)),aDecl.push(this._createJscsspDeclarationFromValue("pause-after",i)),r+" "+i},s.prototype.parseDefaultPropertyValue=function(e,t,n,r,i){for(var o="",s=[],a=[];e.isNotNull();){if((e.isSymbol(";")||e.isSymbol("}")||e.isSymbol("!"))&&!s.length){e.isSymbol("}")&&this.ungetToken();break}if(e.isIdent(this.kINHERIT)){if(a.length)return"";o=this.kINHERIT;var l=new N(x,i);a.push(l),e=this.getToken(!0,!0);break}if(e.isSymbol("{")||e.isSymbol("(")||e.isSymbol("["))s.push(e.value);else if((e.isSymbol("}")||e.isSymbol("]"))&&s.length){var c=s[s.length-1];(e.isSymbol("}")&&"{"==c||e.isSymbol(")")&&"("==c||e.isSymbol("]")&&"["==c)&&s.pop()}if(e.isFunction())if(e.isFunction("var(")){if(!(e=this.getToken(!0,!0)).isIdent())return"";var u=e.value;if(!(e=this.getToken(!0,!0)).isSymbol(")"))return"";o+="var("+u+")",(l=new N(I,i)).name=u,a.push(l)}else{var f=e.value;e=this.getToken(!1,!0);var h=this.parseFunctionArgument(e);if(!h)return"";o+=f+h,(l=new N(C,i)).value=f+h,a.push(l)}else if(e.isSymbol("#")){var d=this.parseColor(e);if(!d)return"";o+=d,(l=new N(C,i)).value=d,a.push(l)}else if(e.isWhiteSpace()||e.isSymbol(","))o+=e.value;else{(l=new N(C,i)).value=e.value,a.push(l),o+=e.value}e=this.getToken(!1,!0)}return a.length&&o?(this.forgetState(),t.push(this._createJscsspDeclarationFromValuesArray(r,a,o)),o):""},s.prototype.parseSelector=function(e,t){for(var n="",r={a:0,b:0,c:0,d:0},i=!0,o=e,s=!1,a=!1;;){if(!o.isNotNull())return t?{selector:n,specificity:r}:"";if(!t&&o.isSymbol("{")){(s=!a)&&this.ungetToken();break}if(o.isSymbol(","))n+=o.value,a=!(i=!0),o=this.getToken(!1,!0);else if(a||!(o.isWhiteSpace()||o.isSymbol(">")||o.isSymbol("+")||o.isSymbol("~"))){var l=this.parseSimpleSelector(o,i,!0);if(!l)break;n+=l.selector,r.b+=l.specificity.b,r.c+=l.specificity.c,r.d+=l.specificity.d,a=i=!1,o=this.getToken(!1,!0)}else{if(o.isWhiteSpace()){n+=" ";var c=this.lookAhead(!0,!0);if(!c.isNotNull())return t?{selector:n,specificity:r}:"";(c.isSymbol(">")||c.isSymbol("+")||c.isSymbol("~"))&&(n+=(o=this.getToken(!0,!0)).value+" ",a=!0)}else n+=o.value,a=!0;i=!0,o=this.getToken(!0,!0)}}return s?{selector:n,specificity:r}:""},s.prototype.isPseudoElement=function(e){switch(e){case"first-letter":case"first-line":case"before":case"after":case"marker":return!0}return!1},s.prototype.parseSimpleSelector=function(e,t,n){var r="",i={a:0,b:0,c:0,d:0};if(t&&(e.isSymbol("*")||e.isSymbol("|")||e.isIdent())){if(e.isSymbol("*")||e.isIdent()){r+=e.value;var o=e.isIdent();if((e=this.getToken(!1,!0)).isSymbol("|")){if(r+=e.value,!(e=this.getToken(!1,!0)).isIdent()&&!e.isSymbol("*"))return null;r+=e.value,e.isIdent()&&i.d++}else this.ungetToken(),o&&i.d++}else if(e.isSymbol("|")){if(r+=e.value,!(e=this.getToken(!1,!0)).isIdent()&&!e.isSymbol("*"))return null;r+=e.value,e.isIdent()&&i.d++}}else if(e.isSymbol(".")||e.isSymbol("#")){var s=e.isSymbol(".");if(r+=e.value,!(e=this.getToken(!1,!0)).isIdent())return null;r+=e.value,s?i.c++:i.b++}else if(e.isSymbol(":"))if(r+=e.value,(e=this.getToken(!1,!0)).isSymbol(":")&&(r+=e.value,e=this.getToken(!1,!0)),e.isIdent())r+=e.value,this.isPseudoElement(e.value)?i.d++:i.c++;else{if(!e.isFunction())return null;if(r+=e.value,e.isFunction(":not(")){if(!n)return null;e=this.getToken(!0,!0);var a=this.parseSimpleSelector(e,t,!1);if(!a)return null;if(r+=a.selector,!(e=this.getToken(!0,!0)).isSymbol(")"))return null;r+=")",i.c++}else{for(;;){if((e=this.getToken(!1,!0)).isSymbol(")")){r+=")";break}r+=e.value}i.c++}}else if(e.isSymbol("[")){if(r+="[",(e=this.getToken(!0,!0)).isIdent()||e.isSymbol("*")){if(r+=e.value,this.getToken(!0,!0).isSymbol("|")){if(r+="|",!(e=this.getToken(!0,!0)).isIdent())return null;r+=e.value}else this.ungetToken()}else{if(!e.isSymbol("|"))return null;if(r+="|",!(e=this.getToken(!0,!0)).isIdent())return null;r+=e.value}if((e=this.getToken(!0,!0)).isIncludes()||e.isDashmatch()||e.isBeginsmatch()||e.isEndsmatch()||e.isContainsmatch()||e.isSymbol("=")){if(r+=e.value,!(e=this.getToken(!0,!0)).isString()&&!e.isIdent())return null;if(r+=e.value,!(e=this.getToken(!0,!0)).isSymbol("]"))return null;r+=e.value,i.c++}else{if(!e.isSymbol("]"))return null;r+=e.value,i.c++}}else if(e.isWhiteSpace()){if(this.lookAhead(!0,!0).isSymbol("{"))return""}return r?{selector:r,specificity:i}:null},s.prototype.trim11=function(e){for(var t=(e=e.replace(/^\s+/,"")).length-1;0<=t;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e},s.prototype.parseStyleRule=function(e,t,n){var r=f(this.mScanner.getAlreadyScanned());this.preserveState();var i=this.parseSelector(e,!1),o=!1,s=[];if(i){var a=i=this.trim11(i.selector);if((l=this.getToken(!0,!0)).isSymbol("{")){a+=" { ";for(var l=this.getToken(!0,!1);;){if(!l.isNotNull()){o=!0;break}if(l.isSymbol("}")){a+="}",o=!0;break}var c=this.parseDeclaration(l,s,!0,!0,t);a+=(c&&s.length?" ":"")+c,l=this.getToken(!0,!1)}}}if(o){var u=new E;return u.currentLine=r,u.parsedCssText=a,u.declarations=s,u.mSelectorText=i,n?u.parentRule=t:u.parentStyleSheet=t,t.cssRules.push(u),a}return this.restoreState(),a=this.currentToken().value,this.addUnknownAtRule(t,a),""},s.prototype.parseTextShadows=function(){for(var e=[],t=this.getToken(!0,!0),n="",r="0px",i="0px",o="0px";t.isNotNull();)if(t.isIdent("none"))e.push({none:!0}),t=this.getToken(!0,!0);else{if(t.isFunction("rgb(")||t.isFunction("rgba(")||t.isFunction("hsl(")||t.isFunction("hsla(")||t.isSymbol("#")||t.isIdent()){n=this.parseColor(t);t=this.getToken(!0,!0)}if(!(t.isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")))return[];i=t.value;if(!((t=this.getToken(!0,!0)).isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")))return[];o=t.value;if((t=this.getToken(!0,!0)).isPercentage()||t.isDimensionOfUnit("cm")||t.isDimensionOfUnit("mm")||t.isDimensionOfUnit("in")||t.isDimensionOfUnit("pc")||t.isDimensionOfUnit("px")||t.isDimensionOfUnit("em")||t.isDimensionOfUnit("ex")||t.isDimensionOfUnit("pt")){r=t.value;t=this.getToken(!0,!0)}if(!n&&(t.isFunction("rgb(")||t.isFunction("rgba(")||t.isFunction("hsl(")||t.isFunction("hsla(")||t.isSymbol("#")||t.isIdent())){n=this.parseColor(t);t=this.getToken(!0,!0)}if(e.push({none:!1,color:n,offsetX:i,offsetY:o,blurRadius:r}),!t.isSymbol(","))return t.isNotNull()?[]:e;n="",o=i=r="0px",t=this.getToken(!0,!0)}return e},s.prototype.currentToken=function(){return this.mToken},s.prototype.getHexValue=function(){return this.mToken=this.mScanner.nextHexValue(),this.mToken},s.prototype.getToken=function(e,t){if(this.mLookAhead)return this.mToken=this.mLookAhead,this.mLookAhead=null,this.mToken;for(this.mToken=this.mScanner.nextToken();this.mToken&&(e&&this.mToken.isWhiteSpace()||t&&this.mToken.isComment());)this.mToken=this.mScanner.nextToken();return this.mToken},s.prototype.lookAhead=function(e,t){var n=this.mToken;this.mScanner.preserveState();var r=this.getToken(e,t);return this.mScanner.restoreState(),this.mToken=n,r},s.prototype.ungetToken=function(){this.mLookAhead=this.mToken},s.prototype.addWhitespace=function(e,t){var n=new O;n.parsedCssText=t,(n.parentStyleSheet=e).cssRules.push(n)},s.prototype.addComment=function(e,t){var n=new m;n.parsedCssText=t,(n.parentStyleSheet=e).cssRules.push(n)},s.prototype._createJscsspDeclaration=function(e,t){var n=new l;return n.property=e,n.value=this.trim11(t),n.parsedCssText=e+": "+t+";",n},s.prototype._createJscsspDeclarationFromValue=function(e,t){var n=new l;n.property=e;var r=new N(C,null);return r.value=t,n.values=[r],n.valueText=t,n.parsedCssText=e+": "+t+";",n},s.prototype._createJscsspDeclarationFromValuesArray=function(e,t,n){var r=new l;return r.property=e,r.values=t,r.valueText=n,r.parsedCssText=e+": "+n+";",r},s.prototype.preserveState=function(){this.mPreservedTokens.push(this.currentToken()),this.mScanner.preserveState()},s.prototype.restoreState=function(){this.mPreservedTokens.length&&(this.mScanner.restoreState(),this.mToken=this.mPreservedTokens.pop())},s.prototype.forgetState=function(){this.mPreservedTokens.length&&(this.mScanner.forgetState(),this.mPreservedTokens.pop())},s.prototype.addUnknownAtRule=function(e,t){for(var n=f(this.mScanner.getAlreadyScanned()),r=[],i=this.getToken(!1,!1);i.isNotNull()&&(t+=i.value,!i.isSymbol(";")||r.length);){if(i.isSymbol("{")||i.isSymbol("(")||i.isSymbol("[")||"function"==i.type)r.push(i.isFunction()?"(":i.value);else if((i.isSymbol("}")||i.isSymbol(")")||i.isSymbol("]"))&&r.length){var o=r[r.length-1];if((i.isSymbol("}")&&"{"==o||i.isSymbol(")")&&"("==o||i.isSymbol("]")&&"["==o)&&(r.pop(),!r.length&&i.isSymbol("}")))break}i=this.getToken(!1,!1)}this.addUnknownRule(e,t,n)},s.prototype.addUnknownRule=function(e,t,n){var r=new c(this.consumeError());r.currentLine=n,r.parsedCssText=t,(r.parentStyleSheet=e).cssRules.push(r)},s.prototype.parseURL=function(e){var t="";if(e.isString())t+=e.value,e=this.getToken(!0,!0);else for(;;){if(!e.isNotNull())return this.reportError("Unexpected end of stylesheet"),"";if(e.isWhiteSpace()&&(nextToken=this.lookAhead(!0,!0),!nextToken.isSymbol(")"))){this.reportError("Multiple tokens inside a url() notation"),e=this.currentToken();break}if(e.isSymbol(")"))break;t+=e.value,e=this.getToken(!1,!1)}return e.isSymbol(")")?t+")":""},s.prototype.parseVariablesRule=function(e,t){var n=f(this.mScanner.getAlreadyScanned()),r=e.value,i=[],o=!1;this.preserveState(),e=this.getToken(!0,!0);for(var s=[],a=!1;e.isNotNull();){if(e.isIdent())if(a=!0,r+=" "+e.value,s.push(e.value),(e=this.getToken(!0,!0)).isSymbol(","))r+=",";else{if(!e.isSymbol("{")){e.type=g.NULL_TYPE;break}this.ungetToken()}else{if(e.isSymbol("{"))break;if(a){e.type=g.NULL_TYPE;break}}e=this.getToken(!0,!0)}if(e.isSymbol("{"))for(r+=" {",e=this.getToken(!0,!0);;){if(!e.isNotNull()){o=!0;break}if(e.isSymbol("}")){r+="}",o=!0;break}var l=this.parseDeclaration(e,i,!0,!1,t);r+=(l&&i.length?" ":"")+l,e=this.getToken(!0,!1)}if(o){this.forgetState();var c=new _;return c.currentLine=n,c.parsedCssText=r,c.declarations=i,c.media=s,(c.parentStyleSheet=t).cssRules.push(c),!0}return this.restoreState(),!1},g.NULL_TYPE=0,g.WHITESPACE_TYPE=1,g.STRING_TYPE=2,g.COMMENT_TYPE=3,g.NUMBER_TYPE=4,g.IDENT_TYPE=5,g.FUNCTION_TYPE=6,g.ATRULE_TYPE=7,g.INCLUDES_TYPE=8,g.DASHMATCH_TYPE=9,g.BEGINSMATCH_TYPE=10,g.ENDSMATCH_TYPE=11,g.CONTAINSMATCH_TYPE=12,g.SYMBOL_TYPE=13,g.DIMENSION_TYPE=14,g.PERCENTAGE_TYPE=15,g.HEX_TYPE=16,g.prototype={isNotNull:function(){return this.type},_isOfType:function(e,t){return this.type==e&&(!t||this.value.toLowerCase()==t)},isWhiteSpace:function(e){return this._isOfType(g.WHITESPACE_TYPE,e)},isString:function(){return this._isOfType(g.STRING_TYPE)},isComment:function(){return this._isOfType(g.COMMENT_TYPE)},isNumber:function(e){return this._isOfType(g.NUMBER_TYPE,e)},isIdent:function(e){return this._isOfType(g.IDENT_TYPE,e)},isFunction:function(e){return this._isOfType(g.FUNCTION_TYPE,e)},isAtRule:function(e){return this._isOfType(g.ATRULE_TYPE,e)},isIncludes:function(){return this._isOfType(g.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(g.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(g.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(g.ENDSMATCH_TYPE)},isContainsmatch:function(){return this._isOfType(g.CONTAINSMATCH_TYPE)},isSymbol:function(e){return this._isOfType(g.SYMBOL_TYPE,e)},isDimension:function(){return this._isOfType(g.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(g.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(g.HEX_TYPE)},isDimensionOfUnit:function(e){return this.isDimension()&&this.unit==e},isLength:function(){return this.isPercentage()||this.isDimensionOfUnit("cm")||this.isDimensionOfUnit("mm")||this.isDimensionOfUnit("in")||this.isDimensionOfUnit("pc")||this.isDimensionOfUnit("px")||this.isDimensionOfUnit("em")||this.isDimensionOfUnit("ex")||this.isDimensionOfUnit("pt")},isAngle:function(){return this.isDimensionOfUnit("deg")||this.isDimensionOfUnit("rad")||this.isDimensionOfUnit("grad")}},a.prototype={cssText:function(){return"@charset "+this.encoding+";"},setCssText:function(e){var t={cssRules:[]};if(new s(e).parseCharsetRule(t)){var n=t.cssRules[0];return this.encoding=n.encoding,void(this.parsedCssText=n.parsedCssText)}throw DOMException.SYNTAX_ERR}},m.prototype={cssText:function(){return this.parsedCssText},setCssText:function(e){var t=new s(e).getToken(!0,!1);if(!t.isComment())throw DOMException.SYNTAX_ERR;this.parsedCssText=t.value}},l.prototype={kCOMMA_SEPARATED:{cursor:!0,"font-family":!0,"voice-family":!0,"background-image":!0},kUNMODIFIED_COMMA_SEPARATED_PROPERTIES:{"text-shadow":!0,"box-shadow":!0,"-moz-transition":!0,"-moz-transition-property":!0,"-moz-transition-duration":!0,"-moz-transition-timing-function":!0,"-moz-transition-delay":!0,src:!0,"-moz-font-feature-settings":!0},cssText:function(){var e=p.prefixesForProperty(this.property),t="";if(this.property in this.kUNMODIFIED_COMMA_SEPARATED_PROPERTIES){if(e){t="";for(var n=0;n<e.length;n++){var r=e[n];t+=(n?Y:"")+r+": ",t+=this.valueText+(this.priority?" !important":"")+";",t+=1<e.length&&n!=e.length-1?"\n":""}return t}return this.property+": "+this.valueText+(this.priority?" !important":"")+";"}if(e){t="";for(n=0;n<e.length;n++){r=e[n];t+=(n?Y:"")+r+": ";for(var i=(r in this.kCOMMA_SEPARATED?", ":" "),o=0;o<this.values.length;o++){if(null==this.values[o].cssText())return null;t+=(o?i:"")+this.values[o].cssText()}t+=(this.priority?" !important":"")+";"+(1<e.length&&n!=e.length-1?"\n":"")}return t}i=this.property in this.kCOMMA_SEPARATED?", ":" ";var s={webkit:!1,presto:!1,trident:!1,"gecko1.9.2":!1,generic:!1};for(o=0;o<this.values.length;o++){if(null==(f=this.values[o].cssText()))return null;var a=f.indexOf("("),l=f;if(-1!=a&&(l=f.substr(0,a)),l in h)for(var c in h[l])s[c]=s[c]||""!=h[l][c]}for(var c in s)if(s[c]){var u="\n"+Y+this.property+": ";for(o=0;o<this.values.length;o++){if(null==(f=this.values[o].cssText()))return null;a=f.indexOf("("),l=f;if(-1!=a&&(l=f.substr(0,a)),l in h&&(functor=h[l][c],functor&&!(f="string"==typeof functor?functor:functor(f,c)))){u=null;break}u+=(o?i:"")+f}t+=u?u+";":"\n"+Y+"/* Impossible to translate property "+this.property+" for "+c+" */"}t+="\n"+Y+this.property+": ";for(o=0;o<this.values.length;o++){var f;null!=(f=this.values[o].cssText())&&(t+=(o?i:"")+f)}return t+=(this.priority?" !important":"")+";"},setCssText:function(e){var t=[],n=new s(e),r=n.getToken(!0,!0);if(n.parseDeclaration(r,t,!0,!0,null)&&t.length&&t[0].type==X){var i=t.cssRules[0];return this.property=i.property,this.value=i.value,this.priority=i.priority,void(this.parsedCssText=newRule.parsedCssText)}throw DOMException.SYNTAX_ERR}},c.prototype={cssText:function(){return this.parsedCssText}},u.prototype={cssText:function(){var e=Y+"@font-face {\n",t=Y;Y+="  ";for(var n=0;n<this.descriptors.length;n++)e+=Y+this.descriptors[n].cssText()+"\n";return e+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@font-face")&&n.parseFontFaceRule(r,t)){var i=t.cssRules[0];return this.descriptors=i.descriptors,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},b.prototype={cssText:function(){var e=this.media.join(", ");return"@import "+this.href+(e&&"all"!=e?e+" ":"")+";"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@import")&&n.parseImportRule(r,t)){var i=t.cssRules[0];return this.href=i.href,this.media=i.media,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},y.prototype={cssText:function(){var e=this.keyText+" {\n",t=Y;Y+="  ";for(var n=0;n<this.declarations.length;n++){this.declarations[n].cssText()&&(e+=Y+this.declarations[n].cssText()+"\n")}return e+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isNotNull()||!n.parseKeyframeRule(r,t,!1))throw DOMException.SYNTAX_ERR;var i=t.cssRules[0];return this.keyText=i.keyText,this.declarations=i.declarations,void(this.parsedCssText=i.parsedCssText)}},k.prototype={cssText:function(){for(var e="",t=["moz","webkit","ms","o",""],n=0;n<t.length;n++){e+=Y+"@"+(t[n]?"-"+t[n]+"-":"")+"keyframes "+this.name+" {\n";var r=Y;Y+="  ";for(var i=0;i<this.cssRules.length;i++)e+=Y+this.cssRules[i].cssText()+"\n";e+=(Y=r)+"}\n\n"}return e},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@-mozkeyframes")&&n.parseKeyframesRule(r,t)){var i=t.cssRules[0];return this.cssRules=i.cssRules,this.name=i.name,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},w.prototype={cssText:function(){var e=Y+"@media "+this.media.join(", ")+" {\n",t=Y;Y+="  ";for(var n=0;n<this.cssRules.length;n++)e+=this.cssRules[n].cssText()+"\n";return e+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@media")&&n.parseMediaRule(r,t)){var i=t.cssRules[0];return this.cssRules=i.cssRules,this.media=i.media,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},S.prototype={cssText:function(){return"@namespace "+(this.prefix?this.prefix+" ":"")+this.url+";"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@namespace")&&n.parseNamespaceRule(r,t)){var i=t.cssRules[0];return this.url=i.url,this.prefix=i.prefix,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},T.prototype={cssText:function(){var e=Y+"@page "+(this.pageSelector?this.pageSelector+" ":"")+"{\n",t=Y;Y+="  ";for(var n=0;n<this.declarations.length;n++)e+=Y+this.declarations[n].cssText()+"\n";return e+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@page")&&n.parsePageRule(r,t)){var i=t.cssRules[0];return this.pageSelector=i.pageSelector,this.declarations=i.declarations,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},E.prototype={cssText:function(){var e=Y+this.mSelectorText+" {",t=Y;Y+="  ";for(var n=0;n<this.declarations.length;n++){this.declarations[n].cssText()&&(e+=Y+this.declarations[n].cssText())}return e+"\n"+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isNotNull()||!n.parseStyleRule(r,t,!1))throw DOMException.SYNTAX_ERR;var i=t.cssRules[0];return this.mSelectorText=i.mSelectorText,this.declarations=i.declarations,void(this.parsedCssText=i.parsedCssText)},selectorText:function(){return this.mSelectorText},setSelectorText:function(e){var t=new s(e),n=t.getToken(!0,!0);if(!n.isNotNull()){var r=t.parseSelector(n,!0);if(r)return void(this.mSelectorText=r.selector)}throw DOMException.SYNTAX_ERR}},R.prototype={insertRule:function(e,t){try{this.cssRules.splice(t,1,e)}catch(n){}},deleteRule:function(e){try{this.cssRules.splice(e)}catch(t){}},cssText:function(){for(var e="",t=0;t<this.cssRules.length;t++)e+=this.cssRules[t].cssText()+"\n\n";return e}};var x=0,C=1,I=4;function N(e,t){this.value="",this.type=e,this.name=null,this.parentRule=null,this.parentStyleSheet=t}function _(){this.type=G,this.parsedCssText=null,this.declarations=[],this.parentStyleSheet=null,this.parentRule=null,this.media=null}function O(){this.type=q,this.parsedCssText=null,this.parentStyleSheet=null,this.parentRule=null}N.prototype={cssText:function(){return this.type==I?this.resolveVariable(this.name,this.parentRule,this.parentStyleSheet):this.value},setCssText:function(e){if(this.type==I)throw DOMException.SYNTAX_ERR;this.value=e},resolveVariable:function(e,t,n){return"var("+e+")"}},_.prototype={cssText:function(){var e=Y+"@variables "+(this.media.length?this.media.join(", ")+" ":"")+"{\n",t=Y;Y+="  ";for(var n=0;n<this.declarations.length;n++)e+=Y+this.declarations[n].cssText()+"\n";return e+(Y=t)+"}"},setCssText:function(e){var t={cssRules:[]},n=new s(e),r=n.getToken(!0,!0);if(r.isAtRule("@variables")&&n.parseVariablesRule(r,t)){var i=t.cssRules[0];return this.declarations=i.declarations,void(this.parsedCssText=i.parsedCssText)}throw DOMException.SYNTAX_ERR}},O.prototype={cssText:function(){return this.parsedCssText}};var A,P,D=0,M=1,L=2,B=3,H=4,F=5,W=6,U=7,j=8,z=100,V=101,q=102,G=200,X=1e3,Y="";A=window,P={_ie:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:void 0}(),_svg_cache:{},_create_svg_element:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(key in t)n.setAttributeNS(null,key,t[key]);return n},_create_svg:function(e,t){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.setAttributeNS(null,"width","0"),r.setAttributeNS(null,"height","0"),r.setAttributeNS(null,"style","position:absolute");var i=document.createElementNS(n,"filter");i.setAttributeNS(null,"id",e),r.appendChild(i);for(var o=0;o<t.length;o++)i.appendChild(t[o]);return r},_pending_stylesheets:0,_stylesheets:[],process_stylesheets:function(){var n=[];if(A.setTimeout(function(){if(A.XMLHttpRequest)var e=new XMLHttpRequest;else if(A.ActiveXObject)e=new ActiveXObject("Microsoft.XMLHTTP");e.open("GET",A.polyfilter_scriptpath+"css-filters-polyfill-parser.js",!0),e.onreadystatechange=function(){4==n.readyState&&200!=n.status&&alert('The configured path \r\rvar polyfilter_scriptpath = "'+A.polyfilter_scriptpath+'"\r\rseems wrong!\r\rConfigure the polyfill\'s correct absolute(!) script path before referencing the css-filters-polyfill.js, like so:\r\rvar polyfilter_scriptpath = "/js/css-filters-polyfill/";\r\rLeaving IE dead in the water is no option. You damn Mac user... ;)')};try{e.send(null)}catch(t){}},2e3),!A.polyfilter_skip_stylesheets){for(var o=document.querySelectorAll?document.querySelectorAll('style,link[rel="stylesheet"]'):document.getElementsByTagName("*"),e=0;e<o.length;e++)!function(e){switch(o[e].nodeName){default:break;case"STYLE":P._stylesheets.push({media:o[e].media||"all",content:o[e].innerHTML});break;case"LINK":if("stylesheet"===o[e].rel){var t=P._stylesheets.length;P._stylesheets.push({media:o[e].media||"all"}),P._pending_stylesheets++;var n=o[e].href;try{if(A.XMLHttpRequest)var r=new XMLHttpRequest;else if(A.ActiveXObject)r=new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",n,!0),r.onreadystatechange=function(){4===r.readyState&&(0===r.status&&A.console&&console.log("Could not fetch external CSS via HTTP-Request "+n+". Probably because of cross origin limitations. Try turning on CORS headers on the machine serving the stylesheets, like so: https://gist.github.com/Schepp/6338742"),P._stylesheets[t].content||(P._pending_stylesheets--,P._stylesheets[t].content=r.responseText,0===P._pending_stylesheets&&P.process()))};try{r.send(null)}catch(i){A.console&&console.log("Could not fetch external CSS via HTTP-Request "+n+". Are you maybe testing using the file://-protocol?"),P._stylesheets[t].content||(P._pending_stylesheets--,0===P._pending_stylesheets&&P.process())}}catch(i){}}}}(e);0===this._pending_stylesheets&&this.process()}},_processDeclarations:function(e){var t="";for(var n in e.declarations){var r=e.declarations[n];if("filter"===r.property){if(document.querySelectorAll){var i=document.querySelectorAll(e.mSelectorText);for(n=0;n<i.length;n++)i[n].style.polyfilterStore=r.valueText}var o=r.valueText,s=o.split(/\)\s+/),a={filtersW3C:[],filtersWebKit:[],filtersSVG:[],filtersIE:[],behaviorsIE:[]};for(idx in s){var l=s[idx]+")";for(key in currentproperties=P.convert(l),currentproperties)"undefined"!=typeof a[key]&&(a[key]=a[key].concat(currentproperties[key]))}if(t+=e.mSelectorText+"{",0<a.filtersW3C.length){webkitFilter=mozFilter=oFilter=msFilter=a.filtersW3C.join(" ");a.filtersWebKit&&0<a.filtersWebKit.length&&(webkitFilter=a.filtersWebKit.join(" ")),"undefined"==typeof this._ie&&(t+="-ms-filter:"+msFilter+";"),t+="-webkit-filter:"+webkitFilter+";",t+="-moz-filter:"+mozFilter+";",t+="-o-filter:"+oFilter+";"}if(0<a.filtersSVG.length)if("none"!=a.filtersSVG[0]){var c,u=o.replace(/[^a-z0-9]/g,"");if("undefined"==typeof this._svg_cache[u])if(this._svg_cache[u]=this._create_svg(u,a.filtersSVG),"undefined"==typeof XMLSerializer)document.body.appendChild(this._svg_cache[u]);else-1!=(c=(new XMLSerializer).serializeToString(this._svg_cache[u])).search("SourceGraphic")&&document.body.appendChild(this._svg_cache[u]);if("undefined"==typeof XMLSerializer)t+="filter: url(#"+u+")";else-1!=(c=(new XMLSerializer).serializeToString(this._svg_cache[u])).search("SourceGraphic")?t+="filter: url(#"+u+")":t+="filter: url('data:image/svg+xml;utf8,"+c+"#"+u+"')"}else t+="filter: none;";if("undefined"!=typeof this._ie){if(0<a.filtersIE.length)t+="filter:"+a.filtersIE.join(" ")+";";if(0<a.behaviorsIE.length)t+="behavior:"+a.behaviorsIE.join(" ")+";"}t+="}\r\n"}}return t},scriptpath:A.polyfilter_scriptpath?A.polyfilter_scriptpath:(alert('Please configure the polyfill\'s absolute(!) script path before referencing the css-filters-polyfill.js, like so:\r\nvar polyfilter_scriptpath = "/js/css-filters-polyfill/";'),"./"),process:function(){if(A.Worker){var e=new Worker(this.scriptpath+"css-filters-polyfill-parser.js");e.addEventListener("message",function(e){P.create(e.data.content,e.data.media)},!1)}else var t=new s;for(var n=0;n<this._stylesheets.length;n++)if(A.Worker)e.postMessage(this._stylesheets[n]);else{var r=t.parse(this._stylesheets[n].content,!1,!0);this.create(r,this._stylesheets[n].media)}},create:function(e,t){var n="";if(null!==e)for(var r in e.cssRules){var i=e.cssRules[r];switch(i.type){default:break;case 1:n+=this._processDeclarations(i);break;case 4:for(var o in n+="@media "+i.media.join(",")+"{",i.cssRules){var s=i.cssRules[o];n+=this._processDeclarations(s)}n+="}"}}var a=document.createElement("style");a.setAttribute("media",t),"undefined"==typeof P._ie?(a.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(a)):(document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet.cssText=n)},init:function(){Object.defineProperty&&Object.defineProperty(CSSStyleDeclaration.prototype,"polyfilter",{get:function(){return this.polyfilterStore},set:function(e){values=e.split(/\)\s+/);var t={filtersW3C:[],filtersWebKit:[],filtersSVG:[],filtersIE:[],behaviorsIE:[]};for(idx in values){var n=values[idx]+")";for(key in currentproperties=P.convert(n),currentproperties)"undefined"!=typeof t[key]&&(t[key]=t[key].concat(currentproperties[key]))}if(0<t.filtersW3C.length&&("undefined"==typeof P._ie&&(this.msFilter=t.filtersW3C.join(" ")),this.webkitFilter=this.mozFilter=this.oFilter=t.filtersW3C.join(" ")),0<t.filtersWebKit.length&&(this.webkitFilter=t.filtersWebKit.join(" ")),0<t.filtersSVG.length)if("none"!=t.filtersSVG[0]){var r,i=e.replace(/[^a-z0-9]/g,"");if("undefined"==typeof P._svg_cache[i])if(P._svg_cache[i]=P._create_svg(i,t.filtersSVG),"undefined"==typeof XMLSerializer)document.body.appendChild(P._svg_cache[i]);else-1!=(r=(new XMLSerializer).serializeToString(P._svg_cache[i])).search("SourceGraphic")&&document.body.appendChild(P._svg_cache[i]);if("undefined"==typeof XMLSerializer)this.filter="url(#"+i+")";else-1!=(r=(new XMLSerializer).serializeToString(P._svg_cache[i])).search("SourceGraphic")?this.filter="url(#"+i+")":this.filter="url('data:image/svg+xml;utf8,"+r+"#"+i+"')"}else this.filter="none";"undefined"!=typeof P._ie&&(0<t.filtersIE.length?this.filter=t.filtersIE.join(" "):this.filter="",0<t.behaviorsIE.length?this.behavior=t.behaviorsIE.join(" "):this.behavior=""),this.polyfilterStore=e}})},convert:function(e){var t;if(null!==(t=e.match(/none/i)))var n=this.filters.none();if(null!==(t=e.match(/(grayscale)\(([0-9\.]+)\)/i))){var r=parseFloat(t[2],10);n=this.filters.grayscale(r)}if(null!==(t=e.match(/(sepia)\(([0-9\.]+)\)/i)))r=parseFloat(t[2],10),n=this.filters.sepia(r);if(null!==(t=e.match(/(blur)\(([0-9]+)[px]*\)/i)))r=parseInt(t[2],10),n=this.filters.blur(r);if(null!==(t=e.match(/(invert)\(([0-9\.]+)\)/i)))r=parseFloat(t[2],10),n=this.filters.invert(r);if(null!==(t=e.match(/(brightness)\(([0-9\.]+)%\)/i)))r=parseFloat(t[2],10),n=this.filters.brightness(r);if(null!==(t=e.match(/(saturate)\(([0-9\.]+)%\)/i)))r=parseFloat(t[2],10),n=this.filters.saturate(r);if(null!==(t=e.match(/(hue-rotate)\(([0-9\.]+)deg\)/i)))r=parseFloat(t[2],10),n=this.filters.hueRotate(r);if(null!==(t=e.match(/(drop\-shadow)\(([0-9]+)[px]*\s+([0-9]+)[px]*\s+([0-9]+)[px]*\s+([#0-9]+)\)/i))){var i=parseInt(t[2],10),o=parseInt(t[3],10),s=parseInt(t[4],10),a=t[5];n=this.filters.dropShadow(i,o,s,a)}return n},filters:{none:function(){var e={};return"undefined"==typeof P._ie?(e.filtersW3C=["none"],e.filtersSVG=["none"]):e.filtersIE=["none"],e},grayscale:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["grayscale("+e+")"];var n=P._create_svg_element("feColorMatrix",{type:"matrix",values:.2126+.7874*(1-e)+" "+(.7152-.7152*(1-e))+" "+(.0722-.0722*(1-e))+" 0 0 "+(.2126-.2126*(1-e))+" "+(.7152+.2848*(1-e))+" "+(.0722-.0722*(1-e))+" 0 0 "+(.2126-.2126*(1-e))+" "+(.7152-.7152*(1-e))+" "+(.0722+.9278*(1-e))+" 0 0 0 0 0 1 0"});t.filtersSVG=[n]}else t.filtersIE=.5<=e?["gray"]:[];return t},sepia:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["sepia("+e+")"];var n=P._create_svg_element("feColorMatrix",{type:"matrix",values:.393+.607*(1-e)+" "+(.769-.769*(1-e))+" "+(.189-.189*(1-e))+" 0 0 "+(.349-.349*(1-e))+" "+(.686+.314*(1-e))+" "+(.168-.168*(1-e))+" 0 0 "+(.272-.272*(1-e))+" "+(.534-.534*(1-e))+" "+(.131+.869*(1-e))+" 0 0 0 0 0 1 0"});t.filtersSVG=[n]}else t.filtersIE=.5<=e?["gray","progid:DXImageTransform.Microsoft.Light()"]:[],t.behaviorsIE=.5<=e?['url("'+P.scriptpath+'htc/sepia.htc")']:[];return t},blur:function(e){e=Math.round(e)||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["blur("+e+"px)"];var n=P._create_svg_element("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:e});t.filtersSVG=[n]}else t.filtersIE=["progid:DXImageTransform.Microsoft.Blur(pixelradius="+e+")"];return t},invert:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["invert("+e+")"];var n=P._create_svg_element("feComponentTransfer",{"color-interpolation-filters":"sRGB"}),r=P._create_svg_element("feFuncR",{type:"table",tableValues:e+" "+(1-e)});n.appendChild(r);r=P._create_svg_element("feFuncG",{type:"table",tableValues:e+" "+(1-e)});n.appendChild(r);r=P._create_svg_element("feFuncB",{type:"table",tableValues:e+" "+(1-e)});n.appendChild(r),t.filtersSVG=[n]}else t.filtersIE=.5<=e?["invert"]:[];return t},brightness:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["brightness("+e+"%)"];var n=P._create_svg_element("feComponentTransfer",{"color-interpolation-filters":"sRGB"}),r=P._create_svg_element("feFuncR",{type:"linear",slope:e/100});n.appendChild(r);r=P._create_svg_element("feFuncG",{type:"linear",slope:e/100});n.appendChild(r);r=P._create_svg_element("feFuncB",{type:"linear",slope:e/100});n.appendChild(r),t.filtersSVG=[n]}else t.filtersIE=["progid:DXImageTransform.Microsoft.Light()"],t.behaviorsIE=['url("'+P.scriptpath+'htc/brightness.htc")'];return t},saturate:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["saturate("+e+"%)"];var n=P._create_svg_element("feColorMatrix",{type:"saturate",values:e/100});t.filtersSVG=[n]}return t},hueRotate:function(e){e=e||0;var t={};if("undefined"==typeof P._ie){t.filtersW3C=["hue-rotate("+e+"deg)"];var n=P._create_svg_element("feColorMatrix",{type:"hueRotate",values:e});t.filtersSVG=[n]}return t},dropShadow:function(e,t,n,r){e=Math.round(e)||0,t=Math.round(t)||0,n=Math.round(n)||0,r=r||"#000000";var i={};if("undefined"==typeof P._ie){i.filtersW3C=["drop-shadow("+e+"px "+t+"px "+n+"px "+r+")"];var o=P._create_svg_element("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:n}),s=P._create_svg_element("feOffset",{dx:e+1,dy:t+1,result:"offsetblur"}),a=P._create_svg_element("feFlood",{"flood-color":r}),l=P._create_svg_element("feComposite",{in2:"offsetblur",operator:"in"}),c=P._create_svg_element("feMerge",{}),u=P._create_svg_element("feMergeNode",{});c.appendChild(u);u=P._create_svg_element("feMergeNode",{"in":"SourceGraphic"});c.appendChild(u),i.filtersSVG=[o,s,a,l,c]}else i.filtersIE=["progid:DXImageTransform.Microsoft.Glow(color="+r+",strength=0)","progid:DXImageTransform.Microsoft.Shadow(color="+r+",strength=0)"],i.behaviorsIE=['url("'+P.scriptpath+'htc/drop-shadow.htc")'];return i}}},A.jQuery?A.jQuery(document).ready(function(e){P.process_stylesheets()}):A.contentLoaded?contentLoaded(A,function(){P.process_stylesheets()}):A.addEventListener?document.addEventListener("DOMContentLoaded",function(){P.process_stylesheets()},!1):A.attachEvent&&A.attachEvent("onload",function(){P.process_stylesheets()}),P.init()}if(window.browser){var patches={patchWebSockets:patchWebSockets,patchHistory:patchHistory,patchWebPerformance:patchWebPerformance,patchTransform:patchTransform,patchPlaceholder:patchPlaceholder,patchBlob:patchBlob,patchBase64:patchBase64,patchTypedArray:patchTypedArray,patchWorker:patchWorker,patchConsole:patchConsole,patchPageVisibility:patchPageVisibility,patchRequestAnimationFrame:patchRequestAnimationFrame,patchProgress:patchProgress,patchRangeSelection:patchRangeSelection,patchCSS3Filter:patchCSS3Filter};window.browser.isIE&&9===window.browser.version&&(patches.patchCSS3=patchCSS3),window.browser.addPatches(patches)}patchHTML5(),patchBlob(),patchConsole()}(this,this.document);